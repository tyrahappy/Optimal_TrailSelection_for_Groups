{"ast":null,"code":"var _jsxFileName = \"/Users/JINGSI/2024-NEU/CS5800_Algo/Optimal_TrailSelection_for_Groups/frontend/src/InteractiveTrailSelector.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Search, Filter, MapPin, Clock, Mountain, Star, Users, Eye, Zap, TrendingUp, AlertCircle, RefreshCw, Heart, Activity, Award, ChevronDown, X, Plus } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst InteractiveTrailSelector = () => {\n  _s();\n  const [trails, setTrails] = useState([]);\n  const [filteredTrails, setFilteredTrails] = useState([]);\n  const [selectedTrails, setSelectedTrails] = useState([]);\n  const [recommendations, setRecommendations] = useState([]);\n  const [recommendationMetrics, setRecommendationMetrics] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [dataLoading, setDataLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [connectionStatus, setConnectionStatus] = useState('connected');\n  const [groupMembers, setGroupMembers] = useState([{\n    name: \"Alice\",\n    preferences: [\"mountain\", \"lake\", \"waterfall\"]\n  }, {\n    name: \"Bob\",\n    preferences: [\"ocean\", \"beach\", \"lake\"]\n  }, {\n    name: \"Carol\",\n    preferences: [\"forest\", \"waterfall\", \"lake\"]\n  }]);\n  const [filters, setFilters] = useState({\n    difficulty: '',\n    maxDistance: '',\n    maxTime: '',\n    maxElevation: '',\n    trailType: '',\n    sceneryTypes: [],\n    minRating: ''\n  });\n  const [searchTerm, setSearchTerm] = useState('');\n  const [showFilters, setShowFilters] = useState(false);\n  const [showRecommendations, setShowRecommendations] = useState(false);\n\n  // ä»ŽåŽç«¯åŠ è½½æ­¥é“æ•°æ®\n  useEffect(() => {\n    const loadTrails = async () => {\n      setDataLoading(true);\n      setError(null);\n      try {\n        const response = await fetch('http://localhost:3001/api/trails');\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const data = await response.json();\n\n        // å¤„ç†æ•°æ®æ ¼å¼ï¼Œç¡®ä¿ scenery_types æ˜¯æ•°ç»„\n        const processedData = data.map(trail => ({\n          ...trail,\n          distance_km: parseFloat(trail.distance_km),\n          estimated_time_hours: parseFloat(trail.estimated_time_hours),\n          elevation_gain_m: parseInt(trail.elevation_gain_m),\n          rating: parseFloat(trail.rating),\n          scenery_types: Array.isArray(trail.scenery_types) ? trail.scenery_types : typeof trail.scenery_types === 'string' ? trail.scenery_types.split(',').map(s => s.trim()) : []\n        }));\n        setTrails(processedData);\n        setFilteredTrails(processedData);\n        console.log(`âœ… æˆåŠŸåŠ è½½ ${processedData.length} æ¡æ­¥é“æ•°æ®`);\n      } catch (err) {\n        console.error('Error loading trails:', err);\n        setError(`Failed to load trails: ${err.message}`);\n      } finally {\n        setDataLoading(false);\n      }\n    };\n    loadTrails();\n  }, []);\n\n  // Get all unique scenery types\n  const getAllSceneryTypes = () => {\n    const allTypes = trails.flatMap(trail => trail.scenery_types);\n    return [...new Set(allTypes)];\n  };\n\n  // Apply filter conditions\n  useEffect(() => {\n    let filtered = trails.filter(trail => {\n      if (searchTerm && !trail.trail_name.toLowerCase().includes(searchTerm.toLowerCase()) && !trail.location.toLowerCase().includes(searchTerm.toLowerCase())) {\n        return false;\n      }\n      if (filters.difficulty && trail.difficulty !== filters.difficulty) {\n        return false;\n      }\n      if (filters.maxDistance && trail.distance_km > parseFloat(filters.maxDistance)) {\n        return false;\n      }\n      if (filters.maxTime && trail.estimated_time_hours > parseFloat(filters.maxTime)) {\n        return false;\n      }\n      if (filters.maxElevation && trail.elevation_gain_m > parseInt(filters.maxElevation)) {\n        return false;\n      }\n      if (filters.trailType && trail.trail_type !== filters.trailType) {\n        return false;\n      }\n      if (filters.sceneryTypes.length > 0) {\n        const hasMatchingScenery = filters.sceneryTypes.some(selectedType => trail.scenery_types.some(trailType => trailType.includes(selectedType)));\n        if (!hasMatchingScenery) {\n          return false;\n        }\n      }\n      if (filters.minRating && trail.rating < parseFloat(filters.minRating)) {\n        return false;\n      }\n      return true;\n    });\n    setFilteredTrails(filtered);\n  }, [trails, filters, searchTerm]);\n  const handleFilterChange = (key, value) => {\n    const newFilters = {\n      ...filters,\n      [key]: value\n    };\n    setFilters(newFilters);\n\n    // å½“è¿‡æ»¤å™¨å˜åŒ–æ—¶ï¼Œè‡ªåŠ¨è§¦å‘æŽ¨èç®—æ³•\n    const hasActiveFilters = Object.keys(newFilters).some(k => {\n      if (k === 'sceneryTypes') {\n        return newFilters[k] && newFilters[k].length > 0;\n      }\n      return newFilters[k] !== '' && newFilters[k] !== null && newFilters[k] !== undefined;\n    });\n    if (hasActiveFilters) {\n      // å»¶è¿Ÿä¸€ç‚¹æ‰§è¡Œï¼Œé¿å…é¢‘ç¹è°ƒç”¨\n      setTimeout(() => {\n        getRecommendations();\n      }, 300);\n    } else {\n      // å¦‚æžœæ‰€æœ‰è¿‡æ»¤å™¨éƒ½æ¸…ç©ºäº†ï¼Œéšè—æŽ¨èç»“æžœ\n      setShowRecommendations(false);\n      setRecommendations([]);\n    }\n  };\n  const handleSceneryTypeToggle = sceneryType => {\n    setFilters(prev => {\n      const newSceneryTypes = prev.sceneryTypes.includes(sceneryType) ? prev.sceneryTypes.filter(type => type !== sceneryType) : [...prev.sceneryTypes, sceneryType];\n      const newFilters = {\n        ...prev,\n        sceneryTypes: newSceneryTypes\n      };\n\n      // å½“scenery typeså˜åŒ–æ—¶ï¼Œè‡ªåŠ¨è§¦å‘æŽ¨èç®—æ³•\n      if (newSceneryTypes.length > 0) {\n        setTimeout(() => {\n          getRecommendations();\n        }, 300);\n      } else {\n        // å¦‚æžœæ²¡æœ‰é€‰æ‹©ä»»ä½•scenery typeï¼Œæ£€æŸ¥å…¶ä»–è¿‡æ»¤å™¨\n        const hasOtherFilters = Object.keys(newFilters).some(k => {\n          if (k === 'sceneryTypes') return false;\n          return newFilters[k] !== '' && newFilters[k] !== null && newFilters[k] !== undefined;\n        });\n        if (!hasOtherFilters) {\n          setShowRecommendations(false);\n          setRecommendations([]);\n        } else {\n          setTimeout(() => {\n            getRecommendations();\n          }, 300);\n        }\n      }\n      return newFilters;\n    });\n  };\n  const handleTrailSelect = trail => {\n    if (selectedTrails.find(t => t.trail_id === trail.trail_id)) {\n      setSelectedTrails(prev => prev.filter(t => t.trail_id !== trail.trail_id));\n    } else {\n      setSelectedTrails(prev => [...prev, trail]);\n    }\n  };\n  const calculateGroupMatch = trail => {\n    let matchCount = 0;\n    groupMembers.forEach(member => {\n      const memberMatch = member.preferences.some(pref => trail.scenery_types.some(scenery => scenery.toLowerCase().includes(pref.toLowerCase())));\n      if (memberMatch) matchCount++;\n    });\n    return matchCount / groupMembers.length * 100;\n  };\n\n  // ç®—æ³•å®žçŽ°å‡½æ•°\n  const calculateMemberUtility = (trail, member) => {\n    let utility = 0;\n\n    // åŸºç¡€è¯„åˆ† (0-1 scale)\n    utility += trail.rating / 5.0;\n\n    // åå¥½åŒ¹é…å¥–åŠ±\n    const preferenceMatches = member.preferences.filter(pref => trail.scenery_types.some(scenery => scenery.toLowerCase().includes(pref.toLowerCase())));\n    if (preferenceMatches.length > 0) {\n      utility += preferenceMatches.length / member.preferences.length * 0.5;\n    }\n\n    // éš¾åº¦åå¥½\n    const difficultyScore = {\n      'Easy': 0.8,\n      'Moderate': 1.0,\n      'Hard': 0.6\n    };\n    utility += (difficultyScore[trail.difficulty] || 0.8) * 0.2;\n    return Math.min(utility, 1.0);\n  };\n  const calculateTrailSimilarity = (trail1, trail2) => {\n    let similarity = 0;\n\n    // æ™¯è§‚ç±»åž‹ç›¸ä¼¼æ€§\n    const scenery1 = new Set(trail1.scenery_types);\n    const scenery2 = new Set(trail2.scenery_types);\n    const intersection = new Set([...scenery1].filter(x => scenery2.has(x)));\n    const union = new Set([...scenery1, ...scenery2]);\n    const scenerySimilarity = intersection.size / union.size;\n\n    // éš¾åº¦ç›¸ä¼¼æ€§\n    const difficultySimilarity = trail1.difficulty === trail2.difficulty ? 1 : 0;\n\n    // è·ç¦»ç›¸ä¼¼æ€§\n    const maxDistance = Math.max(trail1.distance_km, trail2.distance_km);\n    const distanceSimilarity = 1 - Math.abs(trail1.distance_km - trail2.distance_km) / maxDistance;\n\n    // ä½ç½®ç›¸ä¼¼æ€§\n    const locationSimilarity = trail1.location === trail2.location ? 1 : 0;\n    similarity = scenerySimilarity * 0.4 + difficultySimilarity * 0.2 + distanceSimilarity * 0.2 + locationSimilarity * 0.2;\n    return similarity;\n  };\n  const calculateDiversity = trails => {\n    if (trails.length <= 1) return 1.0;\n    let totalSimilarity = 0;\n    let comparisons = 0;\n    for (let i = 0; i < trails.length; i++) {\n      for (let j = i + 1; j < trails.length; j++) {\n        const similarity = calculateTrailSimilarity(trails[i], trails[j]);\n        totalSimilarity += similarity;\n        comparisons++;\n      }\n    }\n    return 1 - totalSimilarity / comparisons;\n  };\n  const calculateRegret = (selectedTrails, allTrails, groupPreferences) => {\n    let maxRegret = 0;\n    groupPreferences.forEach(member => {\n      const selectedUtility = selectedTrails.reduce((sum, trail) => {\n        return sum + calculateMemberUtility(trail, member);\n      }, 0);\n      const memberUtilities = allTrails.map(trail => ({\n        trail,\n        utility: calculateMemberUtility(trail, member)\n      })).sort((a, b) => b.utility - a.utility);\n      const bestUtility = memberUtilities.slice(0, selectedTrails.length).reduce((sum, item) => sum + item.utility, 0);\n      const memberRegret = bestUtility - selectedUtility;\n      maxRegret = Math.max(maxRegret, memberRegret);\n    });\n    return maxRegret;\n  };\n  const greedyMinMaxRegret = (trails, groupPreferences, k = 5) => {\n    const selectedTrails = [];\n    const availableTrails = [...trails];\n    const diversityWeight = 0.3;\n    const regretWeight = 0.7;\n    for (let i = 0; i < k && availableTrails.length > 0; i++) {\n      let bestTrail = null;\n      let bestScore = -Infinity;\n      for (let j = 0; j < availableTrails.length; j++) {\n        const candidateTrail = availableTrails[j];\n        const candidateSelection = [...selectedTrails, candidateTrail];\n        const regretScore = calculateRegret(candidateSelection, trails, groupPreferences);\n        const normalizedRegret = 1 - regretScore / (groupPreferences.length * k);\n        const diversityScore = calculateDiversity(candidateSelection);\n        const combinedScore = regretWeight * normalizedRegret + diversityWeight * diversityScore;\n        if (combinedScore > bestScore) {\n          bestScore = combinedScore;\n          bestTrail = candidateTrail;\n        }\n      }\n      if (bestTrail) {\n        selectedTrails.push(bestTrail);\n        const index = availableTrails.findIndex(t => t.trail_id === bestTrail.trail_id);\n        if (index > -1) {\n          availableTrails.splice(index, 1);\n        }\n      }\n    }\n    return selectedTrails;\n  };\n  const calculateRecommendationMetrics = (selectedTrails, groupMembers) => {\n    if (selectedTrails.length === 0) {\n      return {\n        averageRating: 0,\n        averageDistance: 0,\n        averageTime: 0,\n        averageElevation: 0,\n        diversityScore: 0,\n        regretScore: 0,\n        groupMatchPercentages: groupMembers.map(() => 0)\n      };\n    }\n    const metrics = {\n      averageRating: selectedTrails.reduce((sum, t) => sum + t.rating, 0) / selectedTrails.length,\n      averageDistance: selectedTrails.reduce((sum, t) => sum + t.distance_km, 0) / selectedTrails.length,\n      averageTime: selectedTrails.reduce((sum, t) => sum + t.estimated_time_hours, 0) / selectedTrails.length,\n      averageElevation: selectedTrails.reduce((sum, t) => sum + t.elevation_gain_m, 0) / selectedTrails.length,\n      diversityScore: calculateDiversity(selectedTrails),\n      regretScore: calculateRegret(selectedTrails, selectedTrails, groupMembers),\n      groupMatchPercentages: groupMembers.map(member => {\n        const matchingTrails = selectedTrails.filter(trail => member.preferences.some(pref => trail.scenery_types.some(scenery => scenery.toLowerCase().includes(pref.toLowerCase()))));\n        return Math.round(matchingTrails.length / selectedTrails.length * 100);\n      })\n    };\n    return metrics;\n  };\n\n  // æŽ¨èå‡½æ•°\n  const getRecommendations = async () => {\n    setLoading(true);\n    setError(null);\n    console.log('ðŸš€ å¼€å§‹èŽ·å–æŽ¨è...');\n    console.log('ðŸ“Š å½“å‰è¿‡æ»¤å™¨:', filters);\n    console.log('ðŸ‘¥ ç¾¤ä½“æˆå‘˜:', groupMembers);\n    try {\n      // è°ƒç”¨åŽç«¯æŽ¨è API\n      console.log('ðŸ“¡ è°ƒç”¨åŽç«¯API...');\n      const response = await fetch('http://localhost:3001/api/trails/recommend', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          groupPreferences: groupMembers,\n          filters: filters,\n          k: 5\n        })\n      });\n      console.log('ðŸ“¡ APIå“åº”çŠ¶æ€:', response.status);\n      if (!response.ok) {\n        const errorText = await response.text();\n        console.error('âŒ APIé”™è¯¯:', errorText);\n        throw new Error(`æŽ¨èè¯·æ±‚å¤±è´¥: ${response.status} - ${errorText}`);\n      }\n      const data = await response.json();\n      console.log('âœ… æ”¶åˆ°æŽ¨èæ•°æ®:', data);\n\n      // ä¸ºæŽ¨èçš„æ­¥é“æ·»åŠ ç¾¤ä½“åŒ¹é…ä¿¡æ¯\n      const recommendationsWithGroupMatch = data.recommendations.map(trail => ({\n        ...trail,\n        groupMatchPercentage: calculateGroupMatch(trail)\n      }));\n      console.log('ðŸ“‹ å¤„ç†åŽçš„æŽ¨è:', recommendationsWithGroupMatch);\n      setRecommendations(recommendationsWithGroupMatch);\n      setRecommendationMetrics(data.metrics);\n      setShowRecommendations(true);\n      console.log('âœ… æŽ¨èç®—æ³•å®Œæˆ:', {\n        algorithm: data.algorithm,\n        totalCandidates: data.totalCandidates,\n        recommendationsCount: data.recommendations.length,\n        showRecommendations: true\n      });\n    } catch (error) {\n      console.error('âŒ æŽ¨èç®—æ³•é”™è¯¯:', error);\n      setError(`æŽ¨èå¤±è´¥: ${error.message}`);\n\n      // å¦‚æžœåŽç«¯è°ƒç”¨å¤±è´¥ï¼Œå›žé€€åˆ°å‰ç«¯ç®—æ³•\n      console.log('ðŸ”„ å›žé€€åˆ°å‰ç«¯ç®—æ³•...');\n      let candidateTrails = trails.filter(trail => {\n        if (filters.difficulty && trail.difficulty !== filters.difficulty) {\n          return false;\n        }\n        if (filters.maxDistance && trail.distance_km > parseFloat(filters.maxDistance)) {\n          return false;\n        }\n        if (filters.maxTime && trail.estimated_time_hours > parseFloat(filters.maxTime)) {\n          return false;\n        }\n        if (filters.maxElevation && trail.elevation_gain_m > parseInt(filters.maxElevation)) {\n          return false;\n        }\n        if (filters.trailType && trail.trail_type !== filters.trailType) {\n          return false;\n        }\n        if (filters.sceneryTypes.length > 0) {\n          const hasMatchingScenery = filters.sceneryTypes.some(selectedType => trail.scenery_types.some(trailType => trailType.includes(selectedType)));\n          if (!hasMatchingScenery) {\n            return false;\n          }\n        }\n        if (filters.minRating && trail.rating < parseFloat(filters.minRating)) {\n          return false;\n        }\n        return true;\n      });\n      console.log('ðŸ” å€™é€‰æ­¥é“æ•°é‡:', candidateTrails.length);\n\n      // è¿è¡Œå‰ç«¯ Greedy MinMax Regret ç®—æ³•\n      const recommendedTrails = greedyMinMaxRegret(candidateTrails, groupMembers, 5);\n      console.log('ðŸŽ¯ å‰ç«¯ç®—æ³•æŽ¨èç»“æžœ:', recommendedTrails);\n\n      // è®¡ç®—æŒ‡æ ‡\n      const metrics = calculateRecommendationMetrics(recommendedTrails, groupMembers);\n\n      // ä¸ºæŽ¨èçš„æ­¥é“æ·»åŠ é¢å¤–ä¿¡æ¯\n      const recommendationsWithMetrics = recommendedTrails.map(trail => ({\n        ...trail,\n        groupMatchPercentage: calculateGroupMatch(trail),\n        averageMemberUtility: groupMembers.reduce((sum, member) => sum + calculateMemberUtility(trail, member), 0) / groupMembers.length\n      }));\n      setRecommendations(recommendationsWithMetrics);\n      setRecommendationMetrics(metrics);\n      setShowRecommendations(true);\n      console.log('âœ… å‰ç«¯ç®—æ³•å®Œæˆï¼ŒæŽ¨èæ•°é‡:', recommendationsWithMetrics.length);\n    } finally {\n      setLoading(false);\n      console.log('ðŸ æŽ¨èæµç¨‹å®Œæˆ');\n    }\n  };\n  const clearFilters = () => {\n    setFilters({\n      difficulty: '',\n      maxDistance: '',\n      maxTime: '',\n      maxElevation: '',\n      trailType: '',\n      sceneryTypes: [],\n      minRating: ''\n    });\n    setSearchTerm('');\n  };\n  if (dataLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-20 h-20 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center mb-6 mx-auto shadow-lg\",\n            children: /*#__PURE__*/_jsxDEV(Mountain, {\n              className: \"text-white animate-pulse\",\n              size: 40\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 527,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(RefreshCw, {\n            className: \"absolute -top-2 -right-2 animate-spin text-blue-600\",\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 529,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 525,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-800 mb-2\",\n          children: \"Loading Trail Data...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Connecting to backend and loading trails\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 524,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 523,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-6xl mx-auto p-6\",\n      children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gradient-to-r from-red-50 to-pink-50 border border-red-100 rounded-2xl p-6 mb-8 shadow-sm\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(AlertCircle, {\n                className: \"text-red-500\",\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 547,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 546,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-semibold text-red-800\",\n                children: \"Connection Issue\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 550,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-red-600\",\n                children: error\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 551,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 549,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 545,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors shadow-sm\",\n            children: \"Retry\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 544,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 543,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-700 rounded-3xl shadow-2xl p-8 mb-8 text-white overflow-hidden relative\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute inset-0 bg-black/10\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 563,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative z-10\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-4 mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-16 h-16 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(Mountain, {\n                className: \"text-white\",\n                size: 32\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 567,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 566,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-4xl font-bold mb-2\",\n                children: \"Trail Explorer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 570,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-blue-100 text-lg\",\n                children: \"Discover your perfect hiking adventure with AI-powered recommendations\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 571,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 569,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 565,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 564,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute -top-10 -right-10 w-32 h-32 bg-white/10 rounded-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 576,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute -bottom-6 -left-6 w-24 h-24 bg-white/5 rounded-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 577,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 562,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(Eye, {\n                className: \"text-blue-600\",\n                size: 24\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 585,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 584,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-gray-800\",\n                children: filteredTrails.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 588,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Available Trails\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 589,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 587,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 583,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 582,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(Heart, {\n                className: \"text-green-600\",\n                size: 24\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 597,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 596,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-gray-800\",\n                children: selectedTrails.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 600,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Selected Trails\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 601,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 599,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 595,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 594,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(Users, {\n                className: \"text-purple-600\",\n                size: 24\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 609,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 608,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-gray-800\",\n                children: groupMembers.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 612,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Group Members\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 613,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 611,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 607,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 606,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-12 h-12 bg-yellow-100 rounded-xl flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(Star, {\n                className: \"text-yellow-600\",\n                size: 24\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 621,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 620,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-bold text-gray-800\",\n                children: \"4.6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 624,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Avg Rating\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 625,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 623,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 619,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 618,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 581,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-8 mb-8 border border-white/20\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center\",\n            children: /*#__PURE__*/_jsxDEV(Users, {\n              className: \"text-white\",\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 635,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 634,\n            columnNumber: 13\n          }, this), \"Group Preferences\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 633,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-3 gap-6\",\n          children: groupMembers.map((member, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-6 border border-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-3 mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold ${index === 0 ? 'bg-gradient-to-r from-pink-500 to-rose-500' : index === 1 ? 'bg-gradient-to-r from-blue-500 to-cyan-500' : 'bg-gradient-to-r from-green-500 to-emerald-500'}`,\n                children: member.name.charAt(0)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 643,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-semibold text-gray-800 text-lg\",\n                children: member.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 650,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 642,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-2\",\n              children: member.preferences.map((pref, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"px-3 py-1 bg-white/70 backdrop-blur-sm text-gray-700 rounded-full text-sm font-medium border border-gray-200 shadow-sm\",\n                children: pref\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 654,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 652,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 641,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 639,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 632,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-8 mb-8 border border-white/20\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: [/*#__PURE__*/_jsxDEV(Search, {\n              className: \"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400\",\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 669,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Search trails by name or location...\",\n              className: \"w-full pl-12 pr-4 py-4 bg-white/90 backdrop-blur-sm border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm text-gray-800 placeholder-gray-500\",\n              value: searchTerm,\n              onChange: e => setSearchTerm(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 670,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 668,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowFilters(!showFilters),\n              className: \"bg-gradient-to-r from-blue-500 to-blue-600 text-white py-4 px-6 rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all duration-200 flex items-center justify-center gap-3 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5\",\n              children: [/*#__PURE__*/_jsxDEV(Filter, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 685,\n                columnNumber: 17\n              }, this), showFilters ? 'Hide Filters' : 'Show Filters', /*#__PURE__*/_jsxDEV(ChevronDown, {\n                className: `transition-transform duration-200 ${showFilters ? 'rotate-180' : ''}`,\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 687,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 681,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: getRecommendations,\n              disabled: loading,\n              className: \"bg-gradient-to-r from-green-500 to-green-600 text-white py-4 px-6 rounded-xl hover:from-green-600 hover:to-green-700 transition-all duration-200 flex items-center justify-center gap-3 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\",\n              children: [loading ? /*#__PURE__*/_jsxDEV(RefreshCw, {\n                className: \"animate-spin\",\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 696,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(Zap, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 698,\n                columnNumber: 19\n              }, this), loading ? 'Getting Recommendations...' : 'AI Recommendations']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 690,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: clearFilters,\n              className: \"bg-gradient-to-r from-gray-500 to-gray-600 text-white py-4 px-6 rounded-xl hover:from-gray-600 hover:to-gray-700 transition-all duration-200 flex items-center justify-center gap-3 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5\",\n              children: [/*#__PURE__*/_jsxDEV(X, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 707,\n                columnNumber: 17\n              }, this), \"Clear Filters\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 703,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 680,\n            columnNumber: 13\n          }, this), showFilters && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gradient-to-br from-gray-50 to-white rounded-xl p-6 border border-gray-200 shadow-inner\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-semibold text-gray-700 mb-2\",\n                  children: \"Difficulty\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 717,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: filters.difficulty,\n                  onChange: e => handleFilterChange('difficulty', e.target.value),\n                  className: \"w-full p-3 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"All Difficulties\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 723,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Easy\",\n                    children: \"Easy\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 724,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Moderate\",\n                    children: \"Moderate\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 725,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Hard\",\n                    children: \"Hard\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 726,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 718,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 716,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-semibold text-gray-700 mb-2\",\n                  children: \"Max Distance (km)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 731,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  value: filters.maxDistance,\n                  onChange: e => handleFilterChange('maxDistance', e.target.value),\n                  className: \"w-full p-3 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm\",\n                  placeholder: \"e.g. 10\",\n                  min: \"0\",\n                  step: \"0.1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 732,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 730,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-semibold text-gray-700 mb-2\",\n                  children: \"Max Time (hours)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 744,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  value: filters.maxTime,\n                  onChange: e => handleFilterChange('maxTime', e.target.value),\n                  className: \"w-full p-3 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm\",\n                  placeholder: \"e.g. 4\",\n                  min: \"0\",\n                  step: \"0.1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 745,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 743,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-semibold text-gray-700 mb-2\",\n                  children: \"Min Rating\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 757,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: filters.minRating,\n                  onChange: e => handleFilterChange('minRating', e.target.value),\n                  className: \"w-full p-3 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Any Rating\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 763,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"4.0\",\n                    children: \"4.0+\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 764,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"4.2\",\n                    children: \"4.2+\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 765,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"4.4\",\n                    children: \"4.4+\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 766,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"4.6\",\n                    children: \"4.6+\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 767,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 758,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 756,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 715,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-semibold text-gray-700 mb-3\",\n                children: \"Scenery Features\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 774,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-wrap gap-2\",\n                children: getAllSceneryTypes().map((sceneryType, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleSceneryTypeToggle(sceneryType),\n                  className: `px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 ${filters.sceneryTypes.includes(sceneryType) ? 'bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg transform scale-105' : 'bg-white text-gray-700 hover:bg-gray-50 border border-gray-200 shadow-sm hover:shadow-md'}`,\n                  children: sceneryType\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 777,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 775,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 773,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 714,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 666,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 665,\n        columnNumber: 9\n      }, this), showRecommendations && recommendations.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl shadow-lg p-8 mb-8 border border-green-100\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-600 rounded-lg flex items-center justify-center\",\n            children: /*#__PURE__*/_jsxDEV(TrendingUp, {\n              className: \"text-white\",\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 801,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 800,\n            columnNumber: 15\n          }, this), \"Recommended Trails (\", recommendations.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 799,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 lg:grid-cols-2 gap-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: recommendations.map((trail, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white/80 backdrop-blur-sm border-2 border-gray-900 rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-200\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-start mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center gap-2 mb-1\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"w-6 h-6 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-full flex items-center justify-center text-xs font-bold\",\n                        children: index + 1\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 814,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                        className: \"font-bold text-gray-800 text-lg\",\n                        children: trail.trail_name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 817,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 813,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-600 flex items-center gap-1\",\n                      children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                        size: 14\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 820,\n                        columnNumber: 29\n                      }, this), trail.location]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 819,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 812,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-1 bg-yellow-100 px-2 py-1 rounded-lg\",\n                    children: [/*#__PURE__*/_jsxDEV(Star, {\n                      className: \"text-yellow-500\",\n                      size: 16\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 825,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm font-semibold text-gray-700\",\n                      children: trail.rating\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 826,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 824,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 811,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-4 text-sm text-gray-600 mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"flex items-center gap-1\",\n                    children: [/*#__PURE__*/_jsxDEV(Activity, {\n                      size: 14\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 832,\n                      columnNumber: 27\n                    }, this), trail.difficulty]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 831,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"flex items-center gap-1\",\n                    children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                      size: 14\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 836,\n                      columnNumber: 27\n                    }, this), trail.distance_km, \"km\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 835,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"flex items-center gap-1\",\n                    children: [/*#__PURE__*/_jsxDEV(Clock, {\n                      size: 14\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 840,\n                      columnNumber: 27\n                    }, this), trail.estimated_time_hours, \"h\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 839,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 830,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex flex-wrap gap-1 mb-3\",\n                  children: trail.scenery_types.map((scenery, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium\",\n                    children: scenery\n                  }, i, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 847,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 845,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-center text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-600\",\n                    children: [\"Group Match: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-semibold text-green-600\",\n                      children: [calculateGroupMatch(trail).toFixed(0), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 855,\n                      columnNumber: 40\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 854,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-600\",\n                    children: [\"Utility: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-semibold text-blue-600\",\n                      children: [((trail.averageMemberUtility || 0.8) * 100).toFixed(0), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 858,\n                      columnNumber: 36\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 857,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 853,\n                  columnNumber: 23\n                }, this)]\n              }, trail.trail_id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 810,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 808,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 807,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-gray-800 mb-4 text-lg\",\n              children: \"Metrics\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 867,\n              columnNumber: 17\n            }, this), recommendationMetrics && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white/80 backdrop-blur-sm rounded-xl p-4 border border-blue-100\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-semibold text-blue-800 mb-3 flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Award, {\n                    size: 16\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 872,\n                    columnNumber: 25\n                  }, this), \"Statistics\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 871,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-2 text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-600\",\n                      children: \"Average Rating:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 877,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-semibold text-gray-800\",\n                      children: [recommendationMetrics.averageRating.toFixed(1), \"/5.0\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 878,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 876,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-600\",\n                      children: \"Average Distance:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 881,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-semibold text-gray-800\",\n                      children: [recommendationMetrics.averageDistance.toFixed(1), \"km\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 882,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 880,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-600\",\n                      children: \"Average Time:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 885,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-semibold text-gray-800\",\n                      children: [recommendationMetrics.averageTime.toFixed(1), \"h\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 886,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 884,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 875,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 870,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white/80 backdrop-blur-sm rounded-xl p-4 border border-purple-100\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-semibold text-purple-800 mb-3 flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Activity, {\n                    size: 16\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 893,\n                    columnNumber: 25\n                  }, this), \"Algorithm Performance\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 892,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-2 text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-600\",\n                      children: \"Diversity Score:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 898,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-semibold text-gray-800\",\n                      children: [(recommendationMetrics.diversityScore * 100).toFixed(0), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 899,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 897,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-gray-600\",\n                      children: \"Regret Score:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 902,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-semibold text-gray-800\",\n                      children: recommendationMetrics.regretScore.toFixed(2)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 903,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 901,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 896,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 891,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 869,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 866,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 806,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 798,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 540,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 539,\n    columnNumber: 5\n  }, this);\n};\n_s(InteractiveTrailSelector, \"zZIHlwd18hcZyH6ks4QSnmpchHU=\");\n_c = InteractiveTrailSelector;\nexport default InteractiveTrailSelector;\nvar _c;\n$RefreshReg$(_c, \"InteractiveTrailSelector\");","map":{"version":3,"names":["React","useState","useEffect","Search","Filter","MapPin","Clock","Mountain","Star","Users","Eye","Zap","TrendingUp","AlertCircle","RefreshCw","Heart","Activity","Award","ChevronDown","X","Plus","jsxDEV","_jsxDEV","InteractiveTrailSelector","_s","trails","setTrails","filteredTrails","setFilteredTrails","selectedTrails","setSelectedTrails","recommendations","setRecommendations","recommendationMetrics","setRecommendationMetrics","loading","setLoading","dataLoading","setDataLoading","error","setError","connectionStatus","setConnectionStatus","groupMembers","setGroupMembers","name","preferences","filters","setFilters","difficulty","maxDistance","maxTime","maxElevation","trailType","sceneryTypes","minRating","searchTerm","setSearchTerm","showFilters","setShowFilters","showRecommendations","setShowRecommendations","loadTrails","response","fetch","ok","Error","status","data","json","processedData","map","trail","distance_km","parseFloat","estimated_time_hours","elevation_gain_m","parseInt","rating","scenery_types","Array","isArray","split","s","trim","console","log","length","err","message","getAllSceneryTypes","allTypes","flatMap","Set","filtered","filter","trail_name","toLowerCase","includes","location","trail_type","hasMatchingScenery","some","selectedType","handleFilterChange","key","value","newFilters","hasActiveFilters","Object","keys","k","undefined","setTimeout","getRecommendations","handleSceneryTypeToggle","sceneryType","prev","newSceneryTypes","type","hasOtherFilters","handleTrailSelect","find","t","trail_id","calculateGroupMatch","matchCount","forEach","member","memberMatch","pref","scenery","calculateMemberUtility","utility","preferenceMatches","difficultyScore","Math","min","calculateTrailSimilarity","trail1","trail2","similarity","scenery1","scenery2","intersection","x","has","union","scenerySimilarity","size","difficultySimilarity","max","distanceSimilarity","abs","locationSimilarity","calculateDiversity","totalSimilarity","comparisons","i","j","calculateRegret","allTrails","groupPreferences","maxRegret","selectedUtility","reduce","sum","memberUtilities","sort","a","b","bestUtility","slice","item","memberRegret","greedyMinMaxRegret","availableTrails","diversityWeight","regretWeight","bestTrail","bestScore","Infinity","candidateTrail","candidateSelection","regretScore","normalizedRegret","diversityScore","combinedScore","push","index","findIndex","splice","calculateRecommendationMetrics","averageRating","averageDistance","averageTime","averageElevation","groupMatchPercentages","metrics","matchingTrails","round","method","headers","body","JSON","stringify","errorText","text","recommendationsWithGroupMatch","groupMatchPercentage","algorithm","totalCandidates","recommendationsCount","candidateTrails","recommendedTrails","recommendationsWithMetrics","averageMemberUtility","clearFilters","className","children","fileName","_jsxFileName","lineNumber","columnNumber","charAt","placeholder","onChange","e","target","onClick","disabled","step","toFixed","_c","$RefreshReg$"],"sources":["/Users/JINGSI/2024-NEU/CS5800_Algo/Optimal_TrailSelection_for_Groups/frontend/src/InteractiveTrailSelector.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Search, Filter, MapPin, Clock, Mountain, Star, Users, Eye, Zap, TrendingUp, AlertCircle, RefreshCw, Heart, Activity, Award, ChevronDown, X, Plus } from 'lucide-react';\n\nconst InteractiveTrailSelector = () => {\n  const [trails, setTrails] = useState([]);\n  const [filteredTrails, setFilteredTrails] = useState([]);\n  const [selectedTrails, setSelectedTrails] = useState([]);\n  const [recommendations, setRecommendations] = useState([]);\n  const [recommendationMetrics, setRecommendationMetrics] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [dataLoading, setDataLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [connectionStatus, setConnectionStatus] = useState('connected');\n  \n  const [groupMembers, setGroupMembers] = useState([\n    { name: \"Alice\", preferences: [\"mountain\", \"lake\", \"waterfall\"] },\n    { name: \"Bob\", preferences: [\"ocean\", \"beach\", \"lake\"] },\n    { name: \"Carol\", preferences: [\"forest\", \"waterfall\", \"lake\"] }\n  ]);\n  \n  const [filters, setFilters] = useState({\n    difficulty: '',\n    maxDistance: '',\n    maxTime: '',\n    maxElevation: '',\n    trailType: '',\n    sceneryTypes: [],\n    minRating: ''\n  });\n  \n  const [searchTerm, setSearchTerm] = useState('');\n  const [showFilters, setShowFilters] = useState(false);\n  const [showRecommendations, setShowRecommendations] = useState(false);\n\n  // ä»ŽåŽç«¯åŠ è½½æ­¥é“æ•°æ®\n  useEffect(() => {\n    const loadTrails = async () => {\n      setDataLoading(true);\n      setError(null);\n      \n      try {\n        const response = await fetch('http://localhost:3001/api/trails');\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const data = await response.json();\n        \n        // å¤„ç†æ•°æ®æ ¼å¼ï¼Œç¡®ä¿ scenery_types æ˜¯æ•°ç»„\n        const processedData = data.map(trail => ({\n          ...trail,\n          distance_km: parseFloat(trail.distance_km),\n          estimated_time_hours: parseFloat(trail.estimated_time_hours),\n          elevation_gain_m: parseInt(trail.elevation_gain_m),\n          rating: parseFloat(trail.rating),\n          scenery_types: Array.isArray(trail.scenery_types) \n            ? trail.scenery_types \n            : (typeof trail.scenery_types === 'string' \n                ? trail.scenery_types.split(',').map(s => s.trim()) \n                : [])\n        }));\n        \n        setTrails(processedData);\n        setFilteredTrails(processedData);\n        console.log(`âœ… æˆåŠŸåŠ è½½ ${processedData.length} æ¡æ­¥é“æ•°æ®`);\n      } catch (err) {\n        console.error('Error loading trails:', err);\n        setError(`Failed to load trails: ${err.message}`);\n      } finally {\n        setDataLoading(false);\n      }\n    };\n\n    loadTrails();\n  }, []);\n\n  // Get all unique scenery types\n  const getAllSceneryTypes = () => {\n    const allTypes = trails.flatMap(trail => trail.scenery_types);\n    return [...new Set(allTypes)];\n  };\n\n  // Apply filter conditions\n  useEffect(() => {\n    let filtered = trails.filter(trail => {\n      if (searchTerm && !trail.trail_name.toLowerCase().includes(searchTerm.toLowerCase()) &&\n          !trail.location.toLowerCase().includes(searchTerm.toLowerCase())) {\n        return false;\n      }\n      \n      if (filters.difficulty && trail.difficulty !== filters.difficulty) {\n        return false;\n      }\n      \n      if (filters.maxDistance && trail.distance_km > parseFloat(filters.maxDistance)) {\n        return false;\n      }\n      \n      if (filters.maxTime && trail.estimated_time_hours > parseFloat(filters.maxTime)) {\n        return false;\n      }\n      \n      if (filters.maxElevation && trail.elevation_gain_m > parseInt(filters.maxElevation)) {\n        return false;\n      }\n      \n      if (filters.trailType && trail.trail_type !== filters.trailType) {\n        return false;\n      }\n      \n      if (filters.sceneryTypes.length > 0) {\n        const hasMatchingScenery = filters.sceneryTypes.some(selectedType =>\n          trail.scenery_types.some(trailType => trailType.includes(selectedType))\n        );\n        if (!hasMatchingScenery) {\n          return false;\n        }\n      }\n      \n      if (filters.minRating && trail.rating < parseFloat(filters.minRating)) {\n        return false;\n      }\n      \n      return true;\n    });\n    \n    setFilteredTrails(filtered);\n  }, [trails, filters, searchTerm]);\n\n  const handleFilterChange = (key, value) => {\n    const newFilters = { ...filters, [key]: value };\n    setFilters(newFilters);\n    \n    // å½“è¿‡æ»¤å™¨å˜åŒ–æ—¶ï¼Œè‡ªåŠ¨è§¦å‘æŽ¨èç®—æ³•\n    const hasActiveFilters = Object.keys(newFilters).some(k => {\n      if (k === 'sceneryTypes') {\n        return newFilters[k] && newFilters[k].length > 0;\n      }\n      return newFilters[k] !== '' && newFilters[k] !== null && newFilters[k] !== undefined;\n    });\n    \n    if (hasActiveFilters) {\n      // å»¶è¿Ÿä¸€ç‚¹æ‰§è¡Œï¼Œé¿å…é¢‘ç¹è°ƒç”¨\n      setTimeout(() => {\n        getRecommendations();\n      }, 300);\n    } else {\n      // å¦‚æžœæ‰€æœ‰è¿‡æ»¤å™¨éƒ½æ¸…ç©ºäº†ï¼Œéšè—æŽ¨èç»“æžœ\n      setShowRecommendations(false);\n      setRecommendations([]);\n    }\n  };\n\n  const handleSceneryTypeToggle = (sceneryType) => {\n    setFilters(prev => {\n      const newSceneryTypes = prev.sceneryTypes.includes(sceneryType)\n        ? prev.sceneryTypes.filter(type => type !== sceneryType)\n        : [...prev.sceneryTypes, sceneryType];\n      \n      const newFilters = { ...prev, sceneryTypes: newSceneryTypes };\n      \n      // å½“scenery typeså˜åŒ–æ—¶ï¼Œè‡ªåŠ¨è§¦å‘æŽ¨èç®—æ³•\n      if (newSceneryTypes.length > 0) {\n        setTimeout(() => {\n          getRecommendations();\n        }, 300);\n      } else {\n        // å¦‚æžœæ²¡æœ‰é€‰æ‹©ä»»ä½•scenery typeï¼Œæ£€æŸ¥å…¶ä»–è¿‡æ»¤å™¨\n        const hasOtherFilters = Object.keys(newFilters).some(k => {\n          if (k === 'sceneryTypes') return false;\n          return newFilters[k] !== '' && newFilters[k] !== null && newFilters[k] !== undefined;\n        });\n        \n        if (!hasOtherFilters) {\n          setShowRecommendations(false);\n          setRecommendations([]);\n        } else {\n          setTimeout(() => {\n            getRecommendations();\n          }, 300);\n        }\n      }\n      \n      return newFilters;\n    });\n  };\n\n  const handleTrailSelect = (trail) => {\n    if (selectedTrails.find(t => t.trail_id === trail.trail_id)) {\n      setSelectedTrails(prev => prev.filter(t => t.trail_id !== trail.trail_id));\n    } else {\n      setSelectedTrails(prev => [...prev, trail]);\n    }\n  };\n\n  const calculateGroupMatch = (trail) => {\n    let matchCount = 0;\n    groupMembers.forEach(member => {\n      const memberMatch = member.preferences.some(pref =>\n        trail.scenery_types.some(scenery => \n          scenery.toLowerCase().includes(pref.toLowerCase())\n        )\n      );\n      if (memberMatch) matchCount++;\n    });\n    return (matchCount / groupMembers.length) * 100;\n  };\n\n  // ç®—æ³•å®žçŽ°å‡½æ•°\n  const calculateMemberUtility = (trail, member) => {\n    let utility = 0;\n    \n    // åŸºç¡€è¯„åˆ† (0-1 scale)\n    utility += trail.rating / 5.0;\n    \n    // åå¥½åŒ¹é…å¥–åŠ±\n    const preferenceMatches = member.preferences.filter(pref =>\n      trail.scenery_types.some(scenery => \n        scenery.toLowerCase().includes(pref.toLowerCase())\n      )\n    );\n    \n    if (preferenceMatches.length > 0) {\n      utility += (preferenceMatches.length / member.preferences.length) * 0.5;\n    }\n    \n    // éš¾åº¦åå¥½\n    const difficultyScore = {\n      'Easy': 0.8,\n      'Moderate': 1.0,\n      'Hard': 0.6\n    };\n    utility += (difficultyScore[trail.difficulty] || 0.8) * 0.2;\n    \n    return Math.min(utility, 1.0);\n  };\n\n  const calculateTrailSimilarity = (trail1, trail2) => {\n    let similarity = 0;\n    \n    // æ™¯è§‚ç±»åž‹ç›¸ä¼¼æ€§\n    const scenery1 = new Set(trail1.scenery_types);\n    const scenery2 = new Set(trail2.scenery_types);\n    const intersection = new Set([...scenery1].filter(x => scenery2.has(x)));\n    const union = new Set([...scenery1, ...scenery2]);\n    const scenerySimilarity = intersection.size / union.size;\n    \n    // éš¾åº¦ç›¸ä¼¼æ€§\n    const difficultySimilarity = trail1.difficulty === trail2.difficulty ? 1 : 0;\n    \n    // è·ç¦»ç›¸ä¼¼æ€§\n    const maxDistance = Math.max(trail1.distance_km, trail2.distance_km);\n    const distanceSimilarity = 1 - Math.abs(trail1.distance_km - trail2.distance_km) / maxDistance;\n    \n    // ä½ç½®ç›¸ä¼¼æ€§\n    const locationSimilarity = trail1.location === trail2.location ? 1 : 0;\n    \n    similarity = (scenerySimilarity * 0.4 + \n                  difficultySimilarity * 0.2 + \n                  distanceSimilarity * 0.2 + \n                  locationSimilarity * 0.2);\n    \n    return similarity;\n  };\n\n  const calculateDiversity = (trails) => {\n    if (trails.length <= 1) return 1.0;\n    \n    let totalSimilarity = 0;\n    let comparisons = 0;\n    \n    for (let i = 0; i < trails.length; i++) {\n      for (let j = i + 1; j < trails.length; j++) {\n        const similarity = calculateTrailSimilarity(trails[i], trails[j]);\n        totalSimilarity += similarity;\n        comparisons++;\n      }\n    }\n    \n    return 1 - (totalSimilarity / comparisons);\n  };\n\n  const calculateRegret = (selectedTrails, allTrails, groupPreferences) => {\n    let maxRegret = 0;\n    \n    groupPreferences.forEach(member => {\n      const selectedUtility = selectedTrails.reduce((sum, trail) => {\n        return sum + calculateMemberUtility(trail, member);\n      }, 0);\n      \n      const memberUtilities = allTrails.map(trail => ({\n        trail,\n        utility: calculateMemberUtility(trail, member)\n      })).sort((a, b) => b.utility - a.utility);\n      \n      const bestUtility = memberUtilities\n        .slice(0, selectedTrails.length)\n        .reduce((sum, item) => sum + item.utility, 0);\n      \n      const memberRegret = bestUtility - selectedUtility;\n      maxRegret = Math.max(maxRegret, memberRegret);\n    });\n    \n    return maxRegret;\n  };\n\n  const greedyMinMaxRegret = (trails, groupPreferences, k = 5) => {\n    const selectedTrails = [];\n    const availableTrails = [...trails];\n    const diversityWeight = 0.3;\n    const regretWeight = 0.7;\n    \n    for (let i = 0; i < k && availableTrails.length > 0; i++) {\n      let bestTrail = null;\n      let bestScore = -Infinity;\n      \n      for (let j = 0; j < availableTrails.length; j++) {\n        const candidateTrail = availableTrails[j];\n        const candidateSelection = [...selectedTrails, candidateTrail];\n        \n        const regretScore = calculateRegret(candidateSelection, trails, groupPreferences);\n        const normalizedRegret = 1 - (regretScore / (groupPreferences.length * k));\n        \n        const diversityScore = calculateDiversity(candidateSelection);\n        \n        const combinedScore = (regretWeight * normalizedRegret) + \n                             (diversityWeight * diversityScore);\n        \n        if (combinedScore > bestScore) {\n          bestScore = combinedScore;\n          bestTrail = candidateTrail;\n        }\n      }\n      \n      if (bestTrail) {\n        selectedTrails.push(bestTrail);\n        const index = availableTrails.findIndex(t => t.trail_id === bestTrail.trail_id);\n        if (index > -1) {\n          availableTrails.splice(index, 1);\n        }\n      }\n    }\n    \n    return selectedTrails;\n  };\n\n  const calculateRecommendationMetrics = (selectedTrails, groupMembers) => {\n    if (selectedTrails.length === 0) {\n      return {\n        averageRating: 0,\n        averageDistance: 0,\n        averageTime: 0,\n        averageElevation: 0,\n        diversityScore: 0,\n        regretScore: 0,\n        groupMatchPercentages: groupMembers.map(() => 0)\n      };\n    }\n\n    const metrics = {\n      averageRating: selectedTrails.reduce((sum, t) => sum + t.rating, 0) / selectedTrails.length,\n      averageDistance: selectedTrails.reduce((sum, t) => sum + t.distance_km, 0) / selectedTrails.length,\n      averageTime: selectedTrails.reduce((sum, t) => sum + t.estimated_time_hours, 0) / selectedTrails.length,\n      averageElevation: selectedTrails.reduce((sum, t) => sum + t.elevation_gain_m, 0) / selectedTrails.length,\n      diversityScore: calculateDiversity(selectedTrails),\n      regretScore: calculateRegret(selectedTrails, selectedTrails, groupMembers),\n      groupMatchPercentages: groupMembers.map(member => {\n        const matchingTrails = selectedTrails.filter(trail =>\n          member.preferences.some(pref =>\n            trail.scenery_types.some(scenery => \n              scenery.toLowerCase().includes(pref.toLowerCase())\n            )\n          )\n        );\n        return Math.round((matchingTrails.length / selectedTrails.length) * 100);\n      })\n    };\n\n    return metrics;\n  };\n\n  // æŽ¨èå‡½æ•°\n  const getRecommendations = async () => {\n    setLoading(true);\n    setError(null);\n    console.log('ðŸš€ å¼€å§‹èŽ·å–æŽ¨è...');\n    console.log('ðŸ“Š å½“å‰è¿‡æ»¤å™¨:', filters);\n    console.log('ðŸ‘¥ ç¾¤ä½“æˆå‘˜:', groupMembers);\n    \n    try {\n      // è°ƒç”¨åŽç«¯æŽ¨è API\n      console.log('ðŸ“¡ è°ƒç”¨åŽç«¯API...');\n      const response = await fetch('http://localhost:3001/api/trails/recommend', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          groupPreferences: groupMembers,\n          filters: filters,\n          k: 5\n        })\n      });\n      \n      console.log('ðŸ“¡ APIå“åº”çŠ¶æ€:', response.status);\n      \n      if (!response.ok) {\n        const errorText = await response.text();\n        console.error('âŒ APIé”™è¯¯:', errorText);\n        throw new Error(`æŽ¨èè¯·æ±‚å¤±è´¥: ${response.status} - ${errorText}`);\n      }\n      \n      const data = await response.json();\n      console.log('âœ… æ”¶åˆ°æŽ¨èæ•°æ®:', data);\n      \n      // ä¸ºæŽ¨èçš„æ­¥é“æ·»åŠ ç¾¤ä½“åŒ¹é…ä¿¡æ¯\n      const recommendationsWithGroupMatch = data.recommendations.map(trail => ({\n        ...trail,\n        groupMatchPercentage: calculateGroupMatch(trail)\n      }));\n      \n      console.log('ðŸ“‹ å¤„ç†åŽçš„æŽ¨è:', recommendationsWithGroupMatch);\n      \n      setRecommendations(recommendationsWithGroupMatch);\n      setRecommendationMetrics(data.metrics);\n      setShowRecommendations(true);\n      \n      console.log('âœ… æŽ¨èç®—æ³•å®Œæˆ:', {\n        algorithm: data.algorithm,\n        totalCandidates: data.totalCandidates,\n        recommendationsCount: data.recommendations.length,\n        showRecommendations: true\n      });\n      \n    } catch (error) {\n      console.error('âŒ æŽ¨èç®—æ³•é”™è¯¯:', error);\n      setError(`æŽ¨èå¤±è´¥: ${error.message}`);\n      \n      // å¦‚æžœåŽç«¯è°ƒç”¨å¤±è´¥ï¼Œå›žé€€åˆ°å‰ç«¯ç®—æ³•\n      console.log('ðŸ”„ å›žé€€åˆ°å‰ç«¯ç®—æ³•...');\n      \n      let candidateTrails = trails.filter(trail => {\n        if (filters.difficulty && trail.difficulty !== filters.difficulty) {\n          return false;\n        }\n        \n        if (filters.maxDistance && trail.distance_km > parseFloat(filters.maxDistance)) {\n          return false;\n        }\n        \n        if (filters.maxTime && trail.estimated_time_hours > parseFloat(filters.maxTime)) {\n          return false;\n        }\n        \n        if (filters.maxElevation && trail.elevation_gain_m > parseInt(filters.maxElevation)) {\n          return false;\n        }\n        \n        if (filters.trailType && trail.trail_type !== filters.trailType) {\n          return false;\n        }\n        \n        if (filters.sceneryTypes.length > 0) {\n          const hasMatchingScenery = filters.sceneryTypes.some(selectedType =>\n            trail.scenery_types.some(trailType => trailType.includes(selectedType))\n          );\n          if (!hasMatchingScenery) {\n            return false;\n          }\n        }\n        \n        if (filters.minRating && trail.rating < parseFloat(filters.minRating)) {\n          return false;\n        }\n        \n        return true;\n      });\n\n      console.log('ðŸ” å€™é€‰æ­¥é“æ•°é‡:', candidateTrails.length);\n\n      // è¿è¡Œå‰ç«¯ Greedy MinMax Regret ç®—æ³•\n      const recommendedTrails = greedyMinMaxRegret(candidateTrails, groupMembers, 5);\n      \n      console.log('ðŸŽ¯ å‰ç«¯ç®—æ³•æŽ¨èç»“æžœ:', recommendedTrails);\n      \n      // è®¡ç®—æŒ‡æ ‡\n      const metrics = calculateRecommendationMetrics(recommendedTrails, groupMembers);\n      \n      // ä¸ºæŽ¨èçš„æ­¥é“æ·»åŠ é¢å¤–ä¿¡æ¯\n      const recommendationsWithMetrics = recommendedTrails.map(trail => ({\n        ...trail,\n        groupMatchPercentage: calculateGroupMatch(trail),\n        averageMemberUtility: groupMembers.reduce((sum, member) => \n          sum + calculateMemberUtility(trail, member), 0) / groupMembers.length\n      }));\n      \n      setRecommendations(recommendationsWithMetrics);\n      setRecommendationMetrics(metrics);\n      setShowRecommendations(true);\n      \n      console.log('âœ… å‰ç«¯ç®—æ³•å®Œæˆï¼ŒæŽ¨èæ•°é‡:', recommendationsWithMetrics.length);\n      \n    } finally {\n      setLoading(false);\n      console.log('ðŸ æŽ¨èæµç¨‹å®Œæˆ');\n    }\n  };\n\n  const clearFilters = () => {\n    setFilters({\n      difficulty: '',\n      maxDistance: '',\n      maxTime: '',\n      maxElevation: '',\n      trailType: '',\n      sceneryTypes: [],\n      minRating: ''\n    });\n    setSearchTerm('');\n  };\n\n  if (dataLoading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"relative\">\n            <div className=\"w-20 h-20 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center mb-6 mx-auto shadow-lg\">\n              <Mountain className=\"text-white animate-pulse\" size={40} />\n            </div>\n            <RefreshCw className=\"absolute -top-2 -right-2 animate-spin text-blue-600\" size={24} />\n          </div>\n          <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">Loading Trail Data...</h2>\n          <p className=\"text-gray-600\">Connecting to backend and loading trails</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50\">\n      <div className=\"max-w-6xl mx-auto p-6\">\n        {/* Error Alert */}\n        {error && (\n          <div className=\"bg-gradient-to-r from-red-50 to-pink-50 border border-red-100 rounded-2xl p-6 mb-8 shadow-sm\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center\">\n                  <AlertCircle className=\"text-red-500\" size={20} />\n                </div>\n                <div>\n                  <h3 className=\"font-semibold text-red-800\">Connection Issue</h3>\n                  <p className=\"text-sm text-red-600\">{error}</p>\n                </div>\n              </div>\n              <button className=\"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors shadow-sm\">\n                Retry\n              </button>\n            </div>\n          </div>\n        )}\n\n        {/* Hero Header */}\n        <div className=\"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-700 rounded-3xl shadow-2xl p-8 mb-8 text-white overflow-hidden relative\">\n          <div className=\"absolute inset-0 bg-black/10\"></div>\n          <div className=\"relative z-10\">\n            <div className=\"flex items-center gap-4 mb-4\">\n              <div className=\"w-16 h-16 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center\">\n                <Mountain className=\"text-white\" size={32} />\n              </div>\n              <div>\n                <h1 className=\"text-4xl font-bold mb-2\">Trail Explorer</h1>\n                <p className=\"text-blue-100 text-lg\">Discover your perfect hiking adventure with AI-powered recommendations</p>\n              </div>\n            </div>\n          </div>\n          {/* Decorative elements */}\n          <div className=\"absolute -top-10 -right-10 w-32 h-32 bg-white/10 rounded-full\"></div>\n          <div className=\"absolute -bottom-6 -left-6 w-24 h-24 bg-white/5 rounded-full\"></div>\n        </div>\n\n        {/* Stats Overview */}\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n          <div className=\"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center\">\n                <Eye className=\"text-blue-600\" size={24} />\n              </div>\n              <div>\n                <p className=\"text-2xl font-bold text-gray-800\">{filteredTrails.length}</p>\n                <p className=\"text-sm text-gray-600\">Available Trails</p>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center\">\n                <Heart className=\"text-green-600\" size={24} />\n              </div>\n              <div>\n                <p className=\"text-2xl font-bold text-gray-800\">{selectedTrails.length}</p>\n                <p className=\"text-sm text-gray-600\">Selected Trails</p>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center\">\n                <Users className=\"text-purple-600\" size={24} />\n              </div>\n              <div>\n                <p className=\"text-2xl font-bold text-gray-800\">{groupMembers.length}</p>\n                <p className=\"text-sm text-gray-600\">Group Members</p>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"w-12 h-12 bg-yellow-100 rounded-xl flex items-center justify-center\">\n                <Star className=\"text-yellow-600\" size={24} />\n              </div>\n              <div>\n                <p className=\"text-2xl font-bold text-gray-800\">4.6</p>\n                <p className=\"text-sm text-gray-600\">Avg Rating</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Group Preferences */}\n        <div className=\"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-8 mb-8 border border-white/20\">\n          <h3 className=\"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-3\">\n            <div className=\"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center\">\n              <Users className=\"text-white\" size={20} />\n            </div>\n            Group Preferences\n          </h3>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n            {groupMembers.map((member, index) => (\n              <div key={index} className=\"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-6 border border-gray-200\">\n                <div className=\"flex items-center gap-3 mb-4\">\n                  <div className={`w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold ${\n                    index === 0 ? 'bg-gradient-to-r from-pink-500 to-rose-500' :\n                    index === 1 ? 'bg-gradient-to-r from-blue-500 to-cyan-500' :\n                    'bg-gradient-to-r from-green-500 to-emerald-500'\n                  }`}>\n                    {member.name.charAt(0)}\n                  </div>\n                  <h4 className=\"font-semibold text-gray-800 text-lg\">{member.name}</h4>\n                </div>\n                <div className=\"flex flex-wrap gap-2\">\n                  {member.preferences.map((pref, i) => (\n                    <span key={i} className=\"px-3 py-1 bg-white/70 backdrop-blur-sm text-gray-700 rounded-full text-sm font-medium border border-gray-200 shadow-sm\">\n                      {pref}\n                    </span>\n                  ))}\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Search and Controls */}\n        <div className=\"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-8 mb-8 border border-white/20\">\n          <div className=\"space-y-6\">\n            {/* Search Bar */}\n            <div className=\"relative\">\n              <Search className=\"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400\" size={20} />\n              <input\n                type=\"text\"\n                placeholder=\"Search trails by name or location...\"\n                className=\"w-full pl-12 pr-4 py-4 bg-white/90 backdrop-blur-sm border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm text-gray-800 placeholder-gray-500\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n              />\n            </div>\n            \n            {/* Action Buttons */}\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              <button\n                onClick={() => setShowFilters(!showFilters)}\n                className=\"bg-gradient-to-r from-blue-500 to-blue-600 text-white py-4 px-6 rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all duration-200 flex items-center justify-center gap-3 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5\"\n              >\n                <Filter size={20} />\n                {showFilters ? 'Hide Filters' : 'Show Filters'}\n                <ChevronDown className={`transition-transform duration-200 ${showFilters ? 'rotate-180' : ''}`} size={16} />\n              </button>\n              \n              <button\n                onClick={getRecommendations}\n                disabled={loading}\n                className=\"bg-gradient-to-r from-green-500 to-green-600 text-white py-4 px-6 rounded-xl hover:from-green-600 hover:to-green-700 transition-all duration-200 flex items-center justify-center gap-3 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\"\n              >\n                {loading ? (\n                  <RefreshCw className=\"animate-spin\" size={20} />\n                ) : (\n                  <Zap size={20} />\n                )}\n                {loading ? 'Getting Recommendations...' : 'AI Recommendations'}\n              </button>\n              \n              <button\n                onClick={clearFilters}\n                className=\"bg-gradient-to-r from-gray-500 to-gray-600 text-white py-4 px-6 rounded-xl hover:from-gray-600 hover:to-gray-700 transition-all duration-200 flex items-center justify-center gap-3 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5\"\n              >\n                <X size={20} />\n                Clear Filters\n              </button>\n            </div>\n\n            {/* Filter Panel */}\n            {showFilters && (\n              <div className=\"bg-gradient-to-br from-gray-50 to-white rounded-xl p-6 border border-gray-200 shadow-inner\">\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6\">\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Difficulty</label>\n                    <select\n                      value={filters.difficulty}\n                      onChange={(e) => handleFilterChange('difficulty', e.target.value)}\n                      className=\"w-full p-3 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm\"\n                    >\n                      <option value=\"\">All Difficulties</option>\n                      <option value=\"Easy\">Easy</option>\n                      <option value=\"Moderate\">Moderate</option>\n                      <option value=\"Hard\">Hard</option>\n                    </select>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Max Distance (km)</label>\n                    <input\n                      type=\"number\"\n                      value={filters.maxDistance}\n                      onChange={(e) => handleFilterChange('maxDistance', e.target.value)}\n                      className=\"w-full p-3 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm\"\n                      placeholder=\"e.g. 10\"\n                      min=\"0\"\n                      step=\"0.1\"\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Max Time (hours)</label>\n                    <input\n                      type=\"number\"\n                      value={filters.maxTime}\n                      onChange={(e) => handleFilterChange('maxTime', e.target.value)}\n                      className=\"w-full p-3 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm\"\n                      placeholder=\"e.g. 4\"\n                      min=\"0\"\n                      step=\"0.1\"\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-semibold text-gray-700 mb-2\">Min Rating</label>\n                    <select\n                      value={filters.minRating}\n                      onChange={(e) => handleFilterChange('minRating', e.target.value)}\n                      className=\"w-full p-3 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm\"\n                    >\n                      <option value=\"\">Any Rating</option>\n                      <option value=\"4.0\">4.0+</option>\n                      <option value=\"4.2\">4.2+</option>\n                      <option value=\"4.4\">4.4+</option>\n                      <option value=\"4.6\">4.6+</option>\n                    </select>\n                  </div>\n                </div>\n\n                {/* Scenery Types */}\n                <div>\n                  <label className=\"block text-sm font-semibold text-gray-700 mb-3\">Scenery Features</label>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {getAllSceneryTypes().map((sceneryType, index) => (\n                      <button\n                        key={index}\n                        onClick={() => handleSceneryTypeToggle(sceneryType)}\n                        className={`px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 ${\n                          filters.sceneryTypes.includes(sceneryType)\n                            ? 'bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg transform scale-105'\n                            : 'bg-white text-gray-700 hover:bg-gray-50 border border-gray-200 shadow-sm hover:shadow-md'\n                        }`}\n                      >\n                        {sceneryType}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* AI Recommendations */}\n        {showRecommendations && recommendations.length > 0 && (\n          <div className=\"bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl shadow-lg p-8 mb-8 border border-green-100\">\n            <h2 className=\"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-3\">\n              <div className=\"w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-600 rounded-lg flex items-center justify-center\">\n                <TrendingUp className=\"text-white\" size={20} />\n              </div>\n              Recommended Trails ({recommendations.length})\n            </h2>\n            \n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n              <div>\n                <div className=\"space-y-4\">\n                  {recommendations.map((trail, index) => (\n                    <div key={trail.trail_id} className=\"bg-white/80 backdrop-blur-sm border-2 border-gray-900 rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-200\">\n                      <div className=\"flex justify-between items-start mb-3\">\n                        <div>\n                          <div className=\"flex items-center gap-2 mb-1\">\n                            <span className=\"w-6 h-6 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-full flex items-center justify-center text-xs font-bold\">\n                              {index + 1}\n                            </span>\n                            <h4 className=\"font-bold text-gray-800 text-lg\">{trail.trail_name}</h4>\n                          </div>\n                          <p className=\"text-sm text-gray-600 flex items-center gap-1\">\n                            <MapPin size={14} />\n                            {trail.location}\n                          </p>\n                        </div>\n                        <div className=\"flex items-center gap-1 bg-yellow-100 px-2 py-1 rounded-lg\">\n                          <Star className=\"text-yellow-500\" size={16} />\n                          <span className=\"text-sm font-semibold text-gray-700\">{trail.rating}</span>\n                        </div>\n                      </div>\n                      \n                      <div className=\"flex items-center gap-4 text-sm text-gray-600 mb-3\">\n                        <span className=\"flex items-center gap-1\">\n                          <Activity size={14} />\n                          {trail.difficulty}\n                        </span>\n                        <span className=\"flex items-center gap-1\">\n                          <MapPin size={14} />\n                          {trail.distance_km}km\n                        </span>\n                        <span className=\"flex items-center gap-1\">\n                          <Clock size={14} />\n                          {trail.estimated_time_hours}h\n                        </span>\n                      </div>\n                      \n                      <div className=\"flex flex-wrap gap-1 mb-3\">\n                        {trail.scenery_types.map((scenery, i) => (\n                          <span key={i} className=\"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium\">\n                            {scenery}\n                          </span>\n                        ))}\n                      </div>\n                      \n                      <div className=\"flex justify-between items-center text-sm\">\n                        <span className=\"text-gray-600\">\n                          Group Match: <span className=\"font-semibold text-green-600\">{calculateGroupMatch(trail).toFixed(0)}%</span>\n                        </span>\n                        <span className=\"text-gray-600\">\n                          Utility: <span className=\"font-semibold text-blue-600\">{((trail.averageMemberUtility || 0.8) * 100).toFixed(0)}%</span>\n                        </span>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n              \n              <div>\n                <h3 className=\"font-semibold text-gray-800 mb-4 text-lg\">Metrics</h3>\n                {recommendationMetrics && (\n                  <div className=\"space-y-4\">\n                    <div className=\"bg-white/80 backdrop-blur-sm rounded-xl p-4 border border-blue-100\">\n                      <h4 className=\"font-semibold text-blue-800 mb-3 flex items-center gap-2\">\n                        <Award size={16} />\n                        Statistics\n                      </h4>\n                      <div className=\"space-y-2 text-sm\">\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-gray-600\">Average Rating:</span>\n                          <span className=\"font-semibold text-gray-800\">{recommendationMetrics.averageRating.toFixed(1)}/5.0</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-gray-600\">Average Distance:</span>\n                          <span className=\"font-semibold text-gray-800\">{recommendationMetrics.averageDistance.toFixed(1)}km</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-gray-600\">Average Time:</span>\n                          <span className=\"font-semibold text-gray-800\">{recommendationMetrics.averageTime.toFixed(1)}h</span>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    <div className=\"bg-white/80 backdrop-blur-sm rounded-xl p-4 border border-purple-100\">\n                      <h4 className=\"font-semibold text-purple-800 mb-3 flex items-center gap-2\">\n                        <Activity size={16} />\n                        Algorithm Performance\n                      </h4>\n                      <div className=\"space-y-2 text-sm\">\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-gray-600\">Diversity Score:</span>\n                          <span className=\"font-semibold text-gray-800\">{(recommendationMetrics.diversityScore * 100).toFixed(0)}%</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span className=\"text-gray-600\">Regret Score:</span>\n                          <span className=\"font-semibold text-gray-800\">{recommendationMetrics.regretScore.toFixed(2)}</span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n\n      </div>\n    </div>\n  );\n};\n\nexport default InteractiveTrailSelector;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}