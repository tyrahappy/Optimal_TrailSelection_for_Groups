{"ast":null,"code":"var _jsxFileName = \"/Users/JINGSI/2024-NEU/CS5800_Algo/Optimal_TrailSelection_for_Groups/frontend/src/InteractiveTrailSelector.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Search, Filter, MapPin, Clock, Mountain, Star, Users, Eye, Zap, TrendingUp, AlertCircle, RefreshCw, Heart, Activity, Award, ChevronDown, X, Plus, User, Settings, ArrowRight, ArrowLeft, Home } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst InteractiveTrailSelector = () => {\n  _s();\n  var _groupMembers$current;\n  const [trails, setTrails] = useState([]);\n  const [recommendations, setRecommendations] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [dataLoading, setDataLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Group management\n  const [groupSize, setGroupSize] = useState('');\n  const [groupMembers, setGroupMembers] = useState([]);\n  const [currentStep, setCurrentStep] = useState('group-size'); // 'group-size', 'preferences', 'results'\n  const [currentMemberIndex, setCurrentMemberIndex] = useState(0);\n\n  // Available preferences\n  const availablePreferences = [{\n    id: 'distance',\n    label: 'Distance',\n    icon: MapPin,\n    options: ['Short (< 5km)', 'Medium (5-10km)', 'Long (> 10km)']\n  }, {\n    id: 'elevation',\n    label: 'Elevation Gain',\n    icon: Mountain,\n    options: ['Low (< 200m)', 'Medium (200-500m)', 'High (> 500m)']\n  }, {\n    id: 'time',\n    label: 'Duration',\n    icon: Clock,\n    options: ['Quick (< 2h)', 'Moderate (2-4h)', 'Long (> 4h)']\n  }, {\n    id: 'difficulty',\n    label: 'Difficulty',\n    icon: Activity,\n    options: ['Easy', 'Moderate', 'Hard']\n  }, {\n    id: 'scenery',\n    label: 'Scenery Type',\n    icon: Eye,\n    options: ['Mountain', 'Lake', 'Forest', 'Ocean', 'Waterfall', 'Alpine']\n  }];\n  const [filters, setFilters] = useState({\n    difficulty: '',\n    maxDistance: '',\n    maxTime: '',\n    minRating: ''\n  });\n  const [searchTerm, setSearchTerm] = useState('');\n\n  // Load trail data from backend\n  useEffect(() => {\n    const loadTrails = async () => {\n      setDataLoading(true);\n      setError(null);\n      try {\n        console.log('🔍 Attempting to fetch trails from:', 'http://localhost:3001/api/trails');\n\n        // First, test if the backend is reachable\n        const healthCheck = await fetch('http://localhost:3001/api/health', {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          signal: AbortSignal.timeout(5000) // 5 second timeout\n        });\n        console.log('🏥 Health check status:', healthCheck.status);\n        if (!healthCheck.ok) {\n          throw new Error(`Backend health check failed: ${healthCheck.status}`);\n        }\n        const response = await fetch('http://localhost:3001/api/trails', {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          signal: AbortSignal.timeout(10000) // 10 second timeout\n        });\n        console.log('📡 Response status:', response.status);\n        console.log('📡 Response headers:', response.headers);\n        if (!response.ok) {\n          const errorText = await response.text();\n          console.error('❌ HTTP error response:', errorText);\n          throw new Error(`HTTP error! status: ${response.status} - ${errorText}`);\n        }\n        const data = await response.json();\n        console.log('✅ Received data:', data.length, 'trails');\n\n        // Process data format, ensure scenery_types is array\n        const processedData = data.map(trail => ({\n          ...trail,\n          distance_km: parseFloat(trail.distance_km),\n          estimated_time_hours: parseFloat(trail.estimated_time_hours),\n          elevation_gain_m: parseInt(trail.elevation_gain_m),\n          rating: parseFloat(trail.rating),\n          scenery_types: Array.isArray(trail.scenery_types) ? trail.scenery_types : typeof trail.scenery_types === 'string' ? trail.scenery_types.split(',').map(s => s.trim()) : []\n        }));\n        setTrails(processedData);\n        console.log(`✅ Successfully loaded ${processedData.length} trail data`);\n      } catch (err) {\n        console.error('❌ Error loading trails:', err);\n        console.error('❌ Error details:', {\n          name: err.name,\n          message: err.message,\n          stack: err.stack,\n          cause: err.cause\n        });\n\n        // Provide more specific error messages\n        let errorMessage = err.message;\n        if (err.name === 'AbortError') {\n          errorMessage = 'Request timed out. Please check if the backend server is running.';\n        } else if (err.name === 'TypeError' && err.message.includes('fetch')) {\n          errorMessage = 'Network error. Please check your internet connection and try again.';\n        } else if (err.message.includes('Failed to fetch')) {\n          errorMessage = 'Cannot connect to backend server. Please ensure the server is running on port 3001.';\n        }\n        setError(`Failed to load trails: ${errorMessage}`);\n      } finally {\n        setDataLoading(false);\n      }\n    };\n    loadTrails();\n  }, []);\n  const handleFilterChange = (key, value) => {\n    setFilters(prev => ({\n      ...prev,\n      [key]: value\n    }));\n  };\n  const initializeGroupMembers = size => {\n    const members = [];\n    for (let i = 0; i < size; i++) {\n      members.push({\n        id: i,\n        name: `Person ${i + 1}`,\n        preferences: {}\n      });\n    }\n    setGroupMembers(members);\n    setCurrentStep('preferences');\n    setCurrentMemberIndex(0);\n  };\n  const updateMemberPreference = (memberId, preferenceType, value) => {\n    setGroupMembers(members => members.map(member => member.id === memberId ? {\n      ...member,\n      preferences: {\n        ...member.preferences,\n        [preferenceType]: value\n      }\n    } : member));\n  };\n  const nextMember = () => {\n    if (currentMemberIndex < groupMembers.length - 1) {\n      setCurrentMemberIndex(currentMemberIndex + 1);\n    } else {\n      // All members have set preferences, get recommendations\n      getRecommendations();\n    }\n  };\n  const prevMember = () => {\n    if (currentMemberIndex > 0) {\n      setCurrentMemberIndex(currentMemberIndex - 1);\n    }\n  };\n  const calculateGroupMatch = trail => {\n    if (groupMembers.length === 0) return 0;\n    let matchCount = 0;\n    groupMembers.forEach(member => {\n      const memberMatch = member.preferences.scenery && trail.scenery_types.some(scenery => scenery.toLowerCase().includes(member.preferences.scenery.toLowerCase()));\n      if (memberMatch) matchCount++;\n    });\n    return matchCount / groupMembers.length * 100;\n  };\n  const getRecommendations = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      // Convert groupMembers to the format expected by the backend\n      const groupPreferences = groupMembers.map(member => ({\n        name: member.name,\n        preferences: Object.keys(member.preferences).map(key => {\n          const value = member.preferences[key];\n          // Convert preference values to match backend expectations\n          switch (key) {\n            case 'distance':\n              if (value === 'Short (< 5km)') return 'short';\n              if (value === 'Medium (5-10km)') return 'medium';\n              if (value === 'Long (> 10km)') return 'long';\n              return value;\n            case 'elevation':\n              if (value === 'Low (< 200m)') return 'low';\n              if (value === 'Medium (200-500m)') return 'medium';\n              if (value === 'High (> 500m)') return 'high';\n              return value;\n            case 'time':\n              if (value === 'Quick (< 2h)') return 'quick';\n              if (value === 'Moderate (2-4h)') return 'moderate';\n              if (value === 'Long (> 4h)') return 'long';\n              return value;\n            case 'difficulty':\n              return value.toLowerCase();\n            case 'scenery':\n              return value.toLowerCase();\n            default:\n              return value;\n          }\n        }).filter(pref => pref) // Remove empty preferences\n      }));\n      console.log('Sending group preferences:', groupPreferences);\n      const response = await fetch('http://localhost:3001/api/trails/recommend', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          groupPreferences: groupPreferences,\n          filters: filters,\n          k: 5\n        })\n      });\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(`Recommendation request failed: ${response.status} - ${errorData.error || 'Unknown error'}`);\n      }\n      const data = await response.json();\n\n      // Add group match information to recommended trails\n      const recommendationsWithGroupMatch = data.recommendations.map(trail => ({\n        ...trail,\n        groupMatchPercentage: calculateGroupMatch(trail)\n      }));\n      setRecommendations(recommendationsWithGroupMatch);\n      setCurrentStep('results');\n      console.log('✅ Recommendation algorithm completed:', {\n        algorithm: data.algorithm,\n        totalCandidates: data.totalCandidates,\n        recommendationsCount: data.recommendations.length\n      });\n    } catch (error) {\n      console.error('❌ Recommendation algorithm error:', error);\n      setError(`Recommendation failed: ${error.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const resetToGroupSize = () => {\n    setCurrentStep('group-size');\n    setGroupSize('');\n    setGroupMembers([]);\n    setCurrentMemberIndex(0);\n    setRecommendations([]);\n  };\n  if (dataLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-white flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-20 h-20 bg-blue-600 rounded-full flex items-center justify-center mb-8 mx-auto\",\n          children: /*#__PURE__*/_jsxDEV(Mountain, {\n            className: \"text-white\",\n            size: 40\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-3xl font-semibold text-gray-800 mb-4\",\n          children: \"Loading Trail Data...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xl text-gray-600\",\n          children: \"Connecting to backend and loading trails\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-white\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-6xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"border-b border-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-6xl mx-auto px-6 py-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center\",\n                children: /*#__PURE__*/_jsxDEV(Home, {\n                  className: \"text-white\",\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-3xl font-bold text-gray-900\",\n                children: \"Trail Explorer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#\",\n                className: \"text-lg text-gray-600 hover:text-gray-900\",\n                children: \"About\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#\",\n                className: \"text-lg text-gray-600 hover:text-gray-900\",\n                children: \"Help\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-lg font-medium\",\n                children: \"Sign Up\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-6xl mx-auto px-6 py-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-red-50 border border-red-200 rounded-lg p-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n              className: \"text-red-500\",\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-lg text-red-700\",\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"max-w-6xl mx-auto px-6 py-12\",\n        children: [currentStep === 'group-size' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-2xl p-16 text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-32 h-32 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-8\",\n                children: /*#__PURE__*/_jsxDEV(Users, {\n                  className: \"text-white\",\n                  size: 64\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-4xl font-bold text-gray-900 mb-6\",\n                children: [\"Find your \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-blue-600\",\n                  children: \"perfect trail\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 31\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xl text-gray-600 leading-relaxed\",\n                children: \"AI-powered trail recommendations for groups. We connect people, analyze preferences, and find the best hiking adventures.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-3xl font-semibold text-gray-900 mb-4\",\n                children: \"How many people in your group?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-lg text-gray-600 mb-8\",\n                children: \"Select the number of people in your hiking group\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-lg font-medium text-gray-700 mb-3\",\n                  children: \"Group Size\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: groupSize,\n                  onChange: e => {\n                    const size = parseInt(e.target.value);\n                    if (size > 0) {\n                      initializeGroupMembers(size);\n                    }\n                  },\n                  className: \"w-full p-6 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg text-gray-900\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Select group size...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 361,\n                    columnNumber: 23\n                  }, this), [1, 2, 3, 4, 5, 6, 7, 8].map(size => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: size,\n                    children: [size, \" \", size === 1 ? 'Person' : 'People']\n                  }, size, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 363,\n                    columnNumber: 25\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-50 rounded-lg p-8\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-xl font-semibold text-gray-900 mb-4\",\n                children: \"What happens next?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"space-y-3 text-lg text-gray-600\",\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"flex items-center gap-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-3 h-3 bg-blue-600 rounded-full\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 375,\n                    columnNumber: 23\n                  }, this), \"Each person will set their preferences\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 374,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"flex items-center gap-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-3 h-3 bg-blue-600 rounded-full\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 379,\n                    columnNumber: 23\n                  }, this), \"Our AI analyzes group compatibility\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 378,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-2 h-2 bg-blue-600 rounded-full\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 383,\n                    columnNumber: 23\n                  }, this), \"Get top 5 personalized recommendations\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 382,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 13\n        }, this), currentStep === 'preferences' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-4xl mx-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center mb-12\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-4xl font-bold text-gray-900 mb-4\",\n              children: [(_groupMembers$current = groupMembers[currentMemberIndex]) === null || _groupMembers$current === void 0 ? void 0 : _groupMembers$current.name, \"'s Preferences\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xl text-gray-600\",\n              children: [\"Member \", currentMemberIndex + 1, \" of \", groupMembers.length]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-8\",\n            children: availablePreferences.map(pref => {\n              var _groupMembers$current2;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white rounded-xl shadow-lg p-8\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-4 mb-6\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center\",\n                    children: /*#__PURE__*/_jsxDEV(pref.icon, {\n                      className: \"text-blue-600\",\n                      size: 24\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 409,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 408,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: \"text-2xl font-semibold text-gray-900\",\n                      children: pref.label\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 412,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-lg text-gray-600\",\n                      children: [\"Select your preferred \", pref.label.toLowerCase()]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 413,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 411,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: ((_groupMembers$current2 = groupMembers[currentMemberIndex]) === null || _groupMembers$current2 === void 0 ? void 0 : _groupMembers$current2.preferences[pref.id]) || '',\n                  onChange: e => updateMemberPreference(currentMemberIndex, pref.id, e.target.value),\n                  className: \"w-full p-6 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg text-gray-900\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: [\"Select \", pref.label.toLowerCase(), \"...\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 422,\n                    columnNumber: 23\n                  }, this), pref.options.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: option,\n                    children: option\n                  }, option, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 424,\n                    columnNumber: 25\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 21\n                }, this)]\n              }, pref.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mt-12\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: prevMember,\n              disabled: currentMemberIndex === 0,\n              className: \"px-8 py-4 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-lg font-medium\",\n              children: \"Previous\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 17\n            }, this), currentMemberIndex === groupMembers.length - 1 ? /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: getRecommendations,\n              disabled: loading,\n              className: \"px-8 py-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-lg font-medium\",\n              children: loading ? 'Getting Recommendations...' : 'Get Recommendations'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: nextMember,\n              className: \"px-8 py-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-lg font-medium\",\n              children: \"Next Member\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 451,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 13\n        }, this), currentStep === 'results' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-6xl mx-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center mb-12\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-4xl font-bold text-gray-900 mb-4\",\n              children: \"Your Recommended Trails\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xl text-gray-600\",\n              children: [\"Top 5 trails selected for your group of \", groupMembers.length, \" people\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 lg:grid-cols-2 gap-8\",\n            children: recommendations.map((trail, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white rounded-xl shadow-lg p-8 border border-gray-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-start mb-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-3 mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-lg font-bold\",\n                      children: index + 1\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 478,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: \"text-2xl font-bold text-gray-900\",\n                      children: trail.trail_name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 481,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 477,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-lg text-gray-600 mb-4\",\n                    children: trail.location\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 483,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 476,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Star, {\n                    className: \"text-yellow-500\",\n                    size: 24\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 486,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xl font-semibold text-gray-900\",\n                    children: trail.rating\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 487,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 485,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-2 gap-6 mb-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-3\",\n                    children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                      className: \"text-gray-500\",\n                      size: 20\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 494,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-lg text-gray-700\",\n                      children: [trail.distance_km, \"km\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 495,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 493,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Clock, {\n                      className: \"text-gray-500\",\n                      size: 20\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 498,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-lg text-gray-700\",\n                      children: [trail.estimated_time_hours, \"h\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 499,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 497,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 492,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Mountain, {\n                      className: \"text-gray-500\",\n                      size: 20\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 504,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-lg text-gray-700\",\n                      children: [trail.elevation_gain_m, \"m\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 505,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 503,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Users, {\n                      className: \"text-gray-500\",\n                      size: 20\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 508,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-lg text-gray-700\",\n                      children: [trail.groupMatchPercentage, \"% match\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 509,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 507,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 502,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 491,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-3 mb-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `px-4 py-2 rounded-full text-lg font-medium ${trail.difficulty === 'Easy' ? 'bg-green-100 text-green-800' : trail.difficulty === 'Moderate' ? 'bg-yellow-100 text-yellow-800' : 'bg-red-100 text-red-800'}`,\n                  children: trail.difficulty\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 515,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"px-4 py-2 bg-blue-100 text-blue-800 rounded-full text-lg font-medium\",\n                  children: trail.trail_type\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 522,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 514,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-wrap gap-2 mb-6\",\n                children: trail.scenery_types.map((scenery, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"px-3 py-2 bg-gray-100 text-gray-700 rounded-full text-lg\",\n                  children: scenery\n                }, i, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 529,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 527,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-lg text-gray-600 leading-relaxed\",\n                children: trail.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 535,\n                columnNumber: 21\n              }, this)]\n            }, trail.trail_id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center mt-12\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: resetToGroupSize,\n              className: \"px-8 py-4 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-lg font-medium\",\n              children: \"Start Over\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 543,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 542,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 285,\n    columnNumber: 5\n  }, this);\n};\n_s(InteractiveTrailSelector, \"PgrtEnsaNKHnJGEEsNu2qxx/pdc=\");\n_c = InteractiveTrailSelector;\nexport default InteractiveTrailSelector;\nvar _c;\n$RefreshReg$(_c, \"InteractiveTrailSelector\");","map":{"version":3,"names":["React","useState","useEffect","Search","Filter","MapPin","Clock","Mountain","Star","Users","Eye","Zap","TrendingUp","AlertCircle","RefreshCw","Heart","Activity","Award","ChevronDown","X","Plus","User","Settings","ArrowRight","ArrowLeft","Home","jsxDEV","_jsxDEV","InteractiveTrailSelector","_s","_groupMembers$current","trails","setTrails","recommendations","setRecommendations","loading","setLoading","dataLoading","setDataLoading","error","setError","groupSize","setGroupSize","groupMembers","setGroupMembers","currentStep","setCurrentStep","currentMemberIndex","setCurrentMemberIndex","availablePreferences","id","label","icon","options","filters","setFilters","difficulty","maxDistance","maxTime","minRating","searchTerm","setSearchTerm","loadTrails","console","log","healthCheck","fetch","method","headers","signal","AbortSignal","timeout","status","ok","Error","response","errorText","text","data","json","length","processedData","map","trail","distance_km","parseFloat","estimated_time_hours","elevation_gain_m","parseInt","rating","scenery_types","Array","isArray","split","s","trim","err","name","message","stack","cause","errorMessage","includes","handleFilterChange","key","value","prev","initializeGroupMembers","size","members","i","push","preferences","updateMemberPreference","memberId","preferenceType","member","nextMember","getRecommendations","prevMember","calculateGroupMatch","matchCount","forEach","memberMatch","scenery","some","toLowerCase","groupPreferences","Object","keys","filter","pref","body","JSON","stringify","k","errorData","catch","recommendationsWithGroupMatch","groupMatchPercentage","algorithm","totalCandidates","recommendationsCount","resetToGroupSize","className","children","fileName","_jsxFileName","lineNumber","columnNumber","href","onChange","e","target","_groupMembers$current2","option","onClick","disabled","index","trail_name","location","trail_type","description","trail_id","_c","$RefreshReg$"],"sources":["/Users/JINGSI/2024-NEU/CS5800_Algo/Optimal_TrailSelection_for_Groups/frontend/src/InteractiveTrailSelector.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Search, Filter, MapPin, Clock, Mountain, Star, Users, Eye, Zap, TrendingUp, AlertCircle, RefreshCw, Heart, Activity, Award, ChevronDown, X, Plus, User, Settings, ArrowRight, ArrowLeft, Home } from 'lucide-react';\n\nconst InteractiveTrailSelector = () => {\n  const [trails, setTrails] = useState([]);\n  const [recommendations, setRecommendations] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [dataLoading, setDataLoading] = useState(false);\n  const [error, setError] = useState(null);\n  \n  // Group management\n  const [groupSize, setGroupSize] = useState('');\n  const [groupMembers, setGroupMembers] = useState([]);\n  const [currentStep, setCurrentStep] = useState('group-size'); // 'group-size', 'preferences', 'results'\n  const [currentMemberIndex, setCurrentMemberIndex] = useState(0);\n  \n  // Available preferences\n  const availablePreferences = [\n    { id: 'distance', label: 'Distance', icon: MapPin, options: ['Short (< 5km)', 'Medium (5-10km)', 'Long (> 10km)'] },\n    { id: 'elevation', label: 'Elevation Gain', icon: Mountain, options: ['Low (< 200m)', 'Medium (200-500m)', 'High (> 500m)'] },\n    { id: 'time', label: 'Duration', icon: Clock, options: ['Quick (< 2h)', 'Moderate (2-4h)', 'Long (> 4h)'] },\n    { id: 'difficulty', label: 'Difficulty', icon: Activity, options: ['Easy', 'Moderate', 'Hard'] },\n    { id: 'scenery', label: 'Scenery Type', icon: Eye, options: ['Mountain', 'Lake', 'Forest', 'Ocean', 'Waterfall', 'Alpine'] }\n  ];\n  \n  const [filters, setFilters] = useState({\n    difficulty: '',\n    maxDistance: '',\n    maxTime: '',\n    minRating: ''\n  });\n  \n  const [searchTerm, setSearchTerm] = useState('');\n\n  // Load trail data from backend\n  useEffect(() => {\n    const loadTrails = async () => {\n      setDataLoading(true);\n      setError(null);\n      \n      try {\n        console.log('🔍 Attempting to fetch trails from:', 'http://localhost:3001/api/trails');\n        \n        // First, test if the backend is reachable\n        const healthCheck = await fetch('http://localhost:3001/api/health', {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          signal: AbortSignal.timeout(5000) // 5 second timeout\n        });\n        console.log('🏥 Health check status:', healthCheck.status);\n        \n        if (!healthCheck.ok) {\n          throw new Error(`Backend health check failed: ${healthCheck.status}`);\n        }\n        \n        const response = await fetch('http://localhost:3001/api/trails', {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          signal: AbortSignal.timeout(10000) // 10 second timeout\n        });\n        \n        console.log('📡 Response status:', response.status);\n        console.log('📡 Response headers:', response.headers);\n        \n        if (!response.ok) {\n          const errorText = await response.text();\n          console.error('❌ HTTP error response:', errorText);\n          throw new Error(`HTTP error! status: ${response.status} - ${errorText}`);\n        }\n        \n        const data = await response.json();\n        console.log('✅ Received data:', data.length, 'trails');\n        \n        // Process data format, ensure scenery_types is array\n        const processedData = data.map(trail => ({\n          ...trail,\n          distance_km: parseFloat(trail.distance_km),\n          estimated_time_hours: parseFloat(trail.estimated_time_hours),\n          elevation_gain_m: parseInt(trail.elevation_gain_m),\n          rating: parseFloat(trail.rating),\n          scenery_types: Array.isArray(trail.scenery_types) \n            ? trail.scenery_types \n            : (typeof trail.scenery_types === 'string' \n                ? trail.scenery_types.split(',').map(s => s.trim()) \n                : [])\n        }));\n        \n        setTrails(processedData);\n        console.log(`✅ Successfully loaded ${processedData.length} trail data`);\n      } catch (err) {\n        console.error('❌ Error loading trails:', err);\n        console.error('❌ Error details:', {\n          name: err.name,\n          message: err.message,\n          stack: err.stack,\n          cause: err.cause\n        });\n        \n        // Provide more specific error messages\n        let errorMessage = err.message;\n        if (err.name === 'AbortError') {\n          errorMessage = 'Request timed out. Please check if the backend server is running.';\n        } else if (err.name === 'TypeError' && err.message.includes('fetch')) {\n          errorMessage = 'Network error. Please check your internet connection and try again.';\n        } else if (err.message.includes('Failed to fetch')) {\n          errorMessage = 'Cannot connect to backend server. Please ensure the server is running on port 3001.';\n        }\n        \n        setError(`Failed to load trails: ${errorMessage}`);\n      } finally {\n        setDataLoading(false);\n      }\n    };\n\n    loadTrails();\n  }, []);\n\n  const handleFilterChange = (key, value) => {\n    setFilters(prev => ({\n      ...prev,\n      [key]: value\n    }));\n  };\n\n  const initializeGroupMembers = (size) => {\n    const members = [];\n    for (let i = 0; i < size; i++) {\n      members.push({\n        id: i,\n        name: `Person ${i + 1}`,\n        preferences: {}\n      });\n    }\n    setGroupMembers(members);\n    setCurrentStep('preferences');\n    setCurrentMemberIndex(0);\n  };\n\n  const updateMemberPreference = (memberId, preferenceType, value) => {\n    setGroupMembers(members => \n      members.map(member => \n        member.id === memberId \n          ? { ...member, preferences: { ...member.preferences, [preferenceType]: value } }\n          : member\n      )\n    );\n  };\n\n  const nextMember = () => {\n    if (currentMemberIndex < groupMembers.length - 1) {\n      setCurrentMemberIndex(currentMemberIndex + 1);\n    } else {\n      // All members have set preferences, get recommendations\n      getRecommendations();\n    }\n  };\n\n  const prevMember = () => {\n    if (currentMemberIndex > 0) {\n      setCurrentMemberIndex(currentMemberIndex - 1);\n    }\n  };\n\n  const calculateGroupMatch = (trail) => {\n    if (groupMembers.length === 0) return 0;\n    let matchCount = 0;\n    groupMembers.forEach(member => {\n      const memberMatch = member.preferences.scenery && \n        trail.scenery_types.some(scenery => \n          scenery.toLowerCase().includes(member.preferences.scenery.toLowerCase())\n        );\n      if (memberMatch) matchCount++;\n    });\n    return (matchCount / groupMembers.length) * 100;\n  };\n\n  const getRecommendations = async () => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      // Convert groupMembers to the format expected by the backend\n      const groupPreferences = groupMembers.map(member => ({\n        name: member.name,\n        preferences: Object.keys(member.preferences).map(key => {\n          const value = member.preferences[key];\n          // Convert preference values to match backend expectations\n          switch(key) {\n            case 'distance':\n              if (value === 'Short (< 5km)') return 'short';\n              if (value === 'Medium (5-10km)') return 'medium';\n              if (value === 'Long (> 10km)') return 'long';\n              return value;\n            case 'elevation':\n              if (value === 'Low (< 200m)') return 'low';\n              if (value === 'Medium (200-500m)') return 'medium';\n              if (value === 'High (> 500m)') return 'high';\n              return value;\n            case 'time':\n              if (value === 'Quick (< 2h)') return 'quick';\n              if (value === 'Moderate (2-4h)') return 'moderate';\n              if (value === 'Long (> 4h)') return 'long';\n              return value;\n            case 'difficulty':\n              return value.toLowerCase();\n            case 'scenery':\n              return value.toLowerCase();\n            default:\n              return value;\n          }\n        }).filter(pref => pref) // Remove empty preferences\n      }));\n\n      console.log('Sending group preferences:', groupPreferences);\n\n      const response = await fetch('http://localhost:3001/api/trails/recommend', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          groupPreferences: groupPreferences,\n          filters: filters,\n          k: 5\n        })\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(`Recommendation request failed: ${response.status} - ${errorData.error || 'Unknown error'}`);\n      }\n\n      const data = await response.json();\n      \n      // Add group match information to recommended trails\n      const recommendationsWithGroupMatch = data.recommendations.map(trail => ({\n        ...trail,\n        groupMatchPercentage: calculateGroupMatch(trail)\n      }));\n      \n      setRecommendations(recommendationsWithGroupMatch);\n      setCurrentStep('results');\n      \n      console.log('✅ Recommendation algorithm completed:', {\n        algorithm: data.algorithm,\n        totalCandidates: data.totalCandidates,\n        recommendationsCount: data.recommendations.length\n      });\n      \n    } catch (error) {\n      console.error('❌ Recommendation algorithm error:', error);\n      setError(`Recommendation failed: ${error.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const resetToGroupSize = () => {\n    setCurrentStep('group-size');\n    setGroupSize('');\n    setGroupMembers([]);\n    setCurrentMemberIndex(0);\n    setRecommendations([]);\n  };\n\n  if (dataLoading) {\n    return (\n      <div className=\"min-h-screen bg-white flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"w-20 h-20 bg-blue-600 rounded-full flex items-center justify-center mb-8 mx-auto\">\n            <Mountain className=\"text-white\" size={40} />\n          </div>\n          <h2 className=\"text-3xl font-semibold text-gray-800 mb-4\">Loading Trail Data...</h2>\n          <p className=\"text-xl text-gray-600\">Connecting to backend and loading trails</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-white\">\n      <div className=\"max-w-6xl mx-auto\">\n        {/* Header */}\n        <header className=\"border-b border-gray-200\">\n          <div className=\"max-w-6xl mx-auto px-6 py-4\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center\">\n                  <Home className=\"text-white\" size={20} />\n                </div>\n                <h1 className=\"text-3xl font-bold text-gray-900\">Trail Explorer</h1>\n              </div>\n              <div className=\"flex items-center gap-6\">\n                <a href=\"#\" className=\"text-lg text-gray-600 hover:text-gray-900\">About</a>\n                <a href=\"#\" className=\"text-lg text-gray-600 hover:text-gray-900\">Help</a>\n                <button className=\"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-lg font-medium\">\n                  Sign Up\n                </button>\n              </div>\n            </div>\n          </div>\n        </header>\n\n        {/* Error Alert */}\n        {error && (\n          <div className=\"max-w-6xl mx-auto px-6 py-4\">\n            <div className=\"bg-red-50 border border-red-200 rounded-lg p-6\">\n              <div className=\"flex items-center gap-3\">\n                <AlertCircle className=\"text-red-500\" size={24} />\n                <span className=\"text-lg text-red-700\">{error}</span>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Main Content */}\n        <main className=\"max-w-6xl mx-auto px-6 py-12\">\n          {/* Step 1: Group Size Selection */}\n          {currentStep === 'group-size' && (\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center\">\n              {/* Left Column - Image */}\n              <div className=\"relative\">\n                <div className=\"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-2xl p-16 text-center\">\n                  <div className=\"w-32 h-32 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-8\">\n                    <Users className=\"text-white\" size={64} />\n                  </div>\n                  <h2 className=\"text-4xl font-bold text-gray-900 mb-6\">\n                    Find your <span className=\"text-blue-600\">perfect trail</span>\n                  </h2>\n                  <p className=\"text-xl text-gray-600 leading-relaxed\">\n                    AI-powered trail recommendations for groups. \n                    We connect people, analyze preferences, and find the best hiking adventures.\n                  </p>\n                </div>\n              </div>\n\n              {/* Right Column - Form */}\n              <div className=\"space-y-8\">\n                <div>\n                  <h3 className=\"text-3xl font-semibold text-gray-900 mb-4\">How many people in your group?</h3>\n                  <p className=\"text-lg text-gray-600 mb-8\">Select the number of people in your hiking group</p>\n                  \n                  <div className=\"space-y-4\">\n                    <label className=\"block text-lg font-medium text-gray-700 mb-3\">\n                      Group Size\n                    </label>\n                    <select\n                      value={groupSize}\n                      onChange={(e) => {\n                        const size = parseInt(e.target.value);\n                        if (size > 0) {\n                          initializeGroupMembers(size);\n                        }\n                      }}\n                      className=\"w-full p-6 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg text-gray-900\"\n                    >\n                      <option value=\"\">Select group size...</option>\n                      {[1, 2, 3, 4, 5, 6, 7, 8].map((size) => (\n                        <option key={size} value={size}>\n                          {size} {size === 1 ? 'Person' : 'People'}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n                </div>\n\n                <div className=\"bg-gray-50 rounded-lg p-8\">\n                  <h4 className=\"text-xl font-semibold text-gray-900 mb-4\">What happens next?</h4>\n                  <ul className=\"space-y-3 text-lg text-gray-600\">\n                    <li className=\"flex items-center gap-3\">\n                      <div className=\"w-3 h-3 bg-blue-600 rounded-full\"></div>\n                      Each person will set their preferences\n                    </li>\n                    <li className=\"flex items-center gap-3\">\n                      <div className=\"w-3 h-3 bg-blue-600 rounded-full\"></div>\n                      Our AI analyzes group compatibility\n                    </li>\n                    <li className=\"flex items-center gap-2\">\n                      <div className=\"w-2 h-2 bg-blue-600 rounded-full\"></div>\n                      Get top 5 personalized recommendations\n                    </li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Step 2: Individual Preferences */}\n          {currentStep === 'preferences' && (\n            <div className=\"max-w-4xl mx-auto\">\n              <div className=\"text-center mb-12\">\n                <h2 className=\"text-4xl font-bold text-gray-900 mb-4\">\n                  {groupMembers[currentMemberIndex]?.name}'s Preferences\n                </h2>\n                <p className=\"text-xl text-gray-600\">\n                  Member {currentMemberIndex + 1} of {groupMembers.length}\n                </p>\n              </div>\n\n              <div className=\"space-y-8\">\n                {availablePreferences.map((pref) => (\n                  <div key={pref.id} className=\"bg-white rounded-xl shadow-lg p-8\">\n                    <div className=\"flex items-center gap-4 mb-6\">\n                      <div className=\"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center\">\n                        <pref.icon className=\"text-blue-600\" size={24} />\n                      </div>\n                      <div>\n                        <h3 className=\"text-2xl font-semibold text-gray-900\">{pref.label}</h3>\n                        <p className=\"text-lg text-gray-600\">Select your preferred {pref.label.toLowerCase()}</p>\n                      </div>\n                    </div>\n                    \n                    <select\n                      value={groupMembers[currentMemberIndex]?.preferences[pref.id] || ''}\n                      onChange={(e) => updateMemberPreference(currentMemberIndex, pref.id, e.target.value)}\n                      className=\"w-full p-6 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg text-gray-900\"\n                    >\n                      <option value=\"\">Select {pref.label.toLowerCase()}...</option>\n                      {pref.options.map((option) => (\n                        <option key={option} value={option}>\n                          {option}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n                ))}\n              </div>\n\n              <div className=\"flex justify-between items-center mt-12\">\n                <button\n                  onClick={prevMember}\n                  disabled={currentMemberIndex === 0}\n                  className=\"px-8 py-4 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-lg font-medium\"\n                >\n                  Previous\n                </button>\n                \n                {currentMemberIndex === groupMembers.length - 1 ? (\n                  <button\n                    onClick={getRecommendations}\n                    disabled={loading}\n                    className=\"px-8 py-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-lg font-medium\"\n                  >\n                    {loading ? 'Getting Recommendations...' : 'Get Recommendations'}\n                  </button>\n                ) : (\n                  <button\n                    onClick={nextMember}\n                    className=\"px-8 py-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-lg font-medium\"\n                  >\n                    Next Member\n                  </button>\n                )}\n              </div>\n            </div>\n          )}\n\n          {/* Step 3: Results */}\n          {currentStep === 'results' && (\n            <div className=\"max-w-6xl mx-auto\">\n              <div className=\"text-center mb-12\">\n                <h2 className=\"text-4xl font-bold text-gray-900 mb-4\">Your Recommended Trails</h2>\n                <p className=\"text-xl text-gray-600\">\n                  Top 5 trails selected for your group of {groupMembers.length} people\n                </p>\n              </div>\n\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n                {recommendations.map((trail, index) => (\n                  <div key={trail.trail_id} className=\"bg-white rounded-xl shadow-lg p-8 border border-gray-200\">\n                    <div className=\"flex justify-between items-start mb-6\">\n                      <div>\n                        <div className=\"flex items-center gap-3 mb-3\">\n                          <div className=\"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-lg font-bold\">\n                            {index + 1}\n                          </div>\n                          <h3 className=\"text-2xl font-bold text-gray-900\">{trail.trail_name}</h3>\n                        </div>\n                        <p className=\"text-lg text-gray-600 mb-4\">{trail.location}</p>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <Star className=\"text-yellow-500\" size={24} />\n                        <span className=\"text-xl font-semibold text-gray-900\">{trail.rating}</span>\n                      </div>\n                    </div>\n\n                    <div className=\"grid grid-cols-2 gap-6 mb-6\">\n                      <div className=\"space-y-3\">\n                        <div className=\"flex items-center gap-3\">\n                          <MapPin className=\"text-gray-500\" size={20} />\n                          <span className=\"text-lg text-gray-700\">{trail.distance_km}km</span>\n                        </div>\n                        <div className=\"flex items-center gap-3\">\n                          <Clock className=\"text-gray-500\" size={20} />\n                          <span className=\"text-lg text-gray-700\">{trail.estimated_time_hours}h</span>\n                        </div>\n                      </div>\n                      <div className=\"space-y-3\">\n                        <div className=\"flex items-center gap-3\">\n                          <Mountain className=\"text-gray-500\" size={20} />\n                          <span className=\"text-lg text-gray-700\">{trail.elevation_gain_m}m</span>\n                        </div>\n                        <div className=\"flex items-center gap-3\">\n                          <Users className=\"text-gray-500\" size={20} />\n                          <span className=\"text-lg text-gray-700\">{trail.groupMatchPercentage}% match</span>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"flex items-center gap-3 mb-6\">\n                      <span className={`px-4 py-2 rounded-full text-lg font-medium ${\n                        trail.difficulty === 'Easy' ? 'bg-green-100 text-green-800' :\n                        trail.difficulty === 'Moderate' ? 'bg-yellow-100 text-yellow-800' :\n                        'bg-red-100 text-red-800'\n                      }`}>\n                        {trail.difficulty}\n                      </span>\n                      <span className=\"px-4 py-2 bg-blue-100 text-blue-800 rounded-full text-lg font-medium\">\n                        {trail.trail_type}\n                      </span>\n                    </div>\n\n                    <div className=\"flex flex-wrap gap-2 mb-6\">\n                      {trail.scenery_types.map((scenery, i) => (\n                        <span key={i} className=\"px-3 py-2 bg-gray-100 text-gray-700 rounded-full text-lg\">\n                          {scenery}\n                        </span>\n                      ))}\n                    </div>\n\n                    <p className=\"text-lg text-gray-600 leading-relaxed\">\n                      {trail.description}\n                    </p>\n                  </div>\n                ))}\n              </div>\n\n              <div className=\"text-center mt-12\">\n                <button\n                  onClick={resetToGroupSize}\n                  className=\"px-8 py-4 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-lg font-medium\"\n                >\n                  Start Over\n                </button>\n              </div>\n            </div>\n          )}\n        </main>\n      </div>\n    </div>\n  );\n};\n\nexport default InteractiveTrailSelector;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,MAAM,EAAEC,MAAM,EAAEC,MAAM,EAAEC,KAAK,EAAEC,QAAQ,EAAEC,IAAI,EAAEC,KAAK,EAAEC,GAAG,EAAEC,GAAG,EAAEC,UAAU,EAAEC,WAAW,EAAEC,SAAS,EAAEC,KAAK,EAAEC,QAAQ,EAAEC,KAAK,EAAEC,WAAW,EAAEC,CAAC,EAAEC,IAAI,EAAEC,IAAI,EAAEC,QAAQ,EAAEC,UAAU,EAAEC,SAAS,EAAEC,IAAI,QAAQ,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE7N,MAAMC,wBAAwB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAAA,IAAAC,qBAAA;EACrC,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAG/B,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACgC,eAAe,EAAEC,kBAAkB,CAAC,GAAGjC,QAAQ,CAAC,EAAE,CAAC;EAC1D,MAAM,CAACkC,OAAO,EAAEC,UAAU,CAAC,GAAGnC,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACoC,WAAW,EAAEC,cAAc,CAAC,GAAGrC,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACsC,KAAK,EAAEC,QAAQ,CAAC,GAAGvC,QAAQ,CAAC,IAAI,CAAC;;EAExC;EACA,MAAM,CAACwC,SAAS,EAAEC,YAAY,CAAC,GAAGzC,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAAC0C,YAAY,EAAEC,eAAe,CAAC,GAAG3C,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAAC4C,WAAW,EAAEC,cAAc,CAAC,GAAG7C,QAAQ,CAAC,YAAY,CAAC,CAAC,CAAC;EAC9D,MAAM,CAAC8C,kBAAkB,EAAEC,qBAAqB,CAAC,GAAG/C,QAAQ,CAAC,CAAC,CAAC;;EAE/D;EACA,MAAMgD,oBAAoB,GAAG,CAC3B;IAAEC,EAAE,EAAE,UAAU;IAAEC,KAAK,EAAE,UAAU;IAAEC,IAAI,EAAE/C,MAAM;IAAEgD,OAAO,EAAE,CAAC,eAAe,EAAE,iBAAiB,EAAE,eAAe;EAAE,CAAC,EACnH;IAAEH,EAAE,EAAE,WAAW;IAAEC,KAAK,EAAE,gBAAgB;IAAEC,IAAI,EAAE7C,QAAQ;IAAE8C,OAAO,EAAE,CAAC,cAAc,EAAE,mBAAmB,EAAE,eAAe;EAAE,CAAC,EAC7H;IAAEH,EAAE,EAAE,MAAM;IAAEC,KAAK,EAAE,UAAU;IAAEC,IAAI,EAAE9C,KAAK;IAAE+C,OAAO,EAAE,CAAC,cAAc,EAAE,iBAAiB,EAAE,aAAa;EAAE,CAAC,EAC3G;IAAEH,EAAE,EAAE,YAAY;IAAEC,KAAK,EAAE,YAAY;IAAEC,IAAI,EAAEpC,QAAQ;IAAEqC,OAAO,EAAE,CAAC,MAAM,EAAE,UAAU,EAAE,MAAM;EAAE,CAAC,EAChG;IAAEH,EAAE,EAAE,SAAS;IAAEC,KAAK,EAAE,cAAc;IAAEC,IAAI,EAAE1C,GAAG;IAAE2C,OAAO,EAAE,CAAC,UAAU,EAAE,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE,WAAW,EAAE,QAAQ;EAAE,CAAC,CAC7H;EAED,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGtD,QAAQ,CAAC;IACrCuD,UAAU,EAAE,EAAE;IACdC,WAAW,EAAE,EAAE;IACfC,OAAO,EAAE,EAAE;IACXC,SAAS,EAAE;EACb,CAAC,CAAC;EAEF,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAG5D,QAAQ,CAAC,EAAE,CAAC;;EAEhD;EACAC,SAAS,CAAC,MAAM;IACd,MAAM4D,UAAU,GAAG,MAAAA,CAAA,KAAY;MAC7BxB,cAAc,CAAC,IAAI,CAAC;MACpBE,QAAQ,CAAC,IAAI,CAAC;MAEd,IAAI;QACFuB,OAAO,CAACC,GAAG,CAAC,qCAAqC,EAAE,kCAAkC,CAAC;;QAEtF;QACA,MAAMC,WAAW,GAAG,MAAMC,KAAK,CAAC,kCAAkC,EAAE;UAClEC,MAAM,EAAE,KAAK;UACbC,OAAO,EAAE;YACP,cAAc,EAAE;UAClB,CAAC;UACDC,MAAM,EAAEC,WAAW,CAACC,OAAO,CAAC,IAAI,CAAC,CAAC;QACpC,CAAC,CAAC;QACFR,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAEC,WAAW,CAACO,MAAM,CAAC;QAE1D,IAAI,CAACP,WAAW,CAACQ,EAAE,EAAE;UACnB,MAAM,IAAIC,KAAK,CAAC,gCAAgCT,WAAW,CAACO,MAAM,EAAE,CAAC;QACvE;QAEA,MAAMG,QAAQ,GAAG,MAAMT,KAAK,CAAC,kCAAkC,EAAE;UAC/DC,MAAM,EAAE,KAAK;UACbC,OAAO,EAAE;YACP,cAAc,EAAE;UAClB,CAAC;UACDC,MAAM,EAAEC,WAAW,CAACC,OAAO,CAAC,KAAK,CAAC,CAAC;QACrC,CAAC,CAAC;QAEFR,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEW,QAAQ,CAACH,MAAM,CAAC;QACnDT,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEW,QAAQ,CAACP,OAAO,CAAC;QAErD,IAAI,CAACO,QAAQ,CAACF,EAAE,EAAE;UAChB,MAAMG,SAAS,GAAG,MAAMD,QAAQ,CAACE,IAAI,CAAC,CAAC;UACvCd,OAAO,CAACxB,KAAK,CAAC,wBAAwB,EAAEqC,SAAS,CAAC;UAClD,MAAM,IAAIF,KAAK,CAAC,uBAAuBC,QAAQ,CAACH,MAAM,MAAMI,SAAS,EAAE,CAAC;QAC1E;QAEA,MAAME,IAAI,GAAG,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC;QAClChB,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEc,IAAI,CAACE,MAAM,EAAE,QAAQ,CAAC;;QAEtD;QACA,MAAMC,aAAa,GAAGH,IAAI,CAACI,GAAG,CAACC,KAAK,KAAK;UACvC,GAAGA,KAAK;UACRC,WAAW,EAAEC,UAAU,CAACF,KAAK,CAACC,WAAW,CAAC;UAC1CE,oBAAoB,EAAED,UAAU,CAACF,KAAK,CAACG,oBAAoB,CAAC;UAC5DC,gBAAgB,EAAEC,QAAQ,CAACL,KAAK,CAACI,gBAAgB,CAAC;UAClDE,MAAM,EAAEJ,UAAU,CAACF,KAAK,CAACM,MAAM,CAAC;UAChCC,aAAa,EAAEC,KAAK,CAACC,OAAO,CAACT,KAAK,CAACO,aAAa,CAAC,GAC7CP,KAAK,CAACO,aAAa,GAClB,OAAOP,KAAK,CAACO,aAAa,KAAK,QAAQ,GACpCP,KAAK,CAACO,aAAa,CAACG,KAAK,CAAC,GAAG,CAAC,CAACX,GAAG,CAACY,CAAC,IAAIA,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC,GACjD;QACV,CAAC,CAAC,CAAC;QAEH/D,SAAS,CAACiD,aAAa,CAAC;QACxBlB,OAAO,CAACC,GAAG,CAAC,yBAAyBiB,aAAa,CAACD,MAAM,aAAa,CAAC;MACzE,CAAC,CAAC,OAAOgB,GAAG,EAAE;QACZjC,OAAO,CAACxB,KAAK,CAAC,yBAAyB,EAAEyD,GAAG,CAAC;QAC7CjC,OAAO,CAACxB,KAAK,CAAC,kBAAkB,EAAE;UAChC0D,IAAI,EAAED,GAAG,CAACC,IAAI;UACdC,OAAO,EAAEF,GAAG,CAACE,OAAO;UACpBC,KAAK,EAAEH,GAAG,CAACG,KAAK;UAChBC,KAAK,EAAEJ,GAAG,CAACI;QACb,CAAC,CAAC;;QAEF;QACA,IAAIC,YAAY,GAAGL,GAAG,CAACE,OAAO;QAC9B,IAAIF,GAAG,CAACC,IAAI,KAAK,YAAY,EAAE;UAC7BI,YAAY,GAAG,mEAAmE;QACpF,CAAC,MAAM,IAAIL,GAAG,CAACC,IAAI,KAAK,WAAW,IAAID,GAAG,CAACE,OAAO,CAACI,QAAQ,CAAC,OAAO,CAAC,EAAE;UACpED,YAAY,GAAG,qEAAqE;QACtF,CAAC,MAAM,IAAIL,GAAG,CAACE,OAAO,CAACI,QAAQ,CAAC,iBAAiB,CAAC,EAAE;UAClDD,YAAY,GAAG,qFAAqF;QACtG;QAEA7D,QAAQ,CAAC,0BAA0B6D,YAAY,EAAE,CAAC;MACpD,CAAC,SAAS;QACR/D,cAAc,CAAC,KAAK,CAAC;MACvB;IACF,CAAC;IAEDwB,UAAU,CAAC,CAAC;EACd,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMyC,kBAAkB,GAAGA,CAACC,GAAG,EAAEC,KAAK,KAAK;IACzClD,UAAU,CAACmD,IAAI,KAAK;MAClB,GAAGA,IAAI;MACP,CAACF,GAAG,GAAGC;IACT,CAAC,CAAC,CAAC;EACL,CAAC;EAED,MAAME,sBAAsB,GAAIC,IAAI,IAAK;IACvC,MAAMC,OAAO,GAAG,EAAE;IAClB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,IAAI,EAAEE,CAAC,EAAE,EAAE;MAC7BD,OAAO,CAACE,IAAI,CAAC;QACX7D,EAAE,EAAE4D,CAAC;QACLb,IAAI,EAAE,UAAUa,CAAC,GAAG,CAAC,EAAE;QACvBE,WAAW,EAAE,CAAC;MAChB,CAAC,CAAC;IACJ;IACApE,eAAe,CAACiE,OAAO,CAAC;IACxB/D,cAAc,CAAC,aAAa,CAAC;IAC7BE,qBAAqB,CAAC,CAAC,CAAC;EAC1B,CAAC;EAED,MAAMiE,sBAAsB,GAAGA,CAACC,QAAQ,EAAEC,cAAc,EAAEV,KAAK,KAAK;IAClE7D,eAAe,CAACiE,OAAO,IACrBA,OAAO,CAAC3B,GAAG,CAACkC,MAAM,IAChBA,MAAM,CAAClE,EAAE,KAAKgE,QAAQ,GAClB;MAAE,GAAGE,MAAM;MAAEJ,WAAW,EAAE;QAAE,GAAGI,MAAM,CAACJ,WAAW;QAAE,CAACG,cAAc,GAAGV;MAAM;IAAE,CAAC,GAC9EW,MACN,CACF,CAAC;EACH,CAAC;EAED,MAAMC,UAAU,GAAGA,CAAA,KAAM;IACvB,IAAItE,kBAAkB,GAAGJ,YAAY,CAACqC,MAAM,GAAG,CAAC,EAAE;MAChDhC,qBAAqB,CAACD,kBAAkB,GAAG,CAAC,CAAC;IAC/C,CAAC,MAAM;MACL;MACAuE,kBAAkB,CAAC,CAAC;IACtB;EACF,CAAC;EAED,MAAMC,UAAU,GAAGA,CAAA,KAAM;IACvB,IAAIxE,kBAAkB,GAAG,CAAC,EAAE;MAC1BC,qBAAqB,CAACD,kBAAkB,GAAG,CAAC,CAAC;IAC/C;EACF,CAAC;EAED,MAAMyE,mBAAmB,GAAIrC,KAAK,IAAK;IACrC,IAAIxC,YAAY,CAACqC,MAAM,KAAK,CAAC,EAAE,OAAO,CAAC;IACvC,IAAIyC,UAAU,GAAG,CAAC;IAClB9E,YAAY,CAAC+E,OAAO,CAACN,MAAM,IAAI;MAC7B,MAAMO,WAAW,GAAGP,MAAM,CAACJ,WAAW,CAACY,OAAO,IAC5CzC,KAAK,CAACO,aAAa,CAACmC,IAAI,CAACD,OAAO,IAC9BA,OAAO,CAACE,WAAW,CAAC,CAAC,CAACxB,QAAQ,CAACc,MAAM,CAACJ,WAAW,CAACY,OAAO,CAACE,WAAW,CAAC,CAAC,CACzE,CAAC;MACH,IAAIH,WAAW,EAAEF,UAAU,EAAE;IAC/B,CAAC,CAAC;IACF,OAAQA,UAAU,GAAG9E,YAAY,CAACqC,MAAM,GAAI,GAAG;EACjD,CAAC;EAED,MAAMsC,kBAAkB,GAAG,MAAAA,CAAA,KAAY;IACrClF,UAAU,CAAC,IAAI,CAAC;IAChBI,QAAQ,CAAC,IAAI,CAAC;IAEd,IAAI;MACF;MACA,MAAMuF,gBAAgB,GAAGpF,YAAY,CAACuC,GAAG,CAACkC,MAAM,KAAK;QACnDnB,IAAI,EAAEmB,MAAM,CAACnB,IAAI;QACjBe,WAAW,EAAEgB,MAAM,CAACC,IAAI,CAACb,MAAM,CAACJ,WAAW,CAAC,CAAC9B,GAAG,CAACsB,GAAG,IAAI;UACtD,MAAMC,KAAK,GAAGW,MAAM,CAACJ,WAAW,CAACR,GAAG,CAAC;UACrC;UACA,QAAOA,GAAG;YACR,KAAK,UAAU;cACb,IAAIC,KAAK,KAAK,eAAe,EAAE,OAAO,OAAO;cAC7C,IAAIA,KAAK,KAAK,iBAAiB,EAAE,OAAO,QAAQ;cAChD,IAAIA,KAAK,KAAK,eAAe,EAAE,OAAO,MAAM;cAC5C,OAAOA,KAAK;YACd,KAAK,WAAW;cACd,IAAIA,KAAK,KAAK,cAAc,EAAE,OAAO,KAAK;cAC1C,IAAIA,KAAK,KAAK,mBAAmB,EAAE,OAAO,QAAQ;cAClD,IAAIA,KAAK,KAAK,eAAe,EAAE,OAAO,MAAM;cAC5C,OAAOA,KAAK;YACd,KAAK,MAAM;cACT,IAAIA,KAAK,KAAK,cAAc,EAAE,OAAO,OAAO;cAC5C,IAAIA,KAAK,KAAK,iBAAiB,EAAE,OAAO,UAAU;cAClD,IAAIA,KAAK,KAAK,aAAa,EAAE,OAAO,MAAM;cAC1C,OAAOA,KAAK;YACd,KAAK,YAAY;cACf,OAAOA,KAAK,CAACqB,WAAW,CAAC,CAAC;YAC5B,KAAK,SAAS;cACZ,OAAOrB,KAAK,CAACqB,WAAW,CAAC,CAAC;YAC5B;cACE,OAAOrB,KAAK;UAChB;QACF,CAAC,CAAC,CAACyB,MAAM,CAACC,IAAI,IAAIA,IAAI,CAAC,CAAC;MAC1B,CAAC,CAAC,CAAC;MAEHpE,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAE+D,gBAAgB,CAAC;MAE3D,MAAMpD,QAAQ,GAAG,MAAMT,KAAK,CAAC,4CAA4C,EAAE;QACzEC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDgE,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnBP,gBAAgB,EAAEA,gBAAgB;UAClCzE,OAAO,EAAEA,OAAO;UAChBiF,CAAC,EAAE;QACL,CAAC;MACH,CAAC,CAAC;MAEF,IAAI,CAAC5D,QAAQ,CAACF,EAAE,EAAE;QAChB,MAAM+D,SAAS,GAAG,MAAM7D,QAAQ,CAACI,IAAI,CAAC,CAAC,CAAC0D,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;QACzD,MAAM,IAAI/D,KAAK,CAAC,kCAAkCC,QAAQ,CAACH,MAAM,MAAMgE,SAAS,CAACjG,KAAK,IAAI,eAAe,EAAE,CAAC;MAC9G;MAEA,MAAMuC,IAAI,GAAG,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC;;MAElC;MACA,MAAM2D,6BAA6B,GAAG5D,IAAI,CAAC7C,eAAe,CAACiD,GAAG,CAACC,KAAK,KAAK;QACvE,GAAGA,KAAK;QACRwD,oBAAoB,EAAEnB,mBAAmB,CAACrC,KAAK;MACjD,CAAC,CAAC,CAAC;MAEHjD,kBAAkB,CAACwG,6BAA6B,CAAC;MACjD5F,cAAc,CAAC,SAAS,CAAC;MAEzBiB,OAAO,CAACC,GAAG,CAAC,uCAAuC,EAAE;QACnD4E,SAAS,EAAE9D,IAAI,CAAC8D,SAAS;QACzBC,eAAe,EAAE/D,IAAI,CAAC+D,eAAe;QACrCC,oBAAoB,EAAEhE,IAAI,CAAC7C,eAAe,CAAC+C;MAC7C,CAAC,CAAC;IAEJ,CAAC,CAAC,OAAOzC,KAAK,EAAE;MACdwB,OAAO,CAACxB,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC;MACzDC,QAAQ,CAAC,0BAA0BD,KAAK,CAAC2D,OAAO,EAAE,CAAC;IACrD,CAAC,SAAS;MACR9D,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAM2G,gBAAgB,GAAGA,CAAA,KAAM;IAC7BjG,cAAc,CAAC,YAAY,CAAC;IAC5BJ,YAAY,CAAC,EAAE,CAAC;IAChBE,eAAe,CAAC,EAAE,CAAC;IACnBI,qBAAqB,CAAC,CAAC,CAAC;IACxBd,kBAAkB,CAAC,EAAE,CAAC;EACxB,CAAC;EAED,IAAIG,WAAW,EAAE;IACf,oBACEV,OAAA;MAAKqH,SAAS,EAAC,wDAAwD;MAAAC,QAAA,eACrEtH,OAAA;QAAKqH,SAAS,EAAC,aAAa;QAAAC,QAAA,gBAC1BtH,OAAA;UAAKqH,SAAS,EAAC,kFAAkF;UAAAC,QAAA,eAC/FtH,OAAA,CAACpB,QAAQ;YAACyI,SAAS,EAAC,YAAY;YAACpC,IAAI,EAAE;UAAG;YAAAsC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1C,CAAC,eACN1H,OAAA;UAAIqH,SAAS,EAAC,2CAA2C;UAAAC,QAAA,EAAC;QAAqB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACpF1H,OAAA;UAAGqH,SAAS,EAAC,uBAAuB;UAAAC,QAAA,EAAC;QAAwC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9E;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;EAEA,oBACE1H,OAAA;IAAKqH,SAAS,EAAC,uBAAuB;IAAAC,QAAA,eACpCtH,OAAA;MAAKqH,SAAS,EAAC,mBAAmB;MAAAC,QAAA,gBAEhCtH,OAAA;QAAQqH,SAAS,EAAC,0BAA0B;QAAAC,QAAA,eAC1CtH,OAAA;UAAKqH,SAAS,EAAC,6BAA6B;UAAAC,QAAA,eAC1CtH,OAAA;YAAKqH,SAAS,EAAC,mCAAmC;YAAAC,QAAA,gBAChDtH,OAAA;cAAKqH,SAAS,EAAC,yBAAyB;cAAAC,QAAA,gBACtCtH,OAAA;gBAAKqH,SAAS,EAAC,iEAAiE;gBAAAC,QAAA,eAC9EtH,OAAA,CAACF,IAAI;kBAACuH,SAAS,EAAC,YAAY;kBAACpC,IAAI,EAAE;gBAAG;kBAAAsC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtC,CAAC,eACN1H,OAAA;gBAAIqH,SAAS,EAAC,kCAAkC;gBAAAC,QAAA,EAAC;cAAc;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACjE,CAAC,eACN1H,OAAA;cAAKqH,SAAS,EAAC,yBAAyB;cAAAC,QAAA,gBACtCtH,OAAA;gBAAG2H,IAAI,EAAC,GAAG;gBAACN,SAAS,EAAC,2CAA2C;gBAAAC,QAAA,EAAC;cAAK;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC,eAC3E1H,OAAA;gBAAG2H,IAAI,EAAC,GAAG;gBAACN,SAAS,EAAC,2CAA2C;gBAAAC,QAAA,EAAC;cAAI;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC,eAC1E1H,OAAA;gBAAQqH,SAAS,EAAC,qGAAqG;gBAAAC,QAAA,EAAC;cAExH;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC,EAGR9G,KAAK,iBACJZ,OAAA;QAAKqH,SAAS,EAAC,6BAA6B;QAAAC,QAAA,eAC1CtH,OAAA;UAAKqH,SAAS,EAAC,gDAAgD;UAAAC,QAAA,eAC7DtH,OAAA;YAAKqH,SAAS,EAAC,yBAAyB;YAAAC,QAAA,gBACtCtH,OAAA,CAACd,WAAW;cAACmI,SAAS,EAAC,cAAc;cAACpC,IAAI,EAAE;YAAG;cAAAsC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAClD1H,OAAA;cAAMqH,SAAS,EAAC,sBAAsB;cAAAC,QAAA,EAAE1G;YAAK;cAAA2G,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClD;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN,eAGD1H,OAAA;QAAMqH,SAAS,EAAC,8BAA8B;QAAAC,QAAA,GAE3CpG,WAAW,KAAK,YAAY,iBAC3BlB,OAAA;UAAKqH,SAAS,EAAC,qDAAqD;UAAAC,QAAA,gBAElEtH,OAAA;YAAKqH,SAAS,EAAC,UAAU;YAAAC,QAAA,eACvBtH,OAAA;cAAKqH,SAAS,EAAC,2EAA2E;cAAAC,QAAA,gBACxFtH,OAAA;gBAAKqH,SAAS,EAAC,kFAAkF;gBAAAC,QAAA,eAC/FtH,OAAA,CAAClB,KAAK;kBAACuI,SAAS,EAAC,YAAY;kBAACpC,IAAI,EAAE;gBAAG;kBAAAsC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACvC,CAAC,eACN1H,OAAA;gBAAIqH,SAAS,EAAC,uCAAuC;gBAAAC,QAAA,GAAC,YAC1C,eAAAtH,OAAA;kBAAMqH,SAAS,EAAC,eAAe;kBAAAC,QAAA,EAAC;gBAAa;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC5D,CAAC,eACL1H,OAAA;gBAAGqH,SAAS,EAAC,uCAAuC;gBAAAC,QAAA,EAAC;cAGrD;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAGN1H,OAAA;YAAKqH,SAAS,EAAC,WAAW;YAAAC,QAAA,gBACxBtH,OAAA;cAAAsH,QAAA,gBACEtH,OAAA;gBAAIqH,SAAS,EAAC,2CAA2C;gBAAAC,QAAA,EAAC;cAA8B;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC7F1H,OAAA;gBAAGqH,SAAS,EAAC,4BAA4B;gBAAAC,QAAA,EAAC;cAAgD;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC,eAE9F1H,OAAA;gBAAKqH,SAAS,EAAC,WAAW;gBAAAC,QAAA,gBACxBtH,OAAA;kBAAOqH,SAAS,EAAC,8CAA8C;kBAAAC,QAAA,EAAC;gBAEhE;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eACR1H,OAAA;kBACE8E,KAAK,EAAEhE,SAAU;kBACjB8G,QAAQ,EAAGC,CAAC,IAAK;oBACf,MAAM5C,IAAI,GAAGpB,QAAQ,CAACgE,CAAC,CAACC,MAAM,CAAChD,KAAK,CAAC;oBACrC,IAAIG,IAAI,GAAG,CAAC,EAAE;sBACZD,sBAAsB,CAACC,IAAI,CAAC;oBAC9B;kBACF,CAAE;kBACFoC,SAAS,EAAC,iJAAiJ;kBAAAC,QAAA,gBAE3JtH,OAAA;oBAAQ8E,KAAK,EAAC,EAAE;oBAAAwC,QAAA,EAAC;kBAAoB;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,EAC7C,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAACnE,GAAG,CAAE0B,IAAI,iBACjCjF,OAAA;oBAAmB8E,KAAK,EAAEG,IAAK;oBAAAqC,QAAA,GAC5BrC,IAAI,EAAC,GAAC,EAACA,IAAI,KAAK,CAAC,GAAG,QAAQ,GAAG,QAAQ;kBAAA,GAD7BA,IAAI;oBAAAsC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAET,CACT,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACN,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eAEN1H,OAAA;cAAKqH,SAAS,EAAC,2BAA2B;cAAAC,QAAA,gBACxCtH,OAAA;gBAAIqH,SAAS,EAAC,0CAA0C;gBAAAC,QAAA,EAAC;cAAkB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAChF1H,OAAA;gBAAIqH,SAAS,EAAC,iCAAiC;gBAAAC,QAAA,gBAC7CtH,OAAA;kBAAIqH,SAAS,EAAC,yBAAyB;kBAAAC,QAAA,gBACrCtH,OAAA;oBAAKqH,SAAS,EAAC;kBAAkC;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,0CAE1D;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACL1H,OAAA;kBAAIqH,SAAS,EAAC,yBAAyB;kBAAAC,QAAA,gBACrCtH,OAAA;oBAAKqH,SAAS,EAAC;kBAAkC;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,uCAE1D;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACL1H,OAAA;kBAAIqH,SAAS,EAAC,yBAAyB;kBAAAC,QAAA,gBACrCtH,OAAA;oBAAKqH,SAAS,EAAC;kBAAkC;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,0CAE1D;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACF,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CACN,EAGAxG,WAAW,KAAK,aAAa,iBAC5BlB,OAAA;UAAKqH,SAAS,EAAC,mBAAmB;UAAAC,QAAA,gBAChCtH,OAAA;YAAKqH,SAAS,EAAC,mBAAmB;YAAAC,QAAA,gBAChCtH,OAAA;cAAIqH,SAAS,EAAC,uCAAuC;cAAAC,QAAA,IAAAnH,qBAAA,GAClDa,YAAY,CAACI,kBAAkB,CAAC,cAAAjB,qBAAA,uBAAhCA,qBAAA,CAAkCmE,IAAI,EAAC,gBAC1C;YAAA;cAAAiD,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACL1H,OAAA;cAAGqH,SAAS,EAAC,uBAAuB;cAAAC,QAAA,GAAC,SAC5B,EAAClG,kBAAkB,GAAG,CAAC,EAAC,MAAI,EAACJ,YAAY,CAACqC,MAAM;YAAA;cAAAkE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD,CAAC,eAEN1H,OAAA;YAAKqH,SAAS,EAAC,WAAW;YAAAC,QAAA,EACvBhG,oBAAoB,CAACiC,GAAG,CAAEiD,IAAI;cAAA,IAAAuB,sBAAA;cAAA,oBAC7B/H,OAAA;gBAAmBqH,SAAS,EAAC,mCAAmC;gBAAAC,QAAA,gBAC9DtH,OAAA;kBAAKqH,SAAS,EAAC,8BAA8B;kBAAAC,QAAA,gBAC3CtH,OAAA;oBAAKqH,SAAS,EAAC,mEAAmE;oBAAAC,QAAA,eAChFtH,OAAA,CAACwG,IAAI,CAAC/E,IAAI;sBAAC4F,SAAS,EAAC,eAAe;sBAACpC,IAAI,EAAE;oBAAG;sBAAAsC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC9C,CAAC,eACN1H,OAAA;oBAAAsH,QAAA,gBACEtH,OAAA;sBAAIqH,SAAS,EAAC,sCAAsC;sBAAAC,QAAA,EAAEd,IAAI,CAAChF;oBAAK;sBAAA+F,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC,eACtE1H,OAAA;sBAAGqH,SAAS,EAAC,uBAAuB;sBAAAC,QAAA,GAAC,wBAAsB,EAACd,IAAI,CAAChF,KAAK,CAAC2E,WAAW,CAAC,CAAC;oBAAA;sBAAAoB,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACtF,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC,eAEN1H,OAAA;kBACE8E,KAAK,EAAE,EAAAiD,sBAAA,GAAA/G,YAAY,CAACI,kBAAkB,CAAC,cAAA2G,sBAAA,uBAAhCA,sBAAA,CAAkC1C,WAAW,CAACmB,IAAI,CAACjF,EAAE,CAAC,KAAI,EAAG;kBACpEqG,QAAQ,EAAGC,CAAC,IAAKvC,sBAAsB,CAAClE,kBAAkB,EAAEoF,IAAI,CAACjF,EAAE,EAAEsG,CAAC,CAACC,MAAM,CAAChD,KAAK,CAAE;kBACrFuC,SAAS,EAAC,iJAAiJ;kBAAAC,QAAA,gBAE3JtH,OAAA;oBAAQ8E,KAAK,EAAC,EAAE;oBAAAwC,QAAA,GAAC,SAAO,EAACd,IAAI,CAAChF,KAAK,CAAC2E,WAAW,CAAC,CAAC,EAAC,KAAG;kBAAA;oBAAAoB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,EAC7DlB,IAAI,CAAC9E,OAAO,CAAC6B,GAAG,CAAEyE,MAAM,iBACvBhI,OAAA;oBAAqB8E,KAAK,EAAEkD,MAAO;oBAAAV,QAAA,EAChCU;kBAAM,GADIA,MAAM;oBAAAT,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAEX,CACT,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACI,CAAC;cAAA,GAtBDlB,IAAI,CAACjF,EAAE;gBAAAgG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAuBZ,CAAC;YAAA,CACP;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAEN1H,OAAA;YAAKqH,SAAS,EAAC,yCAAyC;YAAAC,QAAA,gBACtDtH,OAAA;cACEiI,OAAO,EAAErC,UAAW;cACpBsC,QAAQ,EAAE9G,kBAAkB,KAAK,CAAE;cACnCiG,SAAS,EAAC,qJAAqJ;cAAAC,QAAA,EAChK;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,EAERtG,kBAAkB,KAAKJ,YAAY,CAACqC,MAAM,GAAG,CAAC,gBAC7CrD,OAAA;cACEiI,OAAO,EAAEtC,kBAAmB;cAC5BuC,QAAQ,EAAE1H,OAAQ;cAClB6G,SAAS,EAAC,qJAAqJ;cAAAC,QAAA,EAE9J9G,OAAO,GAAG,4BAA4B,GAAG;YAAqB;cAAA+G,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzD,CAAC,gBAET1H,OAAA;cACEiI,OAAO,EAAEvC,UAAW;cACpB2B,SAAS,EAAC,qGAAqG;cAAAC,QAAA,EAChH;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CACT;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CACN,EAGAxG,WAAW,KAAK,SAAS,iBACxBlB,OAAA;UAAKqH,SAAS,EAAC,mBAAmB;UAAAC,QAAA,gBAChCtH,OAAA;YAAKqH,SAAS,EAAC,mBAAmB;YAAAC,QAAA,gBAChCtH,OAAA;cAAIqH,SAAS,EAAC,uCAAuC;cAAAC,QAAA,EAAC;YAAuB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAClF1H,OAAA;cAAGqH,SAAS,EAAC,uBAAuB;cAAAC,QAAA,GAAC,0CACK,EAACtG,YAAY,CAACqC,MAAM,EAAC,SAC/D;YAAA;cAAAkE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD,CAAC,eAEN1H,OAAA;YAAKqH,SAAS,EAAC,uCAAuC;YAAAC,QAAA,EACnDhH,eAAe,CAACiD,GAAG,CAAC,CAACC,KAAK,EAAE2E,KAAK,kBAChCnI,OAAA;cAA0BqH,SAAS,EAAC,0DAA0D;cAAAC,QAAA,gBAC5FtH,OAAA;gBAAKqH,SAAS,EAAC,uCAAuC;gBAAAC,QAAA,gBACpDtH,OAAA;kBAAAsH,QAAA,gBACEtH,OAAA;oBAAKqH,SAAS,EAAC,8BAA8B;oBAAAC,QAAA,gBAC3CtH,OAAA;sBAAKqH,SAAS,EAAC,gGAAgG;sBAAAC,QAAA,EAC5Ga,KAAK,GAAG;oBAAC;sBAAAZ,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACP,CAAC,eACN1H,OAAA;sBAAIqH,SAAS,EAAC,kCAAkC;sBAAAC,QAAA,EAAE9D,KAAK,CAAC4E;oBAAU;sBAAAb,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACrE,CAAC,eACN1H,OAAA;oBAAGqH,SAAS,EAAC,4BAA4B;oBAAAC,QAAA,EAAE9D,KAAK,CAAC6E;kBAAQ;oBAAAd,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC3D,CAAC,eACN1H,OAAA;kBAAKqH,SAAS,EAAC,yBAAyB;kBAAAC,QAAA,gBACtCtH,OAAA,CAACnB,IAAI;oBAACwI,SAAS,EAAC,iBAAiB;oBAACpC,IAAI,EAAE;kBAAG;oBAAAsC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAC,eAC9C1H,OAAA;oBAAMqH,SAAS,EAAC,qCAAqC;oBAAAC,QAAA,EAAE9D,KAAK,CAACM;kBAAM;oBAAAyD,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACxE,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eAEN1H,OAAA;gBAAKqH,SAAS,EAAC,6BAA6B;gBAAAC,QAAA,gBAC1CtH,OAAA;kBAAKqH,SAAS,EAAC,WAAW;kBAAAC,QAAA,gBACxBtH,OAAA;oBAAKqH,SAAS,EAAC,yBAAyB;oBAAAC,QAAA,gBACtCtH,OAAA,CAACtB,MAAM;sBAAC2I,SAAS,EAAC,eAAe;sBAACpC,IAAI,EAAE;oBAAG;sBAAAsC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE,CAAC,eAC9C1H,OAAA;sBAAMqH,SAAS,EAAC,uBAAuB;sBAAAC,QAAA,GAAE9D,KAAK,CAACC,WAAW,EAAC,IAAE;oBAAA;sBAAA8D,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACjE,CAAC,eACN1H,OAAA;oBAAKqH,SAAS,EAAC,yBAAyB;oBAAAC,QAAA,gBACtCtH,OAAA,CAACrB,KAAK;sBAAC0I,SAAS,EAAC,eAAe;sBAACpC,IAAI,EAAE;oBAAG;sBAAAsC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE,CAAC,eAC7C1H,OAAA;sBAAMqH,SAAS,EAAC,uBAAuB;sBAAAC,QAAA,GAAE9D,KAAK,CAACG,oBAAoB,EAAC,GAAC;oBAAA;sBAAA4D,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACzE,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC,eACN1H,OAAA;kBAAKqH,SAAS,EAAC,WAAW;kBAAAC,QAAA,gBACxBtH,OAAA;oBAAKqH,SAAS,EAAC,yBAAyB;oBAAAC,QAAA,gBACtCtH,OAAA,CAACpB,QAAQ;sBAACyI,SAAS,EAAC,eAAe;sBAACpC,IAAI,EAAE;oBAAG;sBAAAsC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE,CAAC,eAChD1H,OAAA;sBAAMqH,SAAS,EAAC,uBAAuB;sBAAAC,QAAA,GAAE9D,KAAK,CAACI,gBAAgB,EAAC,GAAC;oBAAA;sBAAA2D,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACrE,CAAC,eACN1H,OAAA;oBAAKqH,SAAS,EAAC,yBAAyB;oBAAAC,QAAA,gBACtCtH,OAAA,CAAClB,KAAK;sBAACuI,SAAS,EAAC,eAAe;sBAACpC,IAAI,EAAE;oBAAG;sBAAAsC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE,CAAC,eAC7C1H,OAAA;sBAAMqH,SAAS,EAAC,uBAAuB;sBAAAC,QAAA,GAAE9D,KAAK,CAACwD,oBAAoB,EAAC,SAAO;oBAAA;sBAAAO,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC/E,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,eAEN1H,OAAA;gBAAKqH,SAAS,EAAC,8BAA8B;gBAAAC,QAAA,gBAC3CtH,OAAA;kBAAMqH,SAAS,EAAE,8CACf7D,KAAK,CAAC3B,UAAU,KAAK,MAAM,GAAG,6BAA6B,GAC3D2B,KAAK,CAAC3B,UAAU,KAAK,UAAU,GAAG,+BAA+B,GACjE,yBAAyB,EACxB;kBAAAyF,QAAA,EACA9D,KAAK,CAAC3B;gBAAU;kBAAA0F,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACb,CAAC,eACP1H,OAAA;kBAAMqH,SAAS,EAAC,sEAAsE;kBAAAC,QAAA,EACnF9D,KAAK,CAAC8E;gBAAU;kBAAAf,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACb,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACJ,CAAC,eAEN1H,OAAA;gBAAKqH,SAAS,EAAC,2BAA2B;gBAAAC,QAAA,EACvC9D,KAAK,CAACO,aAAa,CAACR,GAAG,CAAC,CAAC0C,OAAO,EAAEd,CAAC,kBAClCnF,OAAA;kBAAcqH,SAAS,EAAC,0DAA0D;kBAAAC,QAAA,EAC/ErB;gBAAO,GADCd,CAAC;kBAAAoC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAEN,CACP;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC,eAEN1H,OAAA;gBAAGqH,SAAS,EAAC,uCAAuC;gBAAAC,QAAA,EACjD9D,KAAK,CAAC+E;cAAW;gBAAAhB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACjB,CAAC;YAAA,GA/DIlE,KAAK,CAACgF,QAAQ;cAAAjB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAgEnB,CACN;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAEN1H,OAAA;YAAKqH,SAAS,EAAC,mBAAmB;YAAAC,QAAA,eAChCtH,OAAA;cACEiI,OAAO,EAAEb,gBAAiB;cAC1BC,SAAS,EAAC,qGAAqG;cAAAC,QAAA,EAChH;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACxH,EAAA,CAxiBID,wBAAwB;AAAAwI,EAAA,GAAxBxI,wBAAwB;AA0iB9B,eAAeA,wBAAwB;AAAC,IAAAwI,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}