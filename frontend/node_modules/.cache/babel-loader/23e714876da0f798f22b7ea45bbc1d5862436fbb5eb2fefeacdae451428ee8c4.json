{"ast":null,"code":"var _jsxFileName = \"/Users/JINGSI/2024-NEU/CS5800_Algo/Optimal_TrailSelection_for_Groups/frontend/src/InteractiveTrailSelector.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Search, Filter, MapPin, Clock, Mountain, Star, Users, Eye, Zap, TrendingUp, AlertCircle, RefreshCw, Heart, Activity, Award, ChevronDown, X, Plus, User, Settings, ArrowRight, ArrowLeft, Home, CheckCircle } from 'lucide-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst InteractiveTrailSelector = () => {\n  _s();\n  var _groupMembers$activeM;\n  const [trails, setTrails] = useState([]);\n  const [recommendations, setRecommendations] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [dataLoading, setDataLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Group management states\n  const [currentStep, setCurrentStep] = useState('group-setup'); // 'group-setup', 'member-preferences', 'results'\n  const [groupSize, setGroupSize] = useState(3);\n  const [groupMembers, setGroupMembers] = useState([]);\n  const [activeMember, setActiveMember] = useState(0);\n  const [currentMemberPreferences, setCurrentMemberPreferences] = useState({\n    distance: '',\n    elevation: '',\n    time: '',\n    difficulty: '',\n    scenery: []\n  });\n\n  // Preference options\n  const preferenceOptions = {\n    distance: ['Short (< 5km)', 'Medium (5-10km)', 'Long (> 10km)'],\n    elevation: ['Low (< 200m)', 'Medium (200-500m)', 'High (> 500m)'],\n    time: ['Quick (< 2h)', 'Moderate (2-4h)', 'Long (> 4h)'],\n    difficulty: ['Easy', 'Moderate', 'Hard'],\n    scenery: ['Mountain', 'Lake', 'Forest', 'Ocean', 'Waterfall', 'Alpine', 'Beach', 'Canyon', 'Glacier', 'River']\n  };\n\n  // Load trail data from backend\n  useEffect(() => {\n    const loadTrails = async () => {\n      setDataLoading(true);\n      setError(null);\n      try {\n        console.log('🔍 正在从后端加载步道数据...');\n        const response = await fetch('http://localhost:3001/api/trails');\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const data = await response.json();\n        const processedData = data.map(trail => ({\n          ...trail,\n          distance_km: parseFloat(trail.distance_km),\n          estimated_time_hours: parseFloat(trail.estimated_time_hours),\n          elevation_gain_m: parseInt(trail.elevation_gain_m),\n          rating: parseFloat(trail.rating),\n          scenery_types: Array.isArray(trail.scenery_types) ? trail.scenery_types : typeof trail.scenery_types === 'string' ? trail.scenery_types.split(',').map(s => s.trim()) : []\n        }));\n        setTrails(processedData);\n        console.log(`✅ 成功加载 ${processedData.length} 条步道数据`);\n      } catch (err) {\n        console.error('❌ 加载步道数据失败:', err);\n        setError(`Failed to load trails: ${err.message}`);\n      } finally {\n        setDataLoading(false);\n      }\n    };\n    loadTrails();\n  }, []);\n\n  // Initialize group members\n  const initializeGroup = () => {\n    const members = [];\n    for (let i = 0; i < groupSize; i++) {\n      members.push({\n        id: i,\n        name: `Person ${i + 1}`,\n        preferences: {\n          distance: '',\n          elevation: '',\n          time: '',\n          difficulty: '',\n          scenery: []\n        },\n        completed: false\n      });\n    }\n    setGroupMembers(members);\n    setCurrentStep('member-preferences');\n    setActiveMember(0);\n    setCurrentMemberPreferences({\n      distance: '',\n      elevation: '',\n      time: '',\n      difficulty: '',\n      scenery: []\n    });\n  };\n\n  // Switch to a different member\n  const switchToMember = memberIndex => {\n    if (memberIndex >= 0 && memberIndex < groupMembers.length) {\n      setActiveMember(memberIndex);\n      const member = groupMembers[memberIndex];\n      setCurrentMemberPreferences({\n        distance: member.preferences.distance,\n        elevation: member.preferences.elevation,\n        time: member.preferences.time,\n        difficulty: member.preferences.difficulty,\n        scenery: [...member.preferences.scenery]\n      });\n    }\n  };\n\n  // Handle preference changes\n  const handlePreferenceChange = (type, value) => {\n    if (type === 'scenery') {\n      const currentScenery = currentMemberPreferences.scenery;\n      const newScenery = currentScenery.includes(value) ? currentScenery.filter(s => s !== value) : [...currentScenery, value];\n      setCurrentMemberPreferences(prev => ({\n        ...prev,\n        scenery: newScenery\n      }));\n    } else {\n      setCurrentMemberPreferences(prev => ({\n        ...prev,\n        [type]: value\n      }));\n    }\n  };\n\n  // Submit member preferences and get recommendations\n  const submitMemberPreferences = async () => {\n    // Update current member's preferences\n    const updatedMembers = [...groupMembers];\n    updatedMembers[activeMember] = {\n      ...updatedMembers[activeMember],\n      preferences: {\n        ...currentMemberPreferences\n      },\n      completed: true\n    };\n    setGroupMembers(updatedMembers);\n\n    // Check if all members have completed their preferences\n    const allCompleted = updatedMembers.every(member => member.completed);\n    if (allCompleted) {\n      await getRecommendations(updatedMembers);\n    } else {\n      // Move to next member\n      const nextMemberIndex = (activeMember + 1) % groupMembers.length;\n      switchToMember(nextMemberIndex);\n    }\n  };\n\n  // Get recommendations from backend\n  const getRecommendations = async (membersData = groupMembers) => {\n    setLoading(true);\n    setError(null);\n    try {\n      console.log('🔍 正在获取推荐...');\n\n      // Convert preferences to backend format\n      const groupPreferences = membersData.filter(member => member.completed).map(member => ({\n        name: member.name,\n        preferences: [...Object.entries(member.preferences).filter(([key, value]) => {\n          if (key === 'scenery') return value && value.length > 0;\n          return value && value !== '';\n        }).flatMap(([key, value]) => {\n          if (key === 'scenery') {\n            return value.map(v => v.toLowerCase());\n          }\n          // Convert preference values to match backend expectations\n          switch (key) {\n            case 'distance':\n              if (value === 'Short (< 5km)') return 'short';\n              if (value === 'Medium (5-10km)') return 'medium';\n              if (value === 'Long (> 10km)') return 'long';\n              return value.toLowerCase();\n            case 'elevation':\n              if (value === 'Low (< 200m)') return 'low';\n              if (value === 'Medium (200-500m)') return 'medium';\n              if (value === 'High (> 500m)') return 'high';\n              return value.toLowerCase();\n            case 'time':\n              if (value === 'Quick (< 2h)') return 'quick';\n              if (value === 'Moderate (2-4h)') return 'moderate';\n              if (value === 'Long (> 4h)') return 'long';\n              return value.toLowerCase();\n            default:\n              return value.toLowerCase();\n          }\n        })]\n      }));\n      const response = await fetch('http://localhost:3001/api/trails/recommend', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          groupPreferences: groupPreferences,\n          filters: {},\n          k: 6\n        })\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      setRecommendations(data.recommendations || data);\n      console.log(`✅ 成功获取 ${(data.recommendations || data).length} 条推荐`);\n    } catch (err) {\n      console.error('❌ 获取推荐失败:', err);\n      setError(`Failed to get recommendations: ${err.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Calculate group match percentage for a trail\n  const calculateGroupMatch = trail => {\n    const completedMembers = groupMembers.filter(m => m.completed);\n    if (completedMembers.length === 0) return 0;\n    let matchCount = 0;\n    completedMembers.forEach(member => {\n      const prefs = member.preferences;\n      let memberMatch = true;\n\n      // Check distance preference\n      if (prefs.distance && prefs.distance !== '') {\n        const trailDistance = trail.distance_km;\n        if (prefs.distance.includes('Short') && trailDistance >= 5) memberMatch = false;\n        if (prefs.distance.includes('Medium') && (trailDistance < 5 || trailDistance > 10)) memberMatch = false;\n        if (prefs.distance.includes('Long') && trailDistance <= 10) memberMatch = false;\n      }\n\n      // Check elevation preference\n      if (prefs.elevation && prefs.elevation !== '') {\n        const trailElevation = trail.elevation_gain_m;\n        if (prefs.elevation.includes('Low') && trailElevation >= 200) memberMatch = false;\n        if (prefs.elevation.includes('Medium') && (trailElevation < 200 || trailElevation > 500)) memberMatch = false;\n        if (prefs.elevation.includes('High') && trailElevation <= 500) memberMatch = false;\n      }\n\n      // Check time preference\n      if (prefs.time && prefs.time !== '') {\n        const trailTime = trail.estimated_time_hours;\n        if (prefs.time.includes('Quick') && trailTime >= 2) memberMatch = false;\n        if (prefs.time.includes('Moderate') && (trailTime < 2 || trailTime > 4)) memberMatch = false;\n        if (prefs.time.includes('Long') && trailTime <= 4) memberMatch = false;\n      }\n\n      // Check difficulty preference\n      if (prefs.difficulty && prefs.difficulty !== '') {\n        if (prefs.difficulty !== trail.difficulty) memberMatch = false;\n      }\n\n      // Check scenery preference\n      if (prefs.scenery && prefs.scenery.length > 0) {\n        const hasMatchingScenery = prefs.scenery.some(pref => trail.scenery_types.some(scenery => scenery.toLowerCase().includes(pref.toLowerCase())));\n        if (!hasMatchingScenery) memberMatch = false;\n      }\n      if (memberMatch) matchCount++;\n    });\n    return matchCount / completedMembers.length * 100;\n  };\n  if (dataLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-[60vh] flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-20 h-20 bg-gradient-to-r from-orange-500 to-yellow-500 rounded-2xl flex items-center justify-center mb-6 mx-auto shadow-lg\",\n          children: /*#__PURE__*/_jsxDEV(Mountain, {\n            className: \"text-white animate-pulse\",\n            size: 40\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-800 mb-2\",\n          children: \"Loading Trail Data...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Connecting to backend and loading trails\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"py-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-6xl mx-auto px-6\",\n        children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gradient-to-r from-red-50 to-pink-50 border border-red-100 rounded-2xl p-6 mb-8 shadow-sm\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center\",\n                children: /*#__PURE__*/_jsxDEV(AlertCircle, {\n                  className: \"text-red-500\",\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-semibold text-red-800\",\n                  children: \"Error\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-red-600\",\n                  children: error\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setError(null),\n              style: {\n                background: 'linear-gradient(to right, #f97316, #eab308)',\n                color: 'white'\n              },\n              className: \"px-4 py-2 rounded-lg hover:shadow-lg transform hover:-translate-y-1 transition-all duration-200 shadow-sm\",\n              children: \"Dismiss\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 13\n        }, this), currentStep !== 'group-setup' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-700 rounded-3xl shadow-2xl p-8 mb-8 text-white overflow-hidden relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute inset-0 bg-black/10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative z-10\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-16 h-16 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center\",\n                children: /*#__PURE__*/_jsxDEV(Mountain, {\n                  className: \"text-white\",\n                  size: 32\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"text-3xl font-bold mb-2\",\n                  children: \"Trail Explorer\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-blue-100 text-lg\",\n                  children: \"Group-based hiking recommendations powered by advanced algorithms\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 344,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 13\n        }, this), currentStep === 'group-setup' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center py-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"max-w-4xl w-full\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center mb-8\",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-5xl font-bold text-gray-800 mb-4\",\n                children: \"Setup Your Group\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xl text-gray-600\",\n                children: \"Create your hiking team and get personalized recommendations\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl p-12 border border-white/30\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 lg:grid-cols-2 gap-12\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-8\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                      className: \"text-2xl font-bold text-gray-800 mb-6\",\n                      children: \"How many people in your hiking group?\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 367,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                      value: groupSize,\n                      onChange: e => setGroupSize(parseInt(e.target.value)),\n                      className: \"w-full p-6 bg-white border-2 border-gray-200 rounded-2xl focus:outline-none focus:ring-4 focus:ring-blue-500 focus:border-blue-500 shadow-lg text-xl font-medium transition-all duration-200 hover:border-gray-300\",\n                      children: [1, 2, 3, 4, 5, 6, 7, 8].map(size => /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: size,\n                        children: [size, \" \", size === 1 ? 'Person' : 'People']\n                      }, size, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 376,\n                        columnNumber: 29\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 370,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 366,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: initializeGroup,\n                    style: {\n                      background: 'linear-gradient(to right, #f97316, #eab308)',\n                      color: 'white'\n                    },\n                    className: \"w-full py-6 px-8 rounded-2xl hover:shadow-2xl transform hover:-translate-y-1 text-xl font-semibold transition-all duration-300 flex items-center justify-center gap-4 shadow-xl\",\n                    children: [/*#__PURE__*/_jsxDEV(ArrowRight, {\n                      size: 24\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 391,\n                      columnNumber: 25\n                    }, this), \"Start Setting Preferences\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 383,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-8 border border-blue-100\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-8 h-8 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center\",\n                      children: /*#__PURE__*/_jsxDEV(Settings, {\n                        className: \"text-white\",\n                        size: 20\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 400,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 399,\n                      columnNumber: 25\n                    }, this), \"How it works:\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 398,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"space-y-6\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-start gap-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"w-8 h-8 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-full flex items-center justify-center text-sm font-bold flex-shrink-0 mt-1\",\n                        children: \"1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 407,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                          className: \"font-semibold text-gray-800 mb-1\",\n                          children: \"Set Individual Preferences\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 411,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-gray-600\",\n                          children: \"Each person sets their hiking preferences including distance, difficulty, and scenery types\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 412,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 410,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 406,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-start gap-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"w-8 h-8 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-full flex items-center justify-center text-sm font-bold flex-shrink-0 mt-1\",\n                        children: \"2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 417,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                          className: \"font-semibold text-gray-800 mb-1\",\n                          children: \"AI Analysis\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 421,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-gray-600\",\n                          children: \"Advanced algorithms analyze group compatibility and preferences\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 422,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 420,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 416,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-start gap-4\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"w-8 h-8 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-full flex items-center justify-center text-sm font-bold flex-shrink-0 mt-1\",\n                        children: \"3\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 427,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                          className: \"font-semibold text-gray-800 mb-1\",\n                          children: \"Get Recommendations\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 431,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-gray-600\",\n                          children: \"Receive top 5 personalized trail recommendations perfect for your group\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 432,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 430,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 426,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 405,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 397,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center mt-8\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-500 text-sm\",\n                children: \"Powered by advanced group optimization algorithms \\u2022 243+ trails available\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 13\n        }, this), currentStep === 'member-preferences' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"min-h-[80vh]\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center mb-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-3xl font-bold text-gray-800 mb-4\",\n              children: \"Set Your Preferences\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-lg text-gray-600\",\n              children: \"Configure hiking preferences for each group member\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl p-12 border border-white/30\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-8\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-xl font-bold text-gray-800 mb-6 flex items-center gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-600 rounded-lg flex items-center justify-center\",\n                  children: /*#__PURE__*/_jsxDEV(User, {\n                    className: \"text-white\",\n                    size: 20\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 465,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 464,\n                  columnNumber: 21\n                }, this), \"Group Members (\", groupMembers.filter(m => m.completed).length, \"/\", groupMembers.length, \" completed)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-3\",\n                children: groupMembers.map((member, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => switchToMember(index),\n                  className: `p-5 rounded-xl border-4 transition-all duration-200 ${activeMember === index ? 'border-orange-600 bg-orange-50 hover:bg-orange-100' : member.completed ? 'border-green-500 bg-green-50 hover:bg-green-100' : 'border-gray-300 bg-gray-50 hover:bg-gray-100'}`,\n                  style: activeMember === index ? {\n                    borderColor: '#ea580c',\n                    backgroundColor: '#fff7ed',\n                    boxShadow: '0 10px 15px -3px rgba(234, 88, 12, 0.1)'\n                  } : {},\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex flex-col items-center gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `w-8 h-8 rounded-full flex items-center justify-center font-bold ${activeMember === index ? 'bg-white text-orange-600 border-2 border-orange-600' : member.completed ? 'bg-green-500 text-white' : 'bg-gray-400 text-white'}`,\n                      children: member.completed && activeMember !== index ? /*#__PURE__*/_jsxDEV(CheckCircle, {\n                        size: 16\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 495,\n                        columnNumber: 75\n                      }, this) : index + 1\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 489,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm font-bold text-gray-700\",\n                      style: activeMember === index ? {\n                        color: '#c2410c'\n                      } : {},\n                      children: member.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 497,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 488,\n                    columnNumber: 25\n                  }, this)\n                }, member.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 472,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 470,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-8 border border-blue-100\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-xl font-bold text-gray-800 mb-8 flex items-center gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-8 h-8 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center\",\n                  children: /*#__PURE__*/_jsxDEV(Settings, {\n                    className: \"text-white\",\n                    size: 20\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 513,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 512,\n                  columnNumber: 21\n                }, this), (_groupMembers$activeM = groupMembers[activeMember]) === null || _groupMembers$activeM === void 0 ? void 0 : _groupMembers$activeM.name, \"'s Hiking Preferences\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 511,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-8\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-base font-semibold text-gray-700 mb-4 flex items-center gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                      size: 20\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 522,\n                      columnNumber: 25\n                    }, this), \"Preferred Trail Distance\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 521,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n                    children: preferenceOptions.distance.map(option => /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => handlePreferenceChange('distance', option),\n                      className: \"p-8 rounded-2xl border-2 transition-all duration-200 text-base border-gray-200 bg-gray-50 hover:bg-gray-100\",\n                      style: currentMemberPreferences.distance === option ? {\n                        borderColor: '#ea580c',\n                        backgroundColor: '#fff7ed',\n                        color: '#c2410c',\n                        boxShadow: '0 4px 6px -1px rgba(234, 88, 12, 0.1)'\n                      } : {\n                        backgroundColor: '#f9fafb',\n                        borderColor: '#e5e7eb'\n                      },\n                      children: option\n                    }, option, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 527,\n                      columnNumber: 27\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 525,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 520,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-base font-semibold text-gray-700 mb-4 flex items-center gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(Mountain, {\n                      size: 20\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 550,\n                      columnNumber: 25\n                    }, this), \"Preferred Elevation Gain\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 549,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n                    children: preferenceOptions.elevation.map(option => /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => handlePreferenceChange('elevation', option),\n                      className: \"p-8 rounded-2xl border-2 transition-all duration-200 text-base border-gray-200 bg-gray-50 hover:bg-gray-100\",\n                      style: currentMemberPreferences.elevation === option ? {\n                        borderColor: '#ea580c',\n                        backgroundColor: '#fff7ed',\n                        color: '#c2410c',\n                        boxShadow: '0 4px 6px -1px rgba(234, 88, 12, 0.1)'\n                      } : {\n                        backgroundColor: '#f9fafb',\n                        borderColor: '#e5e7eb'\n                      },\n                      children: option\n                    }, option, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 555,\n                      columnNumber: 27\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 553,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 548,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-base font-semibold text-gray-700 mb-4 flex items-center gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(Clock, {\n                      size: 20\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 578,\n                      columnNumber: 25\n                    }, this), \"Preferred Hiking Duration\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 577,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n                    children: preferenceOptions.time.map(option => /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => handlePreferenceChange('time', option),\n                      className: \"p-8 rounded-2xl border-2 transition-all duration-200 text-base border-gray-200 bg-gray-50 hover:bg-gray-100\",\n                      style: currentMemberPreferences.time === option ? {\n                        borderColor: '#ea580c',\n                        backgroundColor: '#fff7ed',\n                        color: '#c2410c',\n                        boxShadow: '0 4px 6px -1px rgba(234, 88, 12, 0.1)'\n                      } : {\n                        backgroundColor: '#f9fafb',\n                        borderColor: '#e5e7eb'\n                      },\n                      children: option\n                    }, option, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 583,\n                      columnNumber: 27\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 581,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 576,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-base font-semibold text-gray-700 mb-4 flex items-center gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(Activity, {\n                      size: 20\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 606,\n                      columnNumber: 25\n                    }, this), \"Preferred Difficulty Level\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 605,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n                    children: preferenceOptions.difficulty.map(option => /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => handlePreferenceChange('difficulty', option),\n                      className: \"p-8 rounded-2xl border-2 transition-all duration-200 text-base border-gray-200 bg-gray-50 hover:bg-gray-100\",\n                      style: currentMemberPreferences.difficulty === option ? {\n                        borderColor: '#ea580c',\n                        backgroundColor: '#fff7ed',\n                        color: '#c2410c',\n                        boxShadow: '0 4px 6px -1px rgba(234, 88, 12, 0.1)'\n                      } : {\n                        backgroundColor: '#f9fafb',\n                        borderColor: '#e5e7eb'\n                      },\n                      children: option\n                    }, option, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 611,\n                      columnNumber: 27\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 609,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 604,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-base font-semibold text-gray-700 mb-4 flex items-center gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(Eye, {\n                      size: 20\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 634,\n                      columnNumber: 25\n                    }, this), \"Preferred Scenery Types (select multiple)\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 633,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"grid grid-cols-2 md:grid-cols-5 gap-4\",\n                    children: preferenceOptions.scenery.map(option => /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => handlePreferenceChange('scenery', option),\n                      className: \"p-6 rounded-2xl border-2 transition-all duration-200 text-sm border-gray-200 bg-gray-50 hover:bg-gray-100\",\n                      style: currentMemberPreferences.scenery.includes(option) ? {\n                        borderColor: '#ea580c',\n                        backgroundColor: '#fff7ed',\n                        color: '#c2410c',\n                        boxShadow: '0 4px 6px -1px rgba(234, 88, 12, 0.1)'\n                      } : {\n                        backgroundColor: '#f9fafb',\n                        borderColor: '#e5e7eb'\n                      },\n                      children: option\n                    }, option, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 639,\n                      columnNumber: 27\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 637,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 632,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-center pt-8\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: submitMemberPreferences,\n                    disabled: loading,\n                    style: {\n                      background: 'linear-gradient(to right, #f97316, #eab308)',\n                      color: 'white'\n                    },\n                    className: \"py-6 px-12 rounded-2xl hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-4 shadow-xl text-xl font-semibold disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\",\n                    children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n                        className: \"animate-spin\",\n                        size: 24\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 672,\n                        columnNumber: 29\n                      }, this), \"Getting Recommendations...\"]\n                    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                        size: 24\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 677,\n                        columnNumber: 29\n                      }, this), \"Submit & Get Recommendations\"]\n                    }, void 0, true)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 661,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 660,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 518,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 510,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 13\n        }, this), recommendations.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"min-h-[80vh]\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center mb-12\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-5xl font-bold text-gray-800 mb-4\",\n              children: \"Your Recommendations\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 694,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xl text-gray-600\",\n              children: \"Top 5 personalized trail recommendations for your group\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 695,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 693,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl p-12 border border-white/30\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center mb-8\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-3xl font-bold text-gray-800 flex items-center gap-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl flex items-center justify-center\",\n                  children: /*#__PURE__*/_jsxDEV(TrendingUp, {\n                    className: \"text-white\",\n                    size: 24\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 703,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 702,\n                  columnNumber: 21\n                }, this), \"Top 6 Recommended Trails\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 701,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setCurrentStep('group-setup');\n                  setGroupMembers([]);\n                  setRecommendations([]);\n                  setActiveMember(0);\n                },\n                style: {\n                  background: 'linear-gradient(to right, #f97316, #eab308)',\n                  color: 'white'\n                },\n                className: \"py-4 px-6 rounded-2xl hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 flex items-center gap-3 shadow-lg text-lg font-semibold\",\n                children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 721,\n                  columnNumber: 21\n                }, this), \"Start Over\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 708,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 700,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",\n              children: recommendations.map((trail, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-200\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-start mb-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center gap-2 mb-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg flex items-center justify-center text-sm font-bold\",\n                        children: index + 1\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 732,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                        className: \"font-bold text-gray-800 text-lg\",\n                        children: trail.trail_name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 735,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 731,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-600 flex items-center gap-1 mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                        size: 14\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 738,\n                        columnNumber: 29\n                      }, this), trail.location]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 737,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 730,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-1 bg-yellow-100 px-3 py-1 rounded-lg\",\n                    children: [/*#__PURE__*/_jsxDEV(Star, {\n                      className: \"text-yellow-500\",\n                      size: 16\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 743,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm font-semibold text-gray-700\",\n                      children: trail.rating\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 744,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 742,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 729,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-3 gap-3 mb-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-lg font-bold text-gray-800\",\n                      children: [trail.distance_km, \"km\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 750,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-xs text-gray-500\",\n                      children: \"Distance\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 751,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 749,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-lg font-bold text-gray-800\",\n                      children: [trail.estimated_time_hours, \"h\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 754,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-xs text-gray-500\",\n                      children: \"Duration\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 755,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 753,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-lg font-bold text-gray-800\",\n                      children: [trail.elevation_gain_m, \"m\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 758,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-xs text-gray-500\",\n                      children: \"Elevation\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 759,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 757,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 748,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2 mb-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `px-3 py-1 rounded-lg text-sm font-medium ${trail.difficulty === 'Easy' ? 'bg-green-100 text-green-800' : trail.difficulty === 'Moderate' ? 'bg-yellow-100 text-yellow-800' : 'bg-red-100 text-red-800'}`,\n                    children: trail.difficulty\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 764,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"px-3 py-1 bg-blue-100 text-blue-800 rounded-lg text-sm font-medium\",\n                    children: trail.trail_type\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 771,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 763,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex flex-wrap gap-1 mb-4\",\n                  children: [trail.scenery_types.slice(0, 3).map((scenery, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"px-2 py-1 bg-gray-100 text-gray-700 rounded-lg text-xs\",\n                    children: scenery\n                  }, i, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 778,\n                    columnNumber: 27\n                  }, this)), trail.scenery_types.length > 3 && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"px-2 py-1 bg-gray-200 text-gray-600 rounded-lg text-xs\",\n                    children: [\"+\", trail.scenery_types.length - 3, \" more\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 783,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 776,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-gray-600 mb-2\",\n                    children: [\"Group Match: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-semibold text-green-600\",\n                      children: [calculateGroupMatch(trail).toFixed(0), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 791,\n                      columnNumber: 40\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 790,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-600 leading-relaxed line-clamp-2\",\n                    children: trail.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 793,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 789,\n                  columnNumber: 23\n                }, this)]\n              }, trail.trail_id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 728,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 726,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 699,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 691,\n          columnNumber: 13\n        }, this), trails.length > 0 && currentStep !== 'group-setup' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl p-8 border border-white/30\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-600 rounded-lg flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(Activity, {\n                className: \"text-white\",\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 809,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 808,\n              columnNumber: 17\n            }, this), \"Trail Statistics\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 807,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 md:grid-cols-4 gap-8 text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-100\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-3xl font-bold text-blue-600 mb-2\",\n                children: trails.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 815,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-600 font-medium\",\n                children: \"Total Trails\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 816,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 814,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl p-6 border border-green-100\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-3xl font-bold text-green-600 mb-2\",\n                children: groupMembers.filter(m => m.completed).length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 819,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-600 font-medium\",\n                children: \"Completed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 820,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 818,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-6 border border-purple-100\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-3xl font-bold text-purple-600 mb-2\",\n                children: recommendations.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 823,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-600 font-medium\",\n                children: \"Recommendations\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 824,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 822,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gradient-to-br from-yellow-50 to-orange-50 rounded-2xl p-6 border border-yellow-100\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-3xl font-bold text-yellow-600 mb-2\",\n                children: \"4.6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 827,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-600 font-medium\",\n                children: \"Avg Rating\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 828,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 826,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 813,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 806,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 303,\n    columnNumber: 5\n  }, this);\n};\n_s(InteractiveTrailSelector, \"BiXhe5xV06P4PAjcBd2yisjptGk=\");\n_c = InteractiveTrailSelector;\nexport default InteractiveTrailSelector;\nvar _c;\n$RefreshReg$(_c, \"InteractiveTrailSelector\");","map":{"version":3,"names":["React","useState","useEffect","Search","Filter","MapPin","Clock","Mountain","Star","Users","Eye","Zap","TrendingUp","AlertCircle","RefreshCw","Heart","Activity","Award","ChevronDown","X","Plus","User","Settings","ArrowRight","ArrowLeft","Home","CheckCircle","jsxDEV","_jsxDEV","Fragment","_Fragment","InteractiveTrailSelector","_s","_groupMembers$activeM","trails","setTrails","recommendations","setRecommendations","loading","setLoading","dataLoading","setDataLoading","error","setError","currentStep","setCurrentStep","groupSize","setGroupSize","groupMembers","setGroupMembers","activeMember","setActiveMember","currentMemberPreferences","setCurrentMemberPreferences","distance","elevation","time","difficulty","scenery","preferenceOptions","loadTrails","console","log","response","fetch","ok","Error","status","data","json","processedData","map","trail","distance_km","parseFloat","estimated_time_hours","elevation_gain_m","parseInt","rating","scenery_types","Array","isArray","split","s","trim","length","err","message","initializeGroup","members","i","push","id","name","preferences","completed","switchToMember","memberIndex","member","handlePreferenceChange","type","value","currentScenery","newScenery","includes","filter","prev","submitMemberPreferences","updatedMembers","allCompleted","every","getRecommendations","nextMemberIndex","membersData","groupPreferences","Object","entries","key","flatMap","v","toLowerCase","method","headers","body","JSON","stringify","filters","k","calculateGroupMatch","completedMembers","m","matchCount","forEach","prefs","memberMatch","trailDistance","trailElevation","trailTime","hasMatchingScenery","some","pref","className","children","size","fileName","_jsxFileName","lineNumber","columnNumber","onClick","style","background","color","onChange","e","target","index","borderColor","backgroundColor","boxShadow","option","disabled","trail_name","location","trail_type","slice","toFixed","description","trail_id","_c","$RefreshReg$"],"sources":["/Users/JINGSI/2024-NEU/CS5800_Algo/Optimal_TrailSelection_for_Groups/frontend/src/InteractiveTrailSelector.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Search, Filter, MapPin, Clock, Mountain, Star, Users, Eye, Zap, TrendingUp, AlertCircle, RefreshCw, Heart, Activity, Award, ChevronDown, X, Plus, User, Settings, ArrowRight, ArrowLeft, Home, CheckCircle } from 'lucide-react';\n\nconst InteractiveTrailSelector = () => {\n  const [trails, setTrails] = useState([]);\n  const [recommendations, setRecommendations] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [dataLoading, setDataLoading] = useState(false);\n  const [error, setError] = useState(null);\n  \n  // Group management states\n  const [currentStep, setCurrentStep] = useState('group-setup'); // 'group-setup', 'member-preferences', 'results'\n  const [groupSize, setGroupSize] = useState(3);\n  const [groupMembers, setGroupMembers] = useState([]);\n  const [activeMember, setActiveMember] = useState(0);\n  const [currentMemberPreferences, setCurrentMemberPreferences] = useState({\n    distance: '',\n    elevation: '',\n    time: '',\n    difficulty: '',\n    scenery: []\n  });\n\n  // Preference options\n  const preferenceOptions = {\n    distance: ['Short (< 5km)', 'Medium (5-10km)', 'Long (> 10km)'],\n    elevation: ['Low (< 200m)', 'Medium (200-500m)', 'High (> 500m)'],\n    time: ['Quick (< 2h)', 'Moderate (2-4h)', 'Long (> 4h)'],\n    difficulty: ['Easy', 'Moderate', 'Hard'],\n    scenery: ['Mountain', 'Lake', 'Forest', 'Ocean', 'Waterfall', 'Alpine', 'Beach', 'Canyon', 'Glacier', 'River']\n  };\n\n  // Load trail data from backend\n  useEffect(() => {\n    const loadTrails = async () => {\n      setDataLoading(true);\n      setError(null);\n      \n      try {\n        console.log('🔍 正在从后端加载步道数据...');\n        const response = await fetch('http://localhost:3001/api/trails');\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const data = await response.json();\n        \n        const processedData = data.map(trail => ({\n          ...trail,\n          distance_km: parseFloat(trail.distance_km),\n          estimated_time_hours: parseFloat(trail.estimated_time_hours),\n          elevation_gain_m: parseInt(trail.elevation_gain_m),\n          rating: parseFloat(trail.rating),\n          scenery_types: Array.isArray(trail.scenery_types) \n            ? trail.scenery_types \n            : (typeof trail.scenery_types === 'string' \n                ? trail.scenery_types.split(',').map(s => s.trim()) \n                : [])\n        }));\n        \n        setTrails(processedData);\n        console.log(`✅ 成功加载 ${processedData.length} 条步道数据`);\n      } catch (err) {\n        console.error('❌ 加载步道数据失败:', err);\n        setError(`Failed to load trails: ${err.message}`);\n      } finally {\n        setDataLoading(false);\n      }\n    };\n\n    loadTrails();\n  }, []);\n\n  // Initialize group members\n  const initializeGroup = () => {\n    const members = [];\n    for (let i = 0; i < groupSize; i++) {\n      members.push({\n        id: i,\n        name: `Person ${i + 1}`,\n        preferences: {\n          distance: '',\n          elevation: '',\n          time: '',\n          difficulty: '',\n          scenery: []\n        },\n        completed: false\n      });\n    }\n    setGroupMembers(members);\n    setCurrentStep('member-preferences');\n    setActiveMember(0);\n    setCurrentMemberPreferences({\n      distance: '',\n      elevation: '',\n      time: '',\n      difficulty: '',\n      scenery: []\n    });\n  };\n\n  // Switch to a different member\n  const switchToMember = (memberIndex) => {\n    if (memberIndex >= 0 && memberIndex < groupMembers.length) {\n      setActiveMember(memberIndex);\n      const member = groupMembers[memberIndex];\n      setCurrentMemberPreferences({\n        distance: member.preferences.distance,\n        elevation: member.preferences.elevation,\n        time: member.preferences.time,\n        difficulty: member.preferences.difficulty,\n        scenery: [...member.preferences.scenery]\n      });\n    }\n  };\n\n  // Handle preference changes\n  const handlePreferenceChange = (type, value) => {\n    if (type === 'scenery') {\n      const currentScenery = currentMemberPreferences.scenery;\n      const newScenery = currentScenery.includes(value)\n        ? currentScenery.filter(s => s !== value)\n        : [...currentScenery, value];\n      \n      setCurrentMemberPreferences(prev => ({\n        ...prev,\n        scenery: newScenery\n      }));\n    } else {\n      setCurrentMemberPreferences(prev => ({\n        ...prev,\n        [type]: value\n      }));\n    }\n  };\n\n  // Submit member preferences and get recommendations\n  const submitMemberPreferences = async () => {\n    // Update current member's preferences\n    const updatedMembers = [...groupMembers];\n    updatedMembers[activeMember] = {\n      ...updatedMembers[activeMember],\n      preferences: { ...currentMemberPreferences },\n      completed: true\n    };\n    setGroupMembers(updatedMembers);\n\n    // Check if all members have completed their preferences\n    const allCompleted = updatedMembers.every(member => member.completed);\n    \n    if (allCompleted) {\n      await getRecommendations(updatedMembers);\n    } else {\n      // Move to next member\n      const nextMemberIndex = (activeMember + 1) % groupMembers.length;\n      switchToMember(nextMemberIndex);\n    }\n  };\n\n  // Get recommendations from backend\n  const getRecommendations = async (membersData = groupMembers) => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      console.log('🔍 正在获取推荐...');\n      \n      // Convert preferences to backend format\n      const groupPreferences = membersData\n        .filter(member => member.completed)\n        .map(member => ({\n          name: member.name,\n          preferences: [\n            ...Object.entries(member.preferences)\n              .filter(([key, value]) => {\n                if (key === 'scenery') return value && value.length > 0;\n                return value && value !== '';\n              })\n              .flatMap(([key, value]) => {\n                if (key === 'scenery') {\n                  return value.map(v => v.toLowerCase());\n                }\n                // Convert preference values to match backend expectations\n                switch(key) {\n                  case 'distance':\n                    if (value === 'Short (< 5km)') return 'short';\n                    if (value === 'Medium (5-10km)') return 'medium';\n                    if (value === 'Long (> 10km)') return 'long';\n                    return value.toLowerCase();\n                  case 'elevation':\n                    if (value === 'Low (< 200m)') return 'low';\n                    if (value === 'Medium (200-500m)') return 'medium';\n                    if (value === 'High (> 500m)') return 'high';\n                    return value.toLowerCase();\n                  case 'time':\n                    if (value === 'Quick (< 2h)') return 'quick';\n                    if (value === 'Moderate (2-4h)') return 'moderate';\n                    if (value === 'Long (> 4h)') return 'long';\n                    return value.toLowerCase();\n                  default:\n                    return value.toLowerCase();\n                }\n              })\n          ]\n        }));\n\n      const response = await fetch('http://localhost:3001/api/trails/recommend', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          groupPreferences: groupPreferences,\n          filters: {},\n          k: 6\n        })\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const data = await response.json();\n      setRecommendations(data.recommendations || data);\n      console.log(`✅ 成功获取 ${(data.recommendations || data).length} 条推荐`);\n    } catch (err) {\n      console.error('❌ 获取推荐失败:', err);\n      setError(`Failed to get recommendations: ${err.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Calculate group match percentage for a trail\n  const calculateGroupMatch = (trail) => {\n    const completedMembers = groupMembers.filter(m => m.completed);\n    if (completedMembers.length === 0) return 0;\n    \n    let matchCount = 0;\n    completedMembers.forEach(member => {\n      const prefs = member.preferences;\n      let memberMatch = true;\n      \n      // Check distance preference\n      if (prefs.distance && prefs.distance !== '') {\n        const trailDistance = trail.distance_km;\n        if (prefs.distance.includes('Short') && trailDistance >= 5) memberMatch = false;\n        if (prefs.distance.includes('Medium') && (trailDistance < 5 || trailDistance > 10)) memberMatch = false;\n        if (prefs.distance.includes('Long') && trailDistance <= 10) memberMatch = false;\n      }\n      \n      // Check elevation preference\n      if (prefs.elevation && prefs.elevation !== '') {\n        const trailElevation = trail.elevation_gain_m;\n        if (prefs.elevation.includes('Low') && trailElevation >= 200) memberMatch = false;\n        if (prefs.elevation.includes('Medium') && (trailElevation < 200 || trailElevation > 500)) memberMatch = false;\n        if (prefs.elevation.includes('High') && trailElevation <= 500) memberMatch = false;\n      }\n      \n      // Check time preference\n      if (prefs.time && prefs.time !== '') {\n        const trailTime = trail.estimated_time_hours;\n        if (prefs.time.includes('Quick') && trailTime >= 2) memberMatch = false;\n        if (prefs.time.includes('Moderate') && (trailTime < 2 || trailTime > 4)) memberMatch = false;\n        if (prefs.time.includes('Long') && trailTime <= 4) memberMatch = false;\n      }\n      \n      // Check difficulty preference\n      if (prefs.difficulty && prefs.difficulty !== '') {\n        if (prefs.difficulty !== trail.difficulty) memberMatch = false;\n      }\n      \n      // Check scenery preference\n      if (prefs.scenery && prefs.scenery.length > 0) {\n        const hasMatchingScenery = prefs.scenery.some(pref => \n          trail.scenery_types.some(scenery => \n            scenery.toLowerCase().includes(pref.toLowerCase())\n          )\n        );\n        if (!hasMatchingScenery) memberMatch = false;\n      }\n      \n      if (memberMatch) matchCount++;\n    });\n    return (matchCount / completedMembers.length) * 100;\n  };\n\n  if (dataLoading) {\n    return (\n      <div className=\"min-h-[60vh] flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"w-20 h-20 bg-gradient-to-r from-orange-500 to-yellow-500 rounded-2xl flex items-center justify-center mb-6 mx-auto shadow-lg\">\n            <Mountain className=\"text-white animate-pulse\" size={40} />\n          </div>\n          <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">Loading Trail Data...</h2>\n          <p className=\"text-gray-600\">Connecting to backend and loading trails</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50\">\n      <div className=\"py-8\">\n        <div className=\"max-w-6xl mx-auto px-6\">\n          {/* Error Alert */}\n          {error && (\n            <div className=\"bg-gradient-to-r from-red-50 to-pink-50 border border-red-100 rounded-2xl p-6 mb-8 shadow-sm\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center\">\n                    <AlertCircle className=\"text-red-500\" size={20} />\n                  </div>\n                  <div>\n                    <h3 className=\"font-semibold text-red-800\">Error</h3>\n                    <p className=\"text-sm text-red-600\">{error}</p>\n                  </div>\n                </div>\n                <button \n                  onClick={() => setError(null)}\n                  style={{\n                    background: 'linear-gradient(to right, #f97316, #eab308)',\n                    color: 'white'\n                  }}\n                  className=\"px-4 py-2 rounded-lg hover:shadow-lg transform hover:-translate-y-1 transition-all duration-200 shadow-sm\"\n                >\n                  Dismiss\n                </button>\n              </div>\n            </div>\n          )}\n\n          {/* Hero Header - Only show when not in group setup */}\n          {currentStep !== 'group-setup' && (\n            <div className=\"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-700 rounded-3xl shadow-2xl p-8 mb-8 text-white overflow-hidden relative\">\n              <div className=\"absolute inset-0 bg-black/10\"></div>\n              <div className=\"relative z-10\">\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"w-16 h-16 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center\">\n                    <Mountain className=\"text-white\" size={32} />\n                  </div>\n                  <div>\n                    <h1 className=\"text-3xl font-bold mb-2\">Trail Explorer</h1>\n                    <p className=\"text-blue-100 text-lg\">Group-based hiking recommendations powered by advanced algorithms</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Step 1: Group Setup */}\n          {currentStep === 'group-setup' && (\n            <div className=\"flex items-center justify-center py-6\">\n              <div className=\"max-w-4xl w-full\">\n                {/* Main Title */}\n                <div className=\"text-center mb-8\">\n                  <h1 className=\"text-5xl font-bold text-gray-800 mb-4\">Setup Your Group</h1>\n                  <p className=\"text-xl text-gray-600\">Create your hiking team and get personalized recommendations</p>\n                </div>\n                \n                {/* Main Content */}\n                <div className=\"bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl p-12 border border-white/30\">\n                  <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-12\">\n                    {/* Left Side - Group Setup */}\n                    <div className=\"space-y-8\">\n                      <div>\n                        <h2 className=\"text-2xl font-bold text-gray-800 mb-6\">\n                          How many people in your hiking group?\n                        </h2>\n                        <select\n                          value={groupSize}\n                          onChange={(e) => setGroupSize(parseInt(e.target.value))}\n                          className=\"w-full p-6 bg-white border-2 border-gray-200 rounded-2xl focus:outline-none focus:ring-4 focus:ring-blue-500 focus:border-blue-500 shadow-lg text-xl font-medium transition-all duration-200 hover:border-gray-300\"\n                        >\n                          {[1, 2, 3, 4, 5, 6, 7, 8].map((size) => (\n                            <option key={size} value={size}>\n                              {size} {size === 1 ? 'Person' : 'People'}\n                            </option>\n                          ))}\n                        </select>\n                      </div>\n                      \n                      <button\n                        onClick={initializeGroup}\n                        style={{\n                          background: 'linear-gradient(to right, #f97316, #eab308)',\n                          color: 'white'\n                        }}\n                        className=\"w-full py-6 px-8 rounded-2xl hover:shadow-2xl transform hover:-translate-y-1 text-xl font-semibold transition-all duration-300 flex items-center justify-center gap-4 shadow-xl\"\n                      >\n                        <ArrowRight size={24} />\n                        Start Setting Preferences\n                      </button>\n                    </div>\n                    \n                    {/* Right Side - How it works */}\n                    <div className=\"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-8 border border-blue-100\">\n                      <h3 className=\"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-3\">\n                        <div className=\"w-8 h-8 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center\">\n                          <Settings className=\"text-white\" size={20} />\n                        </div>\n                        How it works:\n                      </h3>\n                      \n                      <div className=\"space-y-6\">\n                        <div className=\"flex items-start gap-4\">\n                          <div className=\"w-8 h-8 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-full flex items-center justify-center text-sm font-bold flex-shrink-0 mt-1\">\n                            1\n                          </div>\n                          <div>\n                            <h4 className=\"font-semibold text-gray-800 mb-1\">Set Individual Preferences</h4>\n                            <p className=\"text-gray-600\">Each person sets their hiking preferences including distance, difficulty, and scenery types</p>\n                          </div>\n                        </div>\n                        \n                        <div className=\"flex items-start gap-4\">\n                          <div className=\"w-8 h-8 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-full flex items-center justify-center text-sm font-bold flex-shrink-0 mt-1\">\n                            2\n                          </div>\n                          <div>\n                            <h4 className=\"font-semibold text-gray-800 mb-1\">AI Analysis</h4>\n                            <p className=\"text-gray-600\">Advanced algorithms analyze group compatibility and preferences</p>\n                          </div>\n                        </div>\n                        \n                        <div className=\"flex items-start gap-4\">\n                          <div className=\"w-8 h-8 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-full flex items-center justify-center text-sm font-bold flex-shrink-0 mt-1\">\n                            3\n                          </div>\n                          <div>\n                            <h4 className=\"font-semibold text-gray-800 mb-1\">Get Recommendations</h4>\n                            <p className=\"text-gray-600\">Receive top 5 personalized trail recommendations perfect for your group</p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                \n                {/* Additional Info */}\n                <div className=\"text-center mt-8\">\n                  <p className=\"text-gray-500 text-sm\">\n                    Powered by advanced group optimization algorithms • 243+ trails available\n                  </p>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Step 2: Member Preferences */}\n          {currentStep === 'member-preferences' && (\n            <div className=\"min-h-[80vh]\">\n              {/* Main Title */}\n              <div className=\"text-center mb-8\">\n                <h1 className=\"text-3xl font-bold text-gray-800 mb-4\">Set Your Preferences</h1>\n                <p className=\"text-lg text-gray-600\">Configure hiking preferences for each group member</p>\n              </div>\n              \n              {/* Main Content */}\n              <div className=\"bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl p-12 border border-white/30\">\n                {/* Group Members Navigation */}\n                <div className=\"mb-8\">\n                  <h2 className=\"text-xl font-bold text-gray-800 mb-6 flex items-center gap-3\">\n                    <div className=\"w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-600 rounded-lg flex items-center justify-center\">\n                      <User className=\"text-white\" size={20} />\n                    </div>\n                    Group Members ({groupMembers.filter(m => m.completed).length}/{groupMembers.length} completed)\n                  </h2>\n                  \n                  <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-3\">\n                    {groupMembers.map((member, index) => (\n                      <button\n                        key={member.id}\n                        onClick={() => switchToMember(index)}\n                        className={`p-5 rounded-xl border-4 transition-all duration-200 ${\n                          activeMember === index\n                            ? 'border-orange-600 bg-orange-50 hover:bg-orange-100'\n                            : member.completed\n                            ? 'border-green-500 bg-green-50 hover:bg-green-100'\n                            : 'border-gray-300 bg-gray-50 hover:bg-gray-100'\n                        }`}\n                        style={activeMember === index ? {\n                          borderColor: '#ea580c',\n                          backgroundColor: '#fff7ed',\n                          boxShadow: '0 10px 15px -3px rgba(234, 88, 12, 0.1)'\n                        } : {}}\n                      >\n                        <div className=\"flex flex-col items-center gap-2\">\n                          <div \n                            className={`w-8 h-8 rounded-full flex items-center justify-center font-bold ${\n                              activeMember === index ? 'bg-white text-orange-600 border-2 border-orange-600' :\n                              member.completed ? 'bg-green-500 text-white' : 'bg-gray-400 text-white'\n                            }`}\n                          >\n                            {member.completed && activeMember !== index ? <CheckCircle size={16} /> : (index + 1)}\n                          </div>\n                          <span \n                            className=\"text-sm font-bold text-gray-700\"\n                            style={activeMember === index ? { color: '#c2410c' } : {}}\n                          >\n                            {member.name}\n                          </span>\n                        </div>\n                      </button>\n                    ))}\n                  </div>\n                </div>\n                \n                {/* Active Member Preferences */}\n                <div className=\"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-8 border border-blue-100\">\n                  <h3 className=\"text-xl font-bold text-gray-800 mb-8 flex items-center gap-3\">\n                    <div className=\"w-8 h-8 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center\">\n                      <Settings className=\"text-white\" size={20} />\n                    </div>\n                    {groupMembers[activeMember]?.name}'s Hiking Preferences\n                  </h3>\n                  \n                  <div className=\"space-y-8\">\n                    {/* Distance Preference */}\n                    <div>\n                      <label className=\"block text-base font-semibold text-gray-700 mb-4 flex items-center gap-2\">\n                        <MapPin size={20} />\n                        Preferred Trail Distance\n                      </label>\n                      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                        {preferenceOptions.distance.map((option) => (\n                          <button\n                            key={option}\n                            onClick={() => handlePreferenceChange('distance', option)}\n                            className=\"p-8 rounded-2xl border-2 transition-all duration-200 text-base border-gray-200 bg-gray-50 hover:bg-gray-100\"\n                            style={currentMemberPreferences.distance === option ? {\n                              borderColor: '#ea580c',\n                              backgroundColor: '#fff7ed',\n                              color: '#c2410c',\n                              boxShadow: '0 4px 6px -1px rgba(234, 88, 12, 0.1)'\n                            } : {\n                              backgroundColor: '#f9fafb',\n                              borderColor: '#e5e7eb'\n                            }}\n                          >\n                            {option}\n                          </button>\n                        ))}\n                      </div>\n                    </div>\n\n                    {/* Elevation Preference */}\n                    <div>\n                      <label className=\"block text-base font-semibold text-gray-700 mb-4 flex items-center gap-2\">\n                        <Mountain size={20} />\n                        Preferred Elevation Gain\n                      </label>\n                      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                        {preferenceOptions.elevation.map((option) => (\n                          <button\n                            key={option}\n                            onClick={() => handlePreferenceChange('elevation', option)}\n                            className=\"p-8 rounded-2xl border-2 transition-all duration-200 text-base border-gray-200 bg-gray-50 hover:bg-gray-100\"\n                            style={currentMemberPreferences.elevation === option ? {\n                              borderColor: '#ea580c',\n                              backgroundColor: '#fff7ed',\n                              color: '#c2410c',\n                              boxShadow: '0 4px 6px -1px rgba(234, 88, 12, 0.1)'\n                            } : {\n                              backgroundColor: '#f9fafb',\n                              borderColor: '#e5e7eb'\n                            }}\n                          >\n                            {option}\n                          </button>\n                        ))}\n                      </div>\n                    </div>\n\n                    {/* Time Preference */}\n                    <div>\n                      <label className=\"block text-base font-semibold text-gray-700 mb-4 flex items-center gap-2\">\n                        <Clock size={20} />\n                        Preferred Hiking Duration\n                      </label>\n                      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                        {preferenceOptions.time.map((option) => (\n                          <button\n                            key={option}\n                            onClick={() => handlePreferenceChange('time', option)}\n                            className=\"p-8 rounded-2xl border-2 transition-all duration-200 text-base border-gray-200 bg-gray-50 hover:bg-gray-100\"\n                            style={currentMemberPreferences.time === option ? {\n                              borderColor: '#ea580c',\n                              backgroundColor: '#fff7ed',\n                              color: '#c2410c',\n                              boxShadow: '0 4px 6px -1px rgba(234, 88, 12, 0.1)'\n                            } : {\n                              backgroundColor: '#f9fafb',\n                              borderColor: '#e5e7eb'\n                            }}\n                          >\n                            {option}\n                          </button>\n                        ))}\n                      </div>\n                    </div>\n\n                    {/* Difficulty Preference */}\n                    <div>\n                      <label className=\"block text-base font-semibold text-gray-700 mb-4 flex items-center gap-2\">\n                        <Activity size={20} />\n                        Preferred Difficulty Level\n                      </label>\n                      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                        {preferenceOptions.difficulty.map((option) => (\n                          <button\n                            key={option}\n                            onClick={() => handlePreferenceChange('difficulty', option)}\n                            className=\"p-8 rounded-2xl border-2 transition-all duration-200 text-base border-gray-200 bg-gray-50 hover:bg-gray-100\"\n                            style={currentMemberPreferences.difficulty === option ? {\n                              borderColor: '#ea580c',\n                              backgroundColor: '#fff7ed',\n                              color: '#c2410c',\n                              boxShadow: '0 4px 6px -1px rgba(234, 88, 12, 0.1)'\n                            } : {\n                              backgroundColor: '#f9fafb',\n                              borderColor: '#e5e7eb'\n                            }}\n                          >\n                            {option}\n                          </button>\n                        ))}\n                      </div>\n                    </div>\n\n                    {/* Scenery Preference */}\n                    <div>\n                      <label className=\"block text-base font-semibold text-gray-700 mb-4 flex items-center gap-2\">\n                        <Eye size={20} />\n                        Preferred Scenery Types (select multiple)\n                      </label>\n                      <div className=\"grid grid-cols-2 md:grid-cols-5 gap-4\">\n                        {preferenceOptions.scenery.map((option) => (\n                          <button\n                            key={option}\n                            onClick={() => handlePreferenceChange('scenery', option)}\n                            className=\"p-6 rounded-2xl border-2 transition-all duration-200 text-sm border-gray-200 bg-gray-50 hover:bg-gray-100\"\n                            style={currentMemberPreferences.scenery.includes(option) ? {\n                              borderColor: '#ea580c',\n                              backgroundColor: '#fff7ed',\n                              color: '#c2410c',\n                              boxShadow: '0 4px 6px -1px rgba(234, 88, 12, 0.1)'\n                            } : {\n                              backgroundColor: '#f9fafb',\n                              borderColor: '#e5e7eb'\n                            }}\n                          >\n                            {option}\n                          </button>\n                        ))}\n                      </div>\n                    </div>\n\n                    {/* Submit Button */}\n                    <div className=\"flex justify-center pt-8\">\n                      <button\n                        onClick={submitMemberPreferences}\n                        disabled={loading}\n                        style={{\n                          background: 'linear-gradient(to right, #f97316, #eab308)',\n                          color: 'white'\n                        }}\n                        className=\"py-6 px-12 rounded-2xl hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-4 shadow-xl text-xl font-semibold disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\"\n                      >\n                        {loading ? (\n                          <>\n                            <RefreshCw className=\"animate-spin\" size={24} />\n                            Getting Recommendations...\n                          </>\n                        ) : (\n                          <>\n                            <CheckCircle size={24} />\n                            Submit & Get Recommendations\n                          </>\n                        )}\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Recommendations Display */}\n          {recommendations.length > 0 && (\n            <div className=\"min-h-[80vh]\">\n              {/* Main Title */}\n              <div className=\"text-center mb-12\">\n                <h1 className=\"text-5xl font-bold text-gray-800 mb-4\">Your Recommendations</h1>\n                <p className=\"text-xl text-gray-600\">Top 5 personalized trail recommendations for your group</p>\n              </div>\n              \n              {/* Main Content */}\n              <div className=\"bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl p-12 border border-white/30\">\n                <div className=\"flex justify-between items-center mb-8\">\n                  <h2 className=\"text-3xl font-bold text-gray-800 flex items-center gap-3\">\n                    <div className=\"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl flex items-center justify-center\">\n                      <TrendingUp className=\"text-white\" size={24} />\n                    </div>\n                    Top 6 Recommended Trails\n                  </h2>\n                  \n                  <button\n                    onClick={() => {\n                      setCurrentStep('group-setup');\n                      setGroupMembers([]);\n                      setRecommendations([]);\n                      setActiveMember(0);\n                    }}\n                    style={{\n                      background: 'linear-gradient(to right, #f97316, #eab308)',\n                      color: 'white'\n                    }}\n                    className=\"py-4 px-6 rounded-2xl hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 flex items-center gap-3 shadow-lg text-lg font-semibold\"\n                  >\n                    <ArrowLeft size={20} />\n                    Start Over\n                  </button>\n                </div>\n                \n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                  {recommendations.map((trail, index) => (\n                    <div key={trail.trail_id} className=\"bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-200\">\n                      <div className=\"flex justify-between items-start mb-4\">\n                        <div className=\"flex-1\">\n                          <div className=\"flex items-center gap-2 mb-2\">\n                            <span className=\"w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg flex items-center justify-center text-sm font-bold\">\n                              {index + 1}\n                            </span>\n                            <h3 className=\"font-bold text-gray-800 text-lg\">{trail.trail_name}</h3>\n                          </div>\n                          <p className=\"text-sm text-gray-600 flex items-center gap-1 mb-3\">\n                            <MapPin size={14} />\n                            {trail.location}\n                          </p>\n                        </div>\n                        <div className=\"flex items-center gap-1 bg-yellow-100 px-3 py-1 rounded-lg\">\n                          <Star className=\"text-yellow-500\" size={16} />\n                          <span className=\"text-sm font-semibold text-gray-700\">{trail.rating}</span>\n                        </div>\n                      </div>\n                      \n                      <div className=\"grid grid-cols-3 gap-3 mb-4\">\n                        <div className=\"text-center\">\n                          <div className=\"text-lg font-bold text-gray-800\">{trail.distance_km}km</div>\n                          <div className=\"text-xs text-gray-500\">Distance</div>\n                        </div>\n                        <div className=\"text-center\">\n                          <div className=\"text-lg font-bold text-gray-800\">{trail.estimated_time_hours}h</div>\n                          <div className=\"text-xs text-gray-500\">Duration</div>\n                        </div>\n                        <div className=\"text-center\">\n                          <div className=\"text-lg font-bold text-gray-800\">{trail.elevation_gain_m}m</div>\n                          <div className=\"text-xs text-gray-500\">Elevation</div>\n                        </div>\n                      </div>\n                      \n                      <div className=\"flex items-center gap-2 mb-4\">\n                        <span className={`px-3 py-1 rounded-lg text-sm font-medium ${\n                          trail.difficulty === 'Easy' ? 'bg-green-100 text-green-800' :\n                          trail.difficulty === 'Moderate' ? 'bg-yellow-100 text-yellow-800' :\n                          'bg-red-100 text-red-800'\n                        }`}>\n                          {trail.difficulty}\n                        </span>\n                        <span className=\"px-3 py-1 bg-blue-100 text-blue-800 rounded-lg text-sm font-medium\">\n                          {trail.trail_type}\n                        </span>\n                      </div>\n                      \n                      <div className=\"flex flex-wrap gap-1 mb-4\">\n                        {trail.scenery_types.slice(0, 3).map((scenery, i) => (\n                          <span key={i} className=\"px-2 py-1 bg-gray-100 text-gray-700 rounded-lg text-xs\">\n                            {scenery}\n                          </span>\n                        ))}\n                        {trail.scenery_types.length > 3 && (\n                          <span className=\"px-2 py-1 bg-gray-200 text-gray-600 rounded-lg text-xs\">\n                            +{trail.scenery_types.length - 3} more\n                          </span>\n                        )}\n                      </div>\n                      \n                      <div className=\"text-center\">\n                        <div className=\"text-sm text-gray-600 mb-2\">\n                          Group Match: <span className=\"font-semibold text-green-600\">{calculateGroupMatch(trail).toFixed(0)}%</span>\n                        </div>\n                        <p className=\"text-sm text-gray-600 leading-relaxed line-clamp-2\">\n                          {trail.description}\n                        </p>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Trail Stats */}\n          {trails.length > 0 && currentStep !== 'group-setup' && (\n            <div className=\"bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl p-8 border border-white/30\">\n              <h3 className=\"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-3\">\n                <div className=\"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-600 rounded-lg flex items-center justify-center\">\n                  <Activity className=\"text-white\" size={20} />\n                </div>\n                Trail Statistics\n              </h3>\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-8 text-center\">\n                <div className=\"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-100\">\n                  <div className=\"text-3xl font-bold text-blue-600 mb-2\">{trails.length}</div>\n                  <div className=\"text-sm text-gray-600 font-medium\">Total Trails</div>\n                </div>\n                <div className=\"bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl p-6 border border-green-100\">\n                  <div className=\"text-3xl font-bold text-green-600 mb-2\">{groupMembers.filter(m => m.completed).length}</div>\n                  <div className=\"text-sm text-gray-600 font-medium\">Completed</div>\n                </div>\n                <div className=\"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-6 border border-purple-100\">\n                  <div className=\"text-3xl font-bold text-purple-600 mb-2\">{recommendations.length}</div>\n                  <div className=\"text-sm text-gray-600 font-medium\">Recommendations</div>\n                </div>\n                <div className=\"bg-gradient-to-br from-yellow-50 to-orange-50 rounded-2xl p-6 border border-yellow-100\">\n                  <div className=\"text-3xl font-bold text-yellow-600 mb-2\">4.6</div>\n                  <div className=\"text-sm text-gray-600 font-medium\">Avg Rating</div>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default InteractiveTrailSelector;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}