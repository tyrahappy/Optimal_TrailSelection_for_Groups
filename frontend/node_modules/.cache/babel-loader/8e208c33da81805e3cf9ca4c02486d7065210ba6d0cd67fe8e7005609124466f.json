{"ast":null,"code":"var _jsxFileName = \"/Users/JINGSI/2024-NEU/CS5800_Algo/Optimal_TrailSelection_for_Groups/frontend/src/InteractiveTrailSelector.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Search, Filter, MapPin, Clock, Mountain, Star, Users, Eye, Zap, TrendingUp, AlertCircle, RefreshCw } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst InteractiveTrailSelector = () => {\n  _s();\n  const [trails, setTrails] = useState([]);\n  const [filteredTrails, setFilteredTrails] = useState([]);\n  const [selectedTrails, setSelectedTrails] = useState([]);\n  const [recommendations, setRecommendations] = useState([]);\n  const [recommendationMetrics, setRecommendationMetrics] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [dataLoading, setDataLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [connectionStatus, setConnectionStatus] = useState('checking');\n  const [groupMembers, setGroupMembers] = useState([{\n    name: \"Alice\",\n    preferences: [\"mountain\", \"lake\", \"waterfall\"]\n  }, {\n    name: \"Bob\",\n    preferences: [\"ocean\", \"beach\", \"lake\"]\n  }, {\n    name: \"Carol\",\n    preferences: [\"forest\", \"waterfall\", \"lake\"]\n  }]);\n\n  // API配置\n  const API_BASE_URL = 'http://localhost:3001/api';\n  const [filters, setFilters] = useState({\n    difficulty: '',\n    maxDistance: '',\n    maxTime: '',\n    maxElevation: '',\n    trailType: '',\n    sceneryTypes: [],\n    minRating: ''\n  });\n  const [searchTerm, setSearchTerm] = useState('');\n  const [showFilters, setShowFilters] = useState(false);\n  const [showRecommendations, setShowRecommendations] = useState(false);\n\n  // 检查后端健康状态\n  const checkHealth = async () => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/health`);\n      if (response.ok) {\n        const healthData = await response.json();\n        setConnectionStatus('connected');\n        setError(null);\n        return healthData;\n      } else {\n        throw new Error(`Health check failed: ${response.status}`);\n      }\n    } catch (err) {\n      setConnectionStatus('disconnected');\n      setError(`Backend connection failed: ${err.message}`);\n      throw err;\n    }\n  };\n\n  // 加载步道数据\n  const loadTrails = async (retryCount = 0) => {\n    setDataLoading(true);\n    setError(null);\n    try {\n      // 检查后端健康状态\n      await checkHealth();\n\n      // 获取步道数据\n      const response = await fetch(`${API_BASE_URL}/trails`);\n      if (!response.ok) {\n        throw new Error(`Failed to fetch trails: ${response.status} ${response.statusText}`);\n      }\n      const data = await response.json();\n\n      // 验证和清理数据\n      const validTrails = data.filter(trail => {\n        return trail && trail.trail_id && trail.trail_name && typeof trail.distance_km === 'number' && !isNaN(trail.distance_km) && trail.scenery_types;\n      }).map(trail => ({\n        ...trail,\n        // 确保scenery_types是数组\n        scenery_types: Array.isArray(trail.scenery_types) ? trail.scenery_types : typeof trail.scenery_types === 'string' ? trail.scenery_types.split(',').map(s => s.trim()) : []\n      }));\n      setTrails(validTrails);\n      setFilteredTrails(validTrails);\n      setConnectionStatus('connected');\n      console.log(`✅ Successfully loaded ${validTrails.length} trails`);\n    } catch (error) {\n      console.error('❌ Error loading trails:', error);\n      setError(error.message);\n\n      // 如果是第一次尝试且错误可能是临时的，重试一次\n      if (retryCount === 0 && error.message.includes('fetch')) {\n        console.log('🔄 Retrying in 2 seconds...');\n        setTimeout(() => loadTrails(1), 2000);\n        return;\n      }\n\n      // 使用示例数据作为后备\n      const fallbackTrails = [{\n        trail_id: \"SAMPLE_001\",\n        trail_name: \"Stanley Park Seawall\",\n        location: \"Vancouver, BC\",\n        difficulty: \"Easy\",\n        distance_km: 8.9,\n        estimated_time_hours: 2.5,\n        elevation_gain_m: 50,\n        rating: 4.5,\n        scenery_types: [\"Ocean views\", \"City skyline\", \"Parks\"],\n        trail_type: \"Loop\",\n        description: \"A paved pathway around Stanley Park offering stunning ocean and city views.\"\n      }, {\n        trail_id: \"SAMPLE_002\",\n        trail_name: \"Quarry Rock\",\n        location: \"North Vancouver, BC\",\n        difficulty: \"Easy\",\n        distance_km: 3.8,\n        estimated_time_hours: 1.2,\n        elevation_gain_m: 100,\n        rating: 4.6,\n        scenery_types: [\"Ocean views\", \"Forest\"],\n        trail_type: \"Out & Back\",\n        description: \"A popular short hike to a scenic viewpoint overlooking Deep Cove.\"\n      }];\n      setTrails(fallbackTrails);\n      setFilteredTrails(fallbackTrails);\n      setConnectionStatus('disconnected');\n    } finally {\n      setDataLoading(false);\n    }\n  };\n\n  // 初始化加载\n  useEffect(() => {\n    loadTrails();\n  }, []);\n\n  // 获取所有独特的景观类型\n  const getAllSceneryTypes = () => {\n    try {\n      const allTypes = trails.flatMap(trail => Array.isArray(trail.scenery_types) ? trail.scenery_types : []);\n      return [...new Set(allTypes)].filter(type => type && type.trim().length > 0).sort();\n    } catch (error) {\n      console.error('Error getting scenery types:', error);\n      return [];\n    }\n  };\n\n  // 应用筛选条件\n  useEffect(() => {\n    if (!trails.length) return;\n    try {\n      const filtered = trails.filter(trail => {\n        // 搜索词筛选\n        if (searchTerm) {\n          const searchLower = searchTerm.toLowerCase();\n          if (!trail.trail_name.toLowerCase().includes(searchLower) && !trail.location.toLowerCase().includes(searchLower)) {\n            return false;\n          }\n        }\n\n        // 其他筛选条件...\n        if (filters.difficulty && trail.difficulty !== filters.difficulty) return false;\n        if (filters.maxDistance && trail.distance_km > parseFloat(filters.maxDistance)) return false;\n        if (filters.maxTime && trail.estimated_time_hours > parseFloat(filters.maxTime)) return false;\n        if (filters.maxElevation && trail.elevation_gain_m > parseInt(filters.maxElevation)) return false;\n        if (filters.trailType && trail.trail_type !== filters.trailType) return false;\n        if (filters.minRating && trail.rating < parseFloat(filters.minRating)) return false;\n\n        // 景观类型筛选\n        if (filters.sceneryTypes.length > 0) {\n          const hasMatchingScenery = filters.sceneryTypes.some(selectedType => Array.isArray(trail.scenery_types) && trail.scenery_types.some(trailType => trailType.toLowerCase().includes(selectedType.toLowerCase())));\n          if (!hasMatchingScenery) return false;\n        }\n        return true;\n      });\n      setFilteredTrails(filtered);\n    } catch (error) {\n      console.error('Error filtering trails:', error);\n    }\n  }, [trails, filters, searchTerm]);\n\n  // 处理筛选条件变化\n  const handleFilterChange = (key, value) => {\n    setFilters(prev => ({\n      ...prev,\n      [key]: value\n    }));\n  };\n\n  // 处理景观类型选择\n  const handleSceneryTypeToggle = sceneryType => {\n    setFilters(prev => ({\n      ...prev,\n      sceneryTypes: prev.sceneryTypes.includes(sceneryType) ? prev.sceneryTypes.filter(type => type !== sceneryType) : [...prev.sceneryTypes, sceneryType]\n    }));\n  };\n\n  // 添加步道到选择列表\n  const handleTrailSelect = trail => {\n    if (selectedTrails.find(t => t.trail_id === trail.trail_id)) {\n      setSelectedTrails(prev => prev.filter(t => t.trail_id !== trail.trail_id));\n    } else {\n      setSelectedTrails(prev => [...prev, trail]);\n    }\n  };\n\n  // 计算群体匹配度\n  const calculateGroupMatch = trail => {\n    try {\n      if (!Array.isArray(trail.scenery_types)) return 0;\n      let matchCount = 0;\n      groupMembers.forEach(member => {\n        const memberMatch = member.preferences.some(pref => trail.scenery_types.some(scenery => scenery.toLowerCase().includes(pref.toLowerCase())));\n        if (memberMatch) matchCount++;\n      });\n      return matchCount / groupMembers.length * 100;\n    } catch (error) {\n      return 0;\n    }\n  };\n\n  // 获取推荐步道\n  const getRecommendations = async () => {\n    if (connectionStatus !== 'connected') {\n      setError('Please ensure backend is connected before getting recommendations');\n      return;\n    }\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await fetch(`${API_BASE_URL}/trails/recommend`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          groupPreferences: groupMembers,\n          filters: filters,\n          k: 5\n        })\n      });\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(errorData.error || `HTTP ${response.status}: ${response.statusText}`);\n      }\n      const data = await response.json();\n      if (!data.recommendations) {\n        throw new Error('Invalid response format: missing recommendations');\n      }\n      setRecommendations(data.recommendations);\n      setRecommendationMetrics(data.metrics);\n      setShowRecommendations(true);\n      console.log('✅ Recommendations received:', data);\n    } catch (error) {\n      console.error('❌ Recommendation error:', error);\n      setError(`Recommendation failed: ${error.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 清空筛选条件\n  const clearFilters = () => {\n    setFilters({\n      difficulty: '',\n      maxDistance: '',\n      maxTime: '',\n      maxElevation: '',\n      trailType: '',\n      sceneryTypes: [],\n      minRating: ''\n    });\n    setSearchTerm('');\n    setError(null);\n  };\n\n  // 如果数据正在加载，显示加载状态\n  if (dataLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center min-h-screen\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n          className: \"animate-spin mx-auto mb-4 text-blue-600\",\n          size: 48\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold text-gray-800\",\n          children: \"Loading Trail Data...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Connecting to backend and loading trails\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-7xl mx-auto p-6 bg-gray-50 min-h-screen\",\n    children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-red-50 border border-red-200 rounded-lg p-4 mb-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n            className: \"text-red-500\",\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-medium text-red-800\",\n              children: \"Connection Issue\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-red-600\",\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => loadTrails(),\n          className: \"px-3 py-1 bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors\",\n          children: \"Retry\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-lg p-6 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold text-gray-800 flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Mountain, {\n            className: \"text-blue-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 13\n          }, this), \"Feature-Based Trail Selection System\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `w-3 h-3 rounded-full ${connectionStatus === 'connected' ? 'bg-green-500' : connectionStatus === 'disconnected' ? 'bg-red-500' : 'bg-yellow-500'}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm text-gray-600 capitalize\",\n            children: connectionStatus\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm text-blue-600\",\n            children: [\"(\", trails.length, \" trails)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mb-4\",\n        children: \"AI-powered trail selection using Greedy MinMax Regret algorithm for optimal group satisfaction\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-blue-50 rounded-lg p-4 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-blue-800 mb-2 flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Users, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 13\n          }, this), \"Group Member Preferences\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n          children: groupMembers.map((member, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg p-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-medium text-gray-800\",\n              children: member.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-1 mt-2\",\n              children: member.preferences.map((pref, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs\",\n                children: pref\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col lg:flex-row gap-4 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 relative\",\n          children: [/*#__PURE__*/_jsxDEV(Search, {\n            className: \"absolute left-3 top-3 text-gray-400\",\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Search trail name or location...\",\n            className: \"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowFilters(!showFilters),\n          className: \"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Filter, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 13\n          }, this), showFilters ? 'Hide Filters' : 'Show Filters']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: getRecommendations,\n          disabled: loading || connectionStatus !== 'connected',\n          className: \"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\",\n          children: [/*#__PURE__*/_jsxDEV(Zap, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 13\n          }, this), loading ? 'Getting Recommendations...' : 'Get AI Recommendations']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: clearFilters,\n          className: \"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors\",\n          children: \"Clear Filters\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 9\n      }, this), showFilters && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-50 rounded-lg p-4 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Difficulty\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: filters.difficulty,\n              onChange: e => handleFilterChange('difficulty', e.target.value),\n              className: \"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"All Difficulties\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Easy\",\n                children: \"Easy\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 445,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Moderate\",\n                children: \"Moderate\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Hard\",\n                children: \"Hard\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 447,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Max Distance (km)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: filters.maxDistance,\n              onChange: e => handleFilterChange('maxDistance', e.target.value),\n              className: \"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\",\n              placeholder: \"e.g. 10\",\n              min: \"0\",\n              step: \"0.1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Max Time (hours)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: filters.maxTime,\n              onChange: e => handleFilterChange('maxTime', e.target.value),\n              className: \"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\",\n              placeholder: \"e.g. 4\",\n              min: \"0\",\n              step: \"0.1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Max Elevation (m)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: filters.maxElevation,\n              onChange: e => handleFilterChange('maxElevation', e.target.value),\n              className: \"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\",\n              placeholder: \"e.g. 500\",\n              min: \"0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Trail Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: filters.trailType,\n              onChange: e => handleFilterChange('trailType', e.target.value),\n              className: \"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"All Types\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Loop\",\n                children: \"Loop\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 499,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Out & Back\",\n                children: \"Out & Back\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 500,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Point-to-Point\",\n                children: \"Point-to-Point\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 501,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Min Rating\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: filters.minRating,\n              onChange: e => handleFilterChange('minRating', e.target.value),\n              className: \"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Any Rating\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 512,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"4.0\",\n                children: \"4.0+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 513,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"4.2\",\n                children: \"4.2+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 514,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"4.4\",\n                children: \"4.4+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 515,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"4.6\",\n                children: \"4.6+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 516,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 507,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 490,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: \"Scenery Features\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 523,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap gap-2 max-h-32 overflow-y-auto\",\n            children: getAllSceneryTypes().map((sceneryType, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleSceneryTypeToggle(sceneryType),\n              className: `px-3 py-1 rounded-full text-sm transition-colors ${filters.sceneryTypes.includes(sceneryType) ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}`,\n              children: sceneryType\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 526,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 524,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: [\"Found \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold text-blue-600\",\n            children: filteredTrails.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 19\n          }, this), \" trails\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 545,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: [\"Selected \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold text-green-600\",\n            children: selectedTrails.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 549,\n            columnNumber: 22\n          }, this), \" trails\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 548,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 7\n    }, this), showRecommendations && recommendations.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-lg p-6 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(TrendingUp, {\n          className: \"text-green-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 558,\n          columnNumber: 13\n        }, this), \"AI Recommendations (\", recommendations.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 557,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold text-gray-800 mb-3\",\n            children: \"Recommended Trails\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 564,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4 max-h-96 overflow-y-auto\",\n            children: recommendations.map((trail, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border border-green-200 rounded-lg p-4 bg-green-50\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-start mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"font-semibold text-gray-800\",\n                    children: [index + 1, \". \", trail.trail_name]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 570,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-600\",\n                    children: trail.location\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 573,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 569,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-1\",\n                  children: [/*#__PURE__*/_jsxDEV(Star, {\n                    className: \"text-yellow-500\",\n                    size: 16\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 576,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm text-gray-600\",\n                    children: trail.rating\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 577,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 575,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 568,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-600 mb-2\",\n                children: [trail.difficulty, \" \\u2022 \", trail.distance_km, \"km \\u2022 \", trail.estimated_time_hours, \"h \\u2022 \", trail.elevation_gain_m, \"m\\u2197\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 581,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-wrap gap-1 mb-2\",\n                children: (trail.scenery_types || []).map((scenery, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs\",\n                  children: scenery\n                }, i, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 587,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 585,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm\",\n                children: [\"Group Match: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium text-green-600\",\n                  children: [trail.groupMatchPercentage || 0, \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 594,\n                  columnNumber: 36\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 597,\n                  columnNumber: 23\n                }, this), \"Avg Member Utility: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium text-blue-600\",\n                  children: [((trail.averageMemberUtility || 0) * 100).toFixed(0), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 598,\n                  columnNumber: 43\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 593,\n                columnNumber: 21\n              }, this)]\n            }, trail.trail_id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 567,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 565,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 563,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold text-gray-800 mb-3\",\n            children: \"Recommendation Metrics\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 608,\n            columnNumber: 15\n          }, this), recommendationMetrics && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-blue-50 rounded-lg p-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-medium text-blue-800 mb-2\",\n                children: \"Overall Statistics\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 612,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-blue-700 space-y-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Average Rating: \", (recommendationMetrics.averageRating || 0).toFixed(1), \"/5.0\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 614,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Average Distance: \", (recommendationMetrics.averageDistance || 0).toFixed(1), \"km\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 615,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Average Time: \", (recommendationMetrics.averageTime || 0).toFixed(1), \" hours\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 616,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Average Elevation: \", (recommendationMetrics.averageElevation || 0).toFixed(0), \"m\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 617,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 613,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 611,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-green-50 rounded-lg p-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-medium text-green-800 mb-2\",\n                children: \"Algorithm Performance\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 622,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-green-700 space-y-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Diversity Score: \", ((recommendationMetrics.diversityScore || 0) * 100).toFixed(0), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 624,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Regret Score: \", (recommendationMetrics.regretScore || 0).toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 625,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 623,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 621,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-purple-50 rounded-lg p-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-medium text-purple-800 mb-2\",\n                children: \"Group Satisfaction\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 630,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-purple-700 space-y-1\",\n                children: groupMembers.map((member, index) => /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [member.name, \": \", recommendationMetrics.groupMatchPercentages && recommendationMetrics.groupMatchPercentages[index] || 0, \"% match\"]\n                }, member.name, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 633,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 631,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 629,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 610,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 607,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 562,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 556,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-lg p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Eye, {\n            className: \"text-blue-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 651,\n            columnNumber: 13\n          }, this), \"Available Trails (\", filteredTrails.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 650,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4 max-h-96 overflow-y-auto\",\n          children: filteredTrails.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-8 text-gray-500\",\n            children: [/*#__PURE__*/_jsxDEV(Eye, {\n              size: 48,\n              className: \"mx-auto mb-4 text-gray-300\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 657,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"No trails match your current filters\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 658,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: clearFilters,\n              className: \"text-sm text-blue-600 underline mt-2\",\n              children: \"Clear filters to see all trails\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 659,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 656,\n            columnNumber: 15\n          }, this) : filteredTrails.map(trail => {\n            const isSelected = selectedTrails.find(t => t.trail_id === trail.trail_id);\n            const groupMatch = calculateGroupMatch(trail);\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `border rounded-lg p-4 transition-all cursor-pointer ${isSelected ? 'border-green-500 bg-green-50' : 'border-gray-200 hover:border-blue-300 hover:bg-blue-50'}`,\n              onClick: () => handleTrailSelect(trail),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-start mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-semibold text-gray-800\",\n                  children: trail.trail_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 682,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-1\",\n                  children: [/*#__PURE__*/_jsxDEV(Star, {\n                    className: \"text-yellow-500\",\n                    size: 16\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 684,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm text-gray-600\",\n                    children: trail.rating\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 685,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 683,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 681,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-4 text-sm text-gray-600 mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"flex items-center gap-1\",\n                  children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                    size: 14\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 691,\n                    columnNumber: 25\n                  }, this), trail.location]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 690,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"flex items-center gap-1\",\n                  children: [/*#__PURE__*/_jsxDEV(Clock, {\n                    size: 14\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 695,\n                    columnNumber: 25\n                  }, this), trail.estimated_time_hours, \"h\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 694,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 689,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex gap-2 text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `px-2 py-1 rounded ${trail.difficulty === 'Easy' ? 'bg-green-100 text-green-800' : trail.difficulty === 'Moderate' ? 'bg-yellow-100 text-yellow-800' : 'bg-red-100 text-red-800'}`,\n                    children: trail.difficulty\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 702,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"px-2 py-1 bg-blue-100 text-blue-800 rounded\",\n                    children: trail.trail_type\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 709,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 701,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-600\",\n                  children: [trail.distance_km, \"km \\u2022 \", trail.elevation_gain_m, \"m\\u2197\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 713,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 700,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-wrap gap-1 mb-2\",\n                children: (trail.scenery_types || []).map((scenery, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-xs\",\n                  children: scenery\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 720,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 718,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-500\",\n                  children: [\"Group Match: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium text-blue-600\",\n                    children: [groupMatch.toFixed(0), \"%\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 728,\n                    columnNumber: 38\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 727,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: `px-3 py-1 rounded text-sm font-medium ${isSelected ? 'bg-green-600 text-white' : 'bg-blue-600 text-white hover:bg-blue-700'}`,\n                  children: isSelected ? 'Selected' : 'Select'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 730,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 726,\n                columnNumber: 21\n              }, this)]\n            }, trail.trail_id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 672,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 654,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 649,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-lg p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Users, {\n            className: \"text-green-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 750,\n            columnNumber: 13\n          }, this), \"Selected Trails (\", selectedTrails.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 749,\n          columnNumber: 11\n        }, this), selectedTrails.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-8 text-gray-500\",\n          children: [/*#__PURE__*/_jsxDEV(Users, {\n            size: 48,\n            className: \"mx-auto mb-4 text-gray-300\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 756,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No trails selected yet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 757,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm\",\n            children: \"Click on trails from the left to add them to your selection\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 758,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 755,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [selectedTrails.map((trail, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border border-green-200 rounded-lg p-4 bg-green-50\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-start mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-semibold text-gray-800\",\n                  children: [index + 1, \". \", trail.trail_name]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 766,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600\",\n                  children: trail.location\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 769,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 765,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleTrailSelect(trail),\n                className: \"text-red-500 hover:text-red-700 text-sm\",\n                children: \"Remove\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 771,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 764,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600 mb-2\",\n              children: [trail.difficulty, \" \\u2022 \", trail.distance_km, \"km \\u2022 \", trail.estimated_time_hours, \"h \\u2022 \", trail.elevation_gain_m, \"m\\u2197\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 779,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-1\",\n              children: (trail.scenery_types || []).map((scenery, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs\",\n                children: scenery\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 785,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 783,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-2 text-sm\",\n              children: [\"Group Match: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium text-green-600\",\n                children: [calculateGroupMatch(trail).toFixed(0), \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 792,\n                columnNumber: 34\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 791,\n              columnNumber: 19\n            }, this)]\n          }, trail.trail_id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 763,\n            columnNumber: 17\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-50 rounded-lg p-4 mt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-semibold text-blue-800 mb-2\",\n              children: \"Selection Summary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 801,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-blue-700\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Total Distance: \", selectedTrails.reduce((sum, trail) => sum + trail.distance_km, 0).toFixed(1), \"km\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 803,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Total Time: \", selectedTrails.reduce((sum, trail) => sum + trail.estimated_time_hours, 0).toFixed(1), \" hours\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 804,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Average Rating: \", selectedTrails.length > 0 ? (selectedTrails.reduce((sum, trail) => sum + trail.rating, 0) / selectedTrails.length).toFixed(1) : 0, \"/5.0\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 805,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Average Group Match: \", selectedTrails.length > 0 ? (selectedTrails.reduce((sum, trail) => sum + calculateGroupMatch(trail), 0) / selectedTrails.length).toFixed(0) : 0, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 806,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 802,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 800,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 761,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 748,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 647,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 333,\n    columnNumber: 5\n  }, this);\n};\n_s(InteractiveTrailSelector, \"VgPWCfP3Jz8s/v4WOo5Va5iwqJ8=\");\n_c = InteractiveTrailSelector;\nexport default InteractiveTrailSelector;\nvar _c;\n$RefreshReg$(_c, \"InteractiveTrailSelector\");","map":{"version":3,"names":["React","useState","useEffect","Search","Filter","MapPin","Clock","Mountain","Star","Users","Eye","Zap","TrendingUp","AlertCircle","RefreshCw","jsxDEV","_jsxDEV","InteractiveTrailSelector","_s","trails","setTrails","filteredTrails","setFilteredTrails","selectedTrails","setSelectedTrails","recommendations","setRecommendations","recommendationMetrics","setRecommendationMetrics","loading","setLoading","dataLoading","setDataLoading","error","setError","connectionStatus","setConnectionStatus","groupMembers","setGroupMembers","name","preferences","API_BASE_URL","filters","setFilters","difficulty","maxDistance","maxTime","maxElevation","trailType","sceneryTypes","minRating","searchTerm","setSearchTerm","showFilters","setShowFilters","showRecommendations","setShowRecommendations","checkHealth","response","fetch","ok","healthData","json","Error","status","err","message","loadTrails","retryCount","statusText","data","validTrails","filter","trail","trail_id","trail_name","distance_km","isNaN","scenery_types","map","Array","isArray","split","s","trim","console","log","length","includes","setTimeout","fallbackTrails","location","estimated_time_hours","elevation_gain_m","rating","trail_type","description","getAllSceneryTypes","allTypes","flatMap","Set","type","sort","filtered","searchLower","toLowerCase","parseFloat","parseInt","hasMatchingScenery","some","selectedType","handleFilterChange","key","value","prev","handleSceneryTypeToggle","sceneryType","handleTrailSelect","find","t","calculateGroupMatch","matchCount","forEach","member","memberMatch","pref","scenery","getRecommendations","method","headers","body","JSON","stringify","groupPreferences","k","errorData","catch","metrics","clearFilters","className","children","size","fileName","_jsxFileName","lineNumber","columnNumber","onClick","index","i","placeholder","onChange","e","target","disabled","min","step","groupMatchPercentage","averageMemberUtility","toFixed","averageRating","averageDistance","averageTime","averageElevation","diversityScore","regretScore","groupMatchPercentages","isSelected","groupMatch","reduce","sum","_c","$RefreshReg$"],"sources":["/Users/JINGSI/2024-NEU/CS5800_Algo/Optimal_TrailSelection_for_Groups/frontend/src/InteractiveTrailSelector.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Search, Filter, MapPin, Clock, Mountain, Star, Users, Eye, Zap, TrendingUp, AlertCircle, RefreshCw } from 'lucide-react';\n\nconst InteractiveTrailSelector = () => {\n  const [trails, setTrails] = useState([]);\n  const [filteredTrails, setFilteredTrails] = useState([]);\n  const [selectedTrails, setSelectedTrails] = useState([]);\n  const [recommendations, setRecommendations] = useState([]);\n  const [recommendationMetrics, setRecommendationMetrics] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [dataLoading, setDataLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [connectionStatus, setConnectionStatus] = useState('checking');\n  \n  const [groupMembers, setGroupMembers] = useState([\n    { name: \"Alice\", preferences: [\"mountain\", \"lake\", \"waterfall\"] },\n    { name: \"Bob\", preferences: [\"ocean\", \"beach\", \"lake\"] },\n    { name: \"Carol\", preferences: [\"forest\", \"waterfall\", \"lake\"] }\n  ]);\n  \n  // API配置\n  const API_BASE_URL = 'http://localhost:3001/api';\n  \n  const [filters, setFilters] = useState({\n    difficulty: '',\n    maxDistance: '',\n    maxTime: '',\n    maxElevation: '',\n    trailType: '',\n    sceneryTypes: [],\n    minRating: ''\n  });\n  \n  const [searchTerm, setSearchTerm] = useState('');\n  const [showFilters, setShowFilters] = useState(false);\n  const [showRecommendations, setShowRecommendations] = useState(false);\n\n  // 检查后端健康状态\n  const checkHealth = async () => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/health`);\n      if (response.ok) {\n        const healthData = await response.json();\n        setConnectionStatus('connected');\n        setError(null);\n        return healthData;\n      } else {\n        throw new Error(`Health check failed: ${response.status}`);\n      }\n    } catch (err) {\n      setConnectionStatus('disconnected');\n      setError(`Backend connection failed: ${err.message}`);\n      throw err;\n    }\n  };\n\n  // 加载步道数据\n  const loadTrails = async (retryCount = 0) => {\n    setDataLoading(true);\n    setError(null);\n    \n    try {\n      // 检查后端健康状态\n      await checkHealth();\n      \n      // 获取步道数据\n      const response = await fetch(`${API_BASE_URL}/trails`);\n      \n      if (!response.ok) {\n        throw new Error(`Failed to fetch trails: ${response.status} ${response.statusText}`);\n      }\n      \n      const data = await response.json();\n      \n      // 验证和清理数据\n      const validTrails = data.filter(trail => {\n        return trail && \n               trail.trail_id && \n               trail.trail_name && \n               typeof trail.distance_km === 'number' &&\n               !isNaN(trail.distance_km) &&\n               trail.scenery_types;\n      }).map(trail => ({\n        ...trail,\n        // 确保scenery_types是数组\n        scenery_types: Array.isArray(trail.scenery_types) \n          ? trail.scenery_types \n          : (typeof trail.scenery_types === 'string' \n              ? trail.scenery_types.split(',').map(s => s.trim()) \n              : [])\n      }));\n      \n      setTrails(validTrails);\n      setFilteredTrails(validTrails);\n      setConnectionStatus('connected');\n      \n      console.log(`✅ Successfully loaded ${validTrails.length} trails`);\n      \n    } catch (error) {\n      console.error('❌ Error loading trails:', error);\n      setError(error.message);\n      \n      // 如果是第一次尝试且错误可能是临时的，重试一次\n      if (retryCount === 0 && error.message.includes('fetch')) {\n        console.log('🔄 Retrying in 2 seconds...');\n        setTimeout(() => loadTrails(1), 2000);\n        return;\n      }\n      \n      // 使用示例数据作为后备\n      const fallbackTrails = [\n        {\n          trail_id: \"SAMPLE_001\",\n          trail_name: \"Stanley Park Seawall\",\n          location: \"Vancouver, BC\",\n          difficulty: \"Easy\",\n          distance_km: 8.9,\n          estimated_time_hours: 2.5,\n          elevation_gain_m: 50,\n          rating: 4.5,\n          scenery_types: [\"Ocean views\", \"City skyline\", \"Parks\"],\n          trail_type: \"Loop\",\n          description: \"A paved pathway around Stanley Park offering stunning ocean and city views.\"\n        },\n        {\n          trail_id: \"SAMPLE_002\",\n          trail_name: \"Quarry Rock\",\n          location: \"North Vancouver, BC\",\n          difficulty: \"Easy\",\n          distance_km: 3.8,\n          estimated_time_hours: 1.2,\n          elevation_gain_m: 100,\n          rating: 4.6,\n          scenery_types: [\"Ocean views\", \"Forest\"],\n          trail_type: \"Out & Back\",\n          description: \"A popular short hike to a scenic viewpoint overlooking Deep Cove.\"\n        }\n      ];\n      \n      setTrails(fallbackTrails);\n      setFilteredTrails(fallbackTrails);\n      setConnectionStatus('disconnected');\n    } finally {\n      setDataLoading(false);\n    }\n  };\n\n  // 初始化加载\n  useEffect(() => {\n    loadTrails();\n  }, []);\n\n  // 获取所有独特的景观类型\n  const getAllSceneryTypes = () => {\n    try {\n      const allTypes = trails.flatMap(trail => \n        Array.isArray(trail.scenery_types) ? trail.scenery_types : []\n      );\n      return [...new Set(allTypes)].filter(type => type && type.trim().length > 0).sort();\n    } catch (error) {\n      console.error('Error getting scenery types:', error);\n      return [];\n    }\n  };\n\n  // 应用筛选条件\n  useEffect(() => {\n    if (!trails.length) return;\n    \n    try {\n      const filtered = trails.filter(trail => {\n        // 搜索词筛选\n        if (searchTerm) {\n          const searchLower = searchTerm.toLowerCase();\n          if (!trail.trail_name.toLowerCase().includes(searchLower) &&\n              !trail.location.toLowerCase().includes(searchLower)) {\n            return false;\n          }\n        }\n        \n        // 其他筛选条件...\n        if (filters.difficulty && trail.difficulty !== filters.difficulty) return false;\n        if (filters.maxDistance && trail.distance_km > parseFloat(filters.maxDistance)) return false;\n        if (filters.maxTime && trail.estimated_time_hours > parseFloat(filters.maxTime)) return false;\n        if (filters.maxElevation && trail.elevation_gain_m > parseInt(filters.maxElevation)) return false;\n        if (filters.trailType && trail.trail_type !== filters.trailType) return false;\n        if (filters.minRating && trail.rating < parseFloat(filters.minRating)) return false;\n        \n        // 景观类型筛选\n        if (filters.sceneryTypes.length > 0) {\n          const hasMatchingScenery = filters.sceneryTypes.some(selectedType =>\n            Array.isArray(trail.scenery_types) && \n            trail.scenery_types.some(trailType => \n              trailType.toLowerCase().includes(selectedType.toLowerCase())\n            )\n          );\n          if (!hasMatchingScenery) return false;\n        }\n        \n        return true;\n      });\n      \n      setFilteredTrails(filtered);\n    } catch (error) {\n      console.error('Error filtering trails:', error);\n    }\n  }, [trails, filters, searchTerm]);\n\n  // 处理筛选条件变化\n  const handleFilterChange = (key, value) => {\n    setFilters(prev => ({\n      ...prev,\n      [key]: value\n    }));\n  };\n\n  // 处理景观类型选择\n  const handleSceneryTypeToggle = (sceneryType) => {\n    setFilters(prev => ({\n      ...prev,\n      sceneryTypes: prev.sceneryTypes.includes(sceneryType)\n        ? prev.sceneryTypes.filter(type => type !== sceneryType)\n        : [...prev.sceneryTypes, sceneryType]\n    }));\n  };\n\n  // 添加步道到选择列表\n  const handleTrailSelect = (trail) => {\n    if (selectedTrails.find(t => t.trail_id === trail.trail_id)) {\n      setSelectedTrails(prev => prev.filter(t => t.trail_id !== trail.trail_id));\n    } else {\n      setSelectedTrails(prev => [...prev, trail]);\n    }\n  };\n\n  // 计算群体匹配度\n  const calculateGroupMatch = (trail) => {\n    try {\n      if (!Array.isArray(trail.scenery_types)) return 0;\n      \n      let matchCount = 0;\n      groupMembers.forEach(member => {\n        const memberMatch = member.preferences.some(pref =>\n          trail.scenery_types.some(scenery => \n            scenery.toLowerCase().includes(pref.toLowerCase())\n          )\n        );\n        if (memberMatch) matchCount++;\n      });\n      return (matchCount / groupMembers.length) * 100;\n    } catch (error) {\n      return 0;\n    }\n  };\n\n  // 获取推荐步道\n  const getRecommendations = async () => {\n    if (connectionStatus !== 'connected') {\n      setError('Please ensure backend is connected before getting recommendations');\n      return;\n    }\n    \n    setLoading(true);\n    setError(null);\n    \n    try {\n      const response = await fetch(`${API_BASE_URL}/trails/recommend`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          groupPreferences: groupMembers,\n          filters: filters,\n          k: 5\n        })\n      });\n      \n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(errorData.error || `HTTP ${response.status}: ${response.statusText}`);\n      }\n      \n      const data = await response.json();\n      \n      if (!data.recommendations) {\n        throw new Error('Invalid response format: missing recommendations');\n      }\n      \n      setRecommendations(data.recommendations);\n      setRecommendationMetrics(data.metrics);\n      setShowRecommendations(true);\n      \n      console.log('✅ Recommendations received:', data);\n      \n    } catch (error) {\n      console.error('❌ Recommendation error:', error);\n      setError(`Recommendation failed: ${error.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 清空筛选条件\n  const clearFilters = () => {\n    setFilters({\n      difficulty: '',\n      maxDistance: '',\n      maxTime: '',\n      maxElevation: '',\n      trailType: '',\n      sceneryTypes: [],\n      minRating: ''\n    });\n    setSearchTerm('');\n    setError(null);\n  };\n\n  // 如果数据正在加载，显示加载状态\n  if (dataLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-center\">\n          <RefreshCw className=\"animate-spin mx-auto mb-4 text-blue-600\" size={48} />\n          <h2 className=\"text-xl font-semibold text-gray-800\">Loading Trail Data...</h2>\n          <p className=\"text-gray-600\">Connecting to backend and loading trails</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-7xl mx-auto p-6 bg-gray-50 min-h-screen\">\n      {/* 错误提示 */}\n      {error && (\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 mb-6\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-2\">\n              <AlertCircle className=\"text-red-500\" size={20} />\n              <div>\n                <h3 className=\"font-medium text-red-800\">Connection Issue</h3>\n                <p className=\"text-sm text-red-600\">{error}</p>\n              </div>\n            </div>\n            <button \n              onClick={() => loadTrails()} \n              className=\"px-3 py-1 bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors\"\n            >\n              Retry\n            </button>\n          </div>\n        </div>\n      )}\n\n      <div className=\"bg-white rounded-lg shadow-lg p-6 mb-6\">\n        {/* 标题和状态 */}\n        <div className=\"flex justify-between items-center mb-4\">\n          <h1 className=\"text-3xl font-bold text-gray-800 flex items-center gap-2\">\n            <Mountain className=\"text-blue-600\" />\n            Feature-Based Trail Selection System\n          </h1>\n          <div className=\"flex items-center gap-2\">\n            <div className={`w-3 h-3 rounded-full ${\n              connectionStatus === 'connected' ? 'bg-green-500' : \n              connectionStatus === 'disconnected' ? 'bg-red-500' : 'bg-yellow-500'\n            }`}></div>\n            <span className=\"text-sm text-gray-600 capitalize\">{connectionStatus}</span>\n            <span className=\"text-sm text-blue-600\">({trails.length} trails)</span>\n          </div>\n        </div>\n        \n        <p className=\"text-gray-600 mb-4\">\n          AI-powered trail selection using Greedy MinMax Regret algorithm for optimal group satisfaction\n        </p>\n        \n        {/* 群体成员显示 */}\n        <div className=\"bg-blue-50 rounded-lg p-4 mb-6\">\n          <h3 className=\"text-lg font-semibold text-blue-800 mb-2 flex items-center gap-2\">\n            <Users size={20} />\n            Group Member Preferences\n          </h3>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            {groupMembers.map((member, index) => (\n              <div key={index} className=\"bg-white rounded-lg p-3\">\n                <h4 className=\"font-medium text-gray-800\">{member.name}</h4>\n                <div className=\"flex flex-wrap gap-1 mt-2\">\n                  {member.preferences.map((pref, i) => (\n                    <span key={i} className=\"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs\">\n                      {pref}\n                    </span>\n                  ))}\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* 搜索和筛选控件 */}\n        <div className=\"flex flex-col lg:flex-row gap-4 mb-6\">\n          <div className=\"flex-1 relative\">\n            <Search className=\"absolute left-3 top-3 text-gray-400\" size={20} />\n            <input\n              type=\"text\"\n              placeholder=\"Search trail name or location...\"\n              className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n            />\n          </div>\n          <button\n            onClick={() => setShowFilters(!showFilters)}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2\"\n          >\n            <Filter size={20} />\n            {showFilters ? 'Hide Filters' : 'Show Filters'}\n          </button>\n          <button\n            onClick={getRecommendations}\n            disabled={loading || connectionStatus !== 'connected'}\n            className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            <Zap size={20} />\n            {loading ? 'Getting Recommendations...' : 'Get AI Recommendations'}\n          </button>\n          <button\n            onClick={clearFilters}\n            className=\"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors\"\n          >\n            Clear Filters\n          </button>\n        </div>\n\n        {/* 筛选面板 */}\n        {showFilters && (\n          <div className=\"bg-gray-50 rounded-lg p-4 mb-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Difficulty</label>\n                <select\n                  value={filters.difficulty}\n                  onChange={(e) => handleFilterChange('difficulty', e.target.value)}\n                  className=\"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"\">All Difficulties</option>\n                  <option value=\"Easy\">Easy</option>\n                  <option value=\"Moderate\">Moderate</option>\n                  <option value=\"Hard\">Hard</option>\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Max Distance (km)</label>\n                <input\n                  type=\"number\"\n                  value={filters.maxDistance}\n                  onChange={(e) => handleFilterChange('maxDistance', e.target.value)}\n                  className=\"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  placeholder=\"e.g. 10\"\n                  min=\"0\"\n                  step=\"0.1\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Max Time (hours)</label>\n                <input\n                  type=\"number\"\n                  value={filters.maxTime}\n                  onChange={(e) => handleFilterChange('maxTime', e.target.value)}\n                  className=\"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  placeholder=\"e.g. 4\"\n                  min=\"0\"\n                  step=\"0.1\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Max Elevation (m)</label>\n                <input\n                  type=\"number\"\n                  value={filters.maxElevation}\n                  onChange={(e) => handleFilterChange('maxElevation', e.target.value)}\n                  className=\"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  placeholder=\"e.g. 500\"\n                  min=\"0\"\n                />\n              </div>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Trail Type</label>\n                <select\n                  value={filters.trailType}\n                  onChange={(e) => handleFilterChange('trailType', e.target.value)}\n                  className=\"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"\">All Types</option>\n                  <option value=\"Loop\">Loop</option>\n                  <option value=\"Out & Back\">Out & Back</option>\n                  <option value=\"Point-to-Point\">Point-to-Point</option>\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Min Rating</label>\n                <select\n                  value={filters.minRating}\n                  onChange={(e) => handleFilterChange('minRating', e.target.value)}\n                  className=\"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"\">Any Rating</option>\n                  <option value=\"4.0\">4.0+</option>\n                  <option value=\"4.2\">4.2+</option>\n                  <option value=\"4.4\">4.4+</option>\n                  <option value=\"4.6\">4.6+</option>\n                </select>\n              </div>\n            </div>\n\n            {/* 景观类型筛选 */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Scenery Features</label>\n              <div className=\"flex flex-wrap gap-2 max-h-32 overflow-y-auto\">\n                {getAllSceneryTypes().map((sceneryType, index) => (\n                  <button\n                    key={index}\n                    onClick={() => handleSceneryTypeToggle(sceneryType)}\n                    className={`px-3 py-1 rounded-full text-sm transition-colors ${\n                      filters.sceneryTypes.includes(sceneryType)\n                        ? 'bg-blue-600 text-white'\n                        : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n                    }`}\n                  >\n                    {sceneryType}\n                  </button>\n                ))}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* 结果统计 */}\n        <div className=\"flex justify-between items-center mb-4\">\n          <p className=\"text-gray-600\">\n            Found <span className=\"font-semibold text-blue-600\">{filteredTrails.length}</span> trails\n          </p>\n          <p className=\"text-gray-600\">\n            Selected <span className=\"font-semibold text-green-600\">{selectedTrails.length}</span> trails\n          </p>\n        </div>\n      </div>\n\n      {/* AI推荐结果 */}\n      {showRecommendations && recommendations.length > 0 && (\n        <div className=\"bg-white rounded-lg shadow-lg p-6 mb-6\">\n          <h2 className=\"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2\">\n            <TrendingUp className=\"text-green-600\" />\n            AI Recommendations ({recommendations.length})\n          </h2>\n          \n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n            <div>\n              <h3 className=\"font-semibold text-gray-800 mb-3\">Recommended Trails</h3>\n              <div className=\"space-y-4 max-h-96 overflow-y-auto\">\n                {recommendations.map((trail, index) => (\n                  <div key={trail.trail_id} className=\"border border-green-200 rounded-lg p-4 bg-green-50\">\n                    <div className=\"flex justify-between items-start mb-2\">\n                      <div>\n                        <h4 className=\"font-semibold text-gray-800\">\n                          {index + 1}. {trail.trail_name}\n                        </h4>\n                        <p className=\"text-sm text-gray-600\">{trail.location}</p>\n                      </div>\n                      <div className=\"flex items-center gap-1\">\n                        <Star className=\"text-yellow-500\" size={16} />\n                        <span className=\"text-sm text-gray-600\">{trail.rating}</span>\n                      </div>\n                    </div>\n                    \n                    <div className=\"text-sm text-gray-600 mb-2\">\n                      {trail.difficulty} • {trail.distance_km}km • {trail.estimated_time_hours}h • {trail.elevation_gain_m}m↗\n                    </div>\n                    \n                    <div className=\"flex flex-wrap gap-1 mb-2\">\n                      {(trail.scenery_types || []).map((scenery, i) => (\n                        <span key={i} className=\"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs\">\n                          {scenery}\n                        </span>\n                      ))}\n                    </div>\n                    \n                    <div className=\"text-sm\">\n                      Group Match: <span className=\"font-medium text-green-600\">\n                        {trail.groupMatchPercentage || 0}%\n                      </span>\n                      <br />\n                      Avg Member Utility: <span className=\"font-medium text-blue-600\">\n                        {((trail.averageMemberUtility || 0) * 100).toFixed(0)}%\n                      </span>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n            \n            <div>\n              <h3 className=\"font-semibold text-gray-800 mb-3\">Recommendation Metrics</h3>\n              {recommendationMetrics && (\n                <div className=\"space-y-3\">\n                  <div className=\"bg-blue-50 rounded-lg p-3\">\n                    <h4 className=\"font-medium text-blue-800 mb-2\">Overall Statistics</h4>\n                    <div className=\"text-sm text-blue-700 space-y-1\">\n                      <p>Average Rating: {(recommendationMetrics.averageRating || 0).toFixed(1)}/5.0</p>\n                      <p>Average Distance: {(recommendationMetrics.averageDistance || 0).toFixed(1)}km</p>\n                      <p>Average Time: {(recommendationMetrics.averageTime || 0).toFixed(1)} hours</p>\n                      <p>Average Elevation: {(recommendationMetrics.averageElevation || 0).toFixed(0)}m</p>\n                    </div>\n                  </div>\n                  \n                  <div className=\"bg-green-50 rounded-lg p-3\">\n                    <h4 className=\"font-medium text-green-800 mb-2\">Algorithm Performance</h4>\n                    <div className=\"text-sm text-green-700 space-y-1\">\n                      <p>Diversity Score: {((recommendationMetrics.diversityScore || 0) * 100).toFixed(0)}%</p>\n                      <p>Regret Score: {(recommendationMetrics.regretScore || 0).toFixed(2)}</p>\n                    </div>\n                  </div>\n                  \n                  <div className=\"bg-purple-50 rounded-lg p-3\">\n                    <h4 className=\"font-medium text-purple-800 mb-2\">Group Satisfaction</h4>\n                    <div className=\"text-sm text-purple-700 space-y-1\">\n                      {groupMembers.map((member, index) => (\n                        <p key={member.name}>\n                          {member.name}: {(recommendationMetrics.groupMatchPercentages && recommendationMetrics.groupMatchPercentages[index]) || 0}% match\n                        </p>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* 步道列表 */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* 可选步道 */}\n        <div className=\"bg-white rounded-lg shadow-lg p-6\">\n          <h2 className=\"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2\">\n            <Eye className=\"text-blue-600\" />\n            Available Trails ({filteredTrails.length})\n          </h2>\n          <div className=\"space-y-4 max-h-96 overflow-y-auto\">\n            {filteredTrails.length === 0 ? (\n              <div className=\"text-center py-8 text-gray-500\">\n                <Eye size={48} className=\"mx-auto mb-4 text-gray-300\" />\n                <p>No trails match your current filters</p>\n                <button \n                  onClick={clearFilters}\n                  className=\"text-sm text-blue-600 underline mt-2\"\n                >\n                  Clear filters to see all trails\n                </button>\n              </div>\n            ) : (\n              filteredTrails.map((trail) => {\n                const isSelected = selectedTrails.find(t => t.trail_id === trail.trail_id);\n                const groupMatch = calculateGroupMatch(trail);\n                \n                return (\n                  <div\n                    key={trail.trail_id}\n                    className={`border rounded-lg p-4 transition-all cursor-pointer ${\n                      isSelected \n                        ? 'border-green-500 bg-green-50' \n                        : 'border-gray-200 hover:border-blue-300 hover:bg-blue-50'\n                    }`}\n                    onClick={() => handleTrailSelect(trail)}\n                  >\n                    <div className=\"flex justify-between items-start mb-2\">\n                      <h3 className=\"font-semibold text-gray-800\">{trail.trail_name}</h3>\n                      <div className=\"flex items-center gap-1\">\n                        <Star className=\"text-yellow-500\" size={16} />\n                        <span className=\"text-sm text-gray-600\">{trail.rating}</span>\n                      </div>\n                    </div>\n                    \n                    <div className=\"flex items-center gap-4 text-sm text-gray-600 mb-2\">\n                      <span className=\"flex items-center gap-1\">\n                        <MapPin size={14} />\n                        {trail.location}\n                      </span>\n                      <span className=\"flex items-center gap-1\">\n                        <Clock size={14} />\n                        {trail.estimated_time_hours}h\n                      </span>\n                    </div>\n                    \n                    <div className=\"flex justify-between items-center mb-2\">\n                      <div className=\"flex gap-2 text-sm\">\n                        <span className={`px-2 py-1 rounded ${\n                          trail.difficulty === 'Easy' ? 'bg-green-100 text-green-800' :\n                          trail.difficulty === 'Moderate' ? 'bg-yellow-100 text-yellow-800' :\n                          'bg-red-100 text-red-800'\n                        }`}>\n                          {trail.difficulty}\n                        </span>\n                        <span className=\"px-2 py-1 bg-blue-100 text-blue-800 rounded\">\n                          {trail.trail_type}\n                        </span>\n                      </div>\n                      <div className=\"text-sm text-gray-600\">\n                        {trail.distance_km}km • {trail.elevation_gain_m}m↗\n                      </div>\n                    </div>\n                    \n                    <div className=\"flex flex-wrap gap-1 mb-2\">\n                      {(trail.scenery_types || []).map((scenery, index) => (\n                        <span key={index} className=\"px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-xs\">\n                          {scenery}\n                        </span>\n                      ))}\n                    </div>\n                    \n                    <div className=\"flex justify-between items-center\">\n                      <div className=\"text-sm text-gray-500\">\n                        Group Match: <span className=\"font-medium text-blue-600\">{groupMatch.toFixed(0)}%</span>\n                      </div>\n                      <button\n                        className={`px-3 py-1 rounded text-sm font-medium ${\n                          isSelected \n                            ? 'bg-green-600 text-white' \n                            : 'bg-blue-600 text-white hover:bg-blue-700'\n                        }`}\n                      >\n                        {isSelected ? 'Selected' : 'Select'}\n                      </button>\n                    </div>\n                  </div>\n                );\n              })\n            )}\n          </div>\n        </div>\n\n        {/* 已选择步道 */}\n        <div className=\"bg-white rounded-lg shadow-lg p-6\">\n          <h2 className=\"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2\">\n            <Users className=\"text-green-600\" />\n            Selected Trails ({selectedTrails.length})\n          </h2>\n          \n          {selectedTrails.length === 0 ? (\n            <div className=\"text-center py-8 text-gray-500\">\n              <Users size={48} className=\"mx-auto mb-4 text-gray-300\" />\n              <p>No trails selected yet</p>\n              <p className=\"text-sm\">Click on trails from the left to add them to your selection</p>\n            </div>\n          ) : (\n            <div className=\"space-y-4\">\n              {selectedTrails.map((trail, index) => (\n                <div key={trail.trail_id} className=\"border border-green-200 rounded-lg p-4 bg-green-50\">\n                  <div className=\"flex justify-between items-start mb-2\">\n                    <div>\n                      <h3 className=\"font-semibold text-gray-800\">\n                        {index + 1}. {trail.trail_name}\n                      </h3>\n                      <p className=\"text-sm text-gray-600\">{trail.location}</p>\n                    </div>\n                    <button\n                      onClick={() => handleTrailSelect(trail)}\n                      className=\"text-red-500 hover:text-red-700 text-sm\"\n                    >\n                      Remove\n                    </button>\n                  </div>\n                  \n                  <div className=\"text-sm text-gray-600 mb-2\">\n                    {trail.difficulty} • {trail.distance_km}km • {trail.estimated_time_hours}h • {trail.elevation_gain_m}m↗\n                  </div>\n                  \n                  <div className=\"flex flex-wrap gap-1\">\n                    {(trail.scenery_types || []).map((scenery, i) => (\n                      <span key={i} className=\"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs\">\n                        {scenery}\n                      </span>\n                    ))}\n                  </div>\n                  \n                  <div className=\"mt-2 text-sm\">\n                    Group Match: <span className=\"font-medium text-green-600\">\n                      {calculateGroupMatch(trail).toFixed(0)}%\n                    </span>\n                  </div>\n                </div>\n              ))}\n              \n              {/* 选择总结 */}\n              <div className=\"bg-blue-50 rounded-lg p-4 mt-4\">\n                <h4 className=\"font-semibold text-blue-800 mb-2\">Selection Summary</h4>\n                <div className=\"text-sm text-blue-700\">\n                  <p>Total Distance: {selectedTrails.reduce((sum, trail) => sum + trail.distance_km, 0).toFixed(1)}km</p>\n                  <p>Total Time: {selectedTrails.reduce((sum, trail) => sum + trail.estimated_time_hours, 0).toFixed(1)} hours</p>\n                  <p>Average Rating: {selectedTrails.length > 0 ? (selectedTrails.reduce((sum, trail) => sum + trail.rating, 0) / selectedTrails.length).toFixed(1) : 0}/5.0</p>\n                  <p>Average Group Match: {selectedTrails.length > 0 ? (selectedTrails.reduce((sum, trail) => sum + calculateGroupMatch(trail), 0) / selectedTrails.length).toFixed(0) : 0}%</p>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default InteractiveTrailSelector;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}