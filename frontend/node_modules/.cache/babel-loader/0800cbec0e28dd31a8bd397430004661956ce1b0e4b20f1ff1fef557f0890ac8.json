{"ast":null,"code":"var _jsxFileName = \"/Users/JINGSI/2024-NEU/CS5800_Algo/Optimal_TrailSelection_for_Groups/frontend/src/InteractiveTrailSelector.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Search, Filter, MapPin, Clock, Mountain, Star, Users, Eye, Zap, TrendingUp, AlertCircle, RefreshCw, Heart, Activity, Award, ChevronDown, X, Plus, User, Settings, ArrowRight, ArrowLeft, Home } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst InteractiveTrailSelector = () => {\n  _s();\n  var _groupMembers$current;\n  const [trails, setTrails] = useState([]);\n  const [recommendations, setRecommendations] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [dataLoading, setDataLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Group management\n  const [groupSize, setGroupSize] = useState('');\n  const [groupMembers, setGroupMembers] = useState([]);\n  const [currentStep, setCurrentStep] = useState('group-size'); // 'group-size', 'preferences', 'results'\n  const [currentMemberIndex, setCurrentMemberIndex] = useState(0);\n\n  // Available preferences\n  const availablePreferences = [{\n    id: 'distance',\n    label: 'Distance',\n    icon: MapPin,\n    options: ['Short (< 5km)', 'Medium (5-10km)', 'Long (> 10km)']\n  }, {\n    id: 'elevation',\n    label: 'Elevation Gain',\n    icon: Mountain,\n    options: ['Low (< 200m)', 'Medium (200-500m)', 'High (> 500m)']\n  }, {\n    id: 'time',\n    label: 'Duration',\n    icon: Clock,\n    options: ['Quick (< 2h)', 'Moderate (2-4h)', 'Long (> 4h)']\n  }, {\n    id: 'difficulty',\n    label: 'Difficulty',\n    icon: Activity,\n    options: ['Easy', 'Moderate', 'Hard']\n  }, {\n    id: 'scenery',\n    label: 'Scenery Type',\n    icon: Eye,\n    options: ['Mountain', 'Lake', 'Forest', 'Ocean', 'Waterfall', 'Alpine']\n  }];\n  const [filters, setFilters] = useState({\n    difficulty: '',\n    maxDistance: '',\n    maxTime: '',\n    minRating: ''\n  });\n  const [searchTerm, setSearchTerm] = useState('');\n\n  // Load trail data from backend\n  useEffect(() => {\n    const loadTrails = async () => {\n      setDataLoading(true);\n      setError(null);\n      try {\n        console.log('🔍 Attempting to fetch trails from:', 'http://localhost:3001/api/trails');\n\n        // First, test if the backend is reachable\n        const healthCheck = await fetch('http://localhost:3001/api/health', {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          signal: AbortSignal.timeout(5000) // 5 second timeout\n        });\n        console.log('🏥 Health check status:', healthCheck.status);\n        if (!healthCheck.ok) {\n          throw new Error(`Backend health check failed: ${healthCheck.status}`);\n        }\n        const response = await fetch('http://localhost:3001/api/trails', {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          signal: AbortSignal.timeout(10000) // 10 second timeout\n        });\n        console.log('📡 Response status:', response.status);\n        console.log('📡 Response headers:', response.headers);\n        if (!response.ok) {\n          const errorText = await response.text();\n          console.error('❌ HTTP error response:', errorText);\n          throw new Error(`HTTP error! status: ${response.status} - ${errorText}`);\n        }\n        const data = await response.json();\n        console.log('✅ Received data:', data.length, 'trails');\n\n        // Process data format, ensure scenery_types is array\n        const processedData = data.map(trail => ({\n          ...trail,\n          distance_km: parseFloat(trail.distance_km),\n          estimated_time_hours: parseFloat(trail.estimated_time_hours),\n          elevation_gain_m: parseInt(trail.elevation_gain_m),\n          rating: parseFloat(trail.rating),\n          scenery_types: Array.isArray(trail.scenery_types) ? trail.scenery_types : typeof trail.scenery_types === 'string' ? trail.scenery_types.split(',').map(s => s.trim()) : []\n        }));\n        setTrails(processedData);\n        console.log(`✅ Successfully loaded ${processedData.length} trail data`);\n      } catch (err) {\n        console.error('❌ Error loading trails:', err);\n        console.error('❌ Error details:', {\n          name: err.name,\n          message: err.message,\n          stack: err.stack\n        });\n        setError(`Failed to load trails: ${err.message}`);\n      } finally {\n        setDataLoading(false);\n      }\n    };\n    loadTrails();\n  }, []);\n  const handleFilterChange = (key, value) => {\n    setFilters(prev => ({\n      ...prev,\n      [key]: value\n    }));\n  };\n  const initializeGroupMembers = size => {\n    const members = [];\n    for (let i = 0; i < size; i++) {\n      members.push({\n        id: i,\n        name: `Person ${i + 1}`,\n        preferences: {}\n      });\n    }\n    setGroupMembers(members);\n    setCurrentStep('preferences');\n    setCurrentMemberIndex(0);\n  };\n  const updateMemberPreference = (memberId, preferenceType, value) => {\n    setGroupMembers(members => members.map(member => member.id === memberId ? {\n      ...member,\n      preferences: {\n        ...member.preferences,\n        [preferenceType]: value\n      }\n    } : member));\n  };\n  const nextMember = () => {\n    if (currentMemberIndex < groupMembers.length - 1) {\n      setCurrentMemberIndex(currentMemberIndex + 1);\n    } else {\n      // All members have set preferences, get recommendations\n      getRecommendations();\n    }\n  };\n  const prevMember = () => {\n    if (currentMemberIndex > 0) {\n      setCurrentMemberIndex(currentMemberIndex - 1);\n    }\n  };\n  const calculateGroupMatch = trail => {\n    if (groupMembers.length === 0) return 0;\n    let matchCount = 0;\n    groupMembers.forEach(member => {\n      const memberMatch = member.preferences.scenery && trail.scenery_types.some(scenery => scenery.toLowerCase().includes(member.preferences.scenery.toLowerCase()));\n      if (memberMatch) matchCount++;\n    });\n    return matchCount / groupMembers.length * 100;\n  };\n  const getRecommendations = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      // Convert groupMembers to the format expected by the backend\n      const groupPreferences = groupMembers.map(member => ({\n        name: member.name,\n        preferences: Object.keys(member.preferences).map(key => {\n          const value = member.preferences[key];\n          // Convert preference values to match backend expectations\n          switch (key) {\n            case 'distance':\n              if (value === 'Short (< 5km)') return 'short';\n              if (value === 'Medium (5-10km)') return 'medium';\n              if (value === 'Long (> 10km)') return 'long';\n              return value;\n            case 'elevation':\n              if (value === 'Low (< 200m)') return 'low';\n              if (value === 'Medium (200-500m)') return 'medium';\n              if (value === 'High (> 500m)') return 'high';\n              return value;\n            case 'time':\n              if (value === 'Quick (< 2h)') return 'quick';\n              if (value === 'Moderate (2-4h)') return 'moderate';\n              if (value === 'Long (> 4h)') return 'long';\n              return value;\n            case 'difficulty':\n              return value.toLowerCase();\n            case 'scenery':\n              return value.toLowerCase();\n            default:\n              return value;\n          }\n        }).filter(pref => pref) // Remove empty preferences\n      }));\n      console.log('Sending group preferences:', groupPreferences);\n      const response = await fetch('http://localhost:3001/api/trails/recommend', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          groupPreferences: groupPreferences,\n          filters: filters,\n          k: 5\n        })\n      });\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(`Recommendation request failed: ${response.status} - ${errorData.error || 'Unknown error'}`);\n      }\n      const data = await response.json();\n\n      // Add group match information to recommended trails\n      const recommendationsWithGroupMatch = data.recommendations.map(trail => ({\n        ...trail,\n        groupMatchPercentage: calculateGroupMatch(trail)\n      }));\n      setRecommendations(recommendationsWithGroupMatch);\n      setCurrentStep('results');\n      console.log('✅ Recommendation algorithm completed:', {\n        algorithm: data.algorithm,\n        totalCandidates: data.totalCandidates,\n        recommendationsCount: data.recommendations.length\n      });\n    } catch (error) {\n      console.error('❌ Recommendation algorithm error:', error);\n      setError(`Recommendation failed: ${error.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const resetToGroupSize = () => {\n    setCurrentStep('group-size');\n    setGroupSize('');\n    setGroupMembers([]);\n    setCurrentMemberIndex(0);\n    setRecommendations([]);\n  };\n  if (dataLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-white flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-20 h-20 bg-blue-600 rounded-full flex items-center justify-center mb-8 mx-auto\",\n          children: /*#__PURE__*/_jsxDEV(Mountain, {\n            className: \"text-white\",\n            size: 40\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-3xl font-semibold text-gray-800 mb-4\",\n          children: \"Loading Trail Data...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xl text-gray-600\",\n          children: \"Connecting to backend and loading trails\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-white\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-6xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"border-b border-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-6xl mx-auto px-6 py-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center\",\n                children: /*#__PURE__*/_jsxDEV(Home, {\n                  className: \"text-white\",\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-3xl font-bold text-gray-900\",\n                children: \"Trail Explorer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#\",\n                className: \"text-lg text-gray-600 hover:text-gray-900\",\n                children: \"About\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#\",\n                className: \"text-lg text-gray-600 hover:text-gray-900\",\n                children: \"Help\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-lg font-medium\",\n                children: \"Sign Up\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-6xl mx-auto px-6 py-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-red-50 border border-red-200 rounded-lg p-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n              className: \"text-red-500\",\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-lg text-red-700\",\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"max-w-6xl mx-auto px-6 py-12\",\n        children: [currentStep === 'group-size' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-2xl p-16 text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-32 h-32 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-8\",\n                children: /*#__PURE__*/_jsxDEV(Users, {\n                  className: \"text-white\",\n                  size: 64\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 317,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-4xl font-bold text-gray-900 mb-6\",\n                children: [\"Find your \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-blue-600\",\n                  children: \"perfect trail\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 31\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xl text-gray-600 leading-relaxed\",\n                children: \"AI-powered trail recommendations for groups. We connect people, analyze preferences, and find the best hiking adventures.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-3xl font-semibold text-gray-900 mb-4\",\n                children: \"How many people in your group?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-lg text-gray-600 mb-8\",\n                children: \"Select the number of people in your hiking group\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-lg font-medium text-gray-700 mb-3\",\n                  children: \"Group Size\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: groupSize,\n                  onChange: e => {\n                    const size = parseInt(e.target.value);\n                    if (size > 0) {\n                      initializeGroupMembers(size);\n                    }\n                  },\n                  className: \"w-full p-6 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg text-gray-900\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Select group size...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 349,\n                    columnNumber: 23\n                  }, this), [1, 2, 3, 4, 5, 6, 7, 8].map(size => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: size,\n                    children: [size, \" \", size === 1 ? 'Person' : 'People']\n                  }, size, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 351,\n                    columnNumber: 25\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-50 rounded-lg p-8\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"text-xl font-semibold text-gray-900 mb-4\",\n                children: \"What happens next?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"space-y-3 text-lg text-gray-600\",\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"flex items-center gap-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-3 h-3 bg-blue-600 rounded-full\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 363,\n                    columnNumber: 23\n                  }, this), \"Each person will set their preferences\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"flex items-center gap-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-3 h-3 bg-blue-600 rounded-full\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 367,\n                    columnNumber: 23\n                  }, this), \"Our AI analyzes group compatibility\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-2 h-2 bg-blue-600 rounded-full\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 371,\n                    columnNumber: 23\n                  }, this), \"Get top 5 personalized recommendations\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 370,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 13\n        }, this), currentStep === 'preferences' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-4xl mx-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center mb-12\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-4xl font-bold text-gray-900 mb-4\",\n              children: [(_groupMembers$current = groupMembers[currentMemberIndex]) === null || _groupMembers$current === void 0 ? void 0 : _groupMembers$current.name, \"'s Preferences\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xl text-gray-600\",\n              children: [\"Member \", currentMemberIndex + 1, \" of \", groupMembers.length]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-8\",\n            children: availablePreferences.map(pref => {\n              var _groupMembers$current2;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white rounded-xl shadow-lg p-8\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-4 mb-6\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center\",\n                    children: pref.icon\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 396,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: \"text-2xl font-semibold text-gray-900\",\n                      children: pref.label\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 400,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-lg text-gray-600\",\n                      children: [\"Select your preferred \", pref.label.toLowerCase()]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 401,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 399,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 395,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: ((_groupMembers$current2 = groupMembers[currentMemberIndex]) === null || _groupMembers$current2 === void 0 ? void 0 : _groupMembers$current2.preferences[pref.id]) || '',\n                  onChange: e => updateMemberPreference(currentMemberIndex, pref.id, e.target.value),\n                  className: \"w-full p-6 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg text-gray-900\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: [\"Select \", pref.label.toLowerCase(), \"...\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 410,\n                    columnNumber: 23\n                  }, this), pref.options.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: option,\n                    children: option\n                  }, option, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 412,\n                    columnNumber: 25\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 405,\n                  columnNumber: 21\n                }, this)]\n              }, pref.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mt-12\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: prevMember,\n              disabled: currentMemberIndex === 0,\n              className: \"px-8 py-4 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-lg font-medium\",\n              children: \"Previous\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 17\n            }, this), currentMemberIndex === groupMembers.length - 1 ? /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: getRecommendations,\n              disabled: loading,\n              className: \"px-8 py-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-lg font-medium\",\n              children: loading ? 'Getting Recommendations...' : 'Get Recommendations'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: nextMember,\n              className: \"px-8 py-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-lg font-medium\",\n              children: \"Next Member\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 13\n        }, this), currentStep === 'results' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-6xl mx-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center mb-12\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-4xl font-bold text-gray-900 mb-4\",\n              children: \"Your Recommended Trails\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xl text-gray-600\",\n              children: [\"Top 5 trails selected for your group of \", groupMembers.length, \" people\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 lg:grid-cols-2 gap-8\",\n            children: recommendations.map((trail, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white rounded-xl shadow-lg p-8 border border-gray-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-start mb-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-3 mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-lg font-bold\",\n                      children: index + 1\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 466,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: \"text-2xl font-bold text-gray-900\",\n                      children: trail.trail_name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 469,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 465,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-lg text-gray-600 mb-4\",\n                    children: trail.location\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 471,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 464,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Star, {\n                    className: \"text-yellow-500\",\n                    size: 24\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 474,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xl font-semibold text-gray-900\",\n                    children: trail.rating\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 475,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 473,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-2 gap-6 mb-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-3\",\n                    children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                      className: \"text-gray-500\",\n                      size: 20\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 482,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-lg text-gray-700\",\n                      children: [trail.distance_km, \"km\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 483,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 481,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Clock, {\n                      className: \"text-gray-500\",\n                      size: 20\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 486,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-lg text-gray-700\",\n                      children: [trail.estimated_time_hours, \"h\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 487,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 485,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 480,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Mountain, {\n                      className: \"text-gray-500\",\n                      size: 20\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 492,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-lg text-gray-700\",\n                      children: [trail.elevation_gain_m, \"m\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 493,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 491,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-3\",\n                    children: [/*#__PURE__*/_jsxDEV(Users, {\n                      className: \"text-gray-500\",\n                      size: 20\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 496,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-lg text-gray-700\",\n                      children: [trail.groupMatchPercentage, \"% match\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 497,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 495,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 490,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 479,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-3 mb-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `px-4 py-2 rounded-full text-lg font-medium ${trail.difficulty === 'Easy' ? 'bg-green-100 text-green-800' : trail.difficulty === 'Moderate' ? 'bg-yellow-100 text-yellow-800' : 'bg-red-100 text-red-800'}`,\n                  children: trail.difficulty\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 503,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"px-4 py-2 bg-blue-100 text-blue-800 rounded-full text-lg font-medium\",\n                  children: trail.trail_type\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 510,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-wrap gap-2 mb-6\",\n                children: trail.scenery_types.map((scenery, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"px-3 py-2 bg-gray-100 text-gray-700 rounded-full text-lg\",\n                  children: scenery\n                }, i, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 517,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 515,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-lg text-gray-600 leading-relaxed\",\n                children: trail.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 523,\n                columnNumber: 21\n              }, this)]\n            }, trail.trail_id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center mt-12\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: resetToGroupSize,\n              className: \"px-8 py-4 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-lg font-medium\",\n              children: \"Start Over\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 531,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 530,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 273,\n    columnNumber: 5\n  }, this);\n};\n_s(InteractiveTrailSelector, \"PgrtEnsaNKHnJGEEsNu2qxx/pdc=\");\n_c = InteractiveTrailSelector;\nexport default InteractiveTrailSelector;\nvar _c;\n$RefreshReg$(_c, \"InteractiveTrailSelector\");","map":{"version":3,"names":["React","useState","useEffect","Search","Filter","MapPin","Clock","Mountain","Star","Users","Eye","Zap","TrendingUp","AlertCircle","RefreshCw","Heart","Activity","Award","ChevronDown","X","Plus","User","Settings","ArrowRight","ArrowLeft","Home","jsxDEV","_jsxDEV","InteractiveTrailSelector","_s","_groupMembers$current","trails","setTrails","recommendations","setRecommendations","loading","setLoading","dataLoading","setDataLoading","error","setError","groupSize","setGroupSize","groupMembers","setGroupMembers","currentStep","setCurrentStep","currentMemberIndex","setCurrentMemberIndex","availablePreferences","id","label","icon","options","filters","setFilters","difficulty","maxDistance","maxTime","minRating","searchTerm","setSearchTerm","loadTrails","console","log","healthCheck","fetch","method","headers","signal","AbortSignal","timeout","status","ok","Error","response","errorText","text","data","json","length","processedData","map","trail","distance_km","parseFloat","estimated_time_hours","elevation_gain_m","parseInt","rating","scenery_types","Array","isArray","split","s","trim","err","name","message","stack","handleFilterChange","key","value","prev","initializeGroupMembers","size","members","i","push","preferences","updateMemberPreference","memberId","preferenceType","member","nextMember","getRecommendations","prevMember","calculateGroupMatch","matchCount","forEach","memberMatch","scenery","some","toLowerCase","includes","groupPreferences","Object","keys","filter","pref","body","JSON","stringify","k","errorData","catch","recommendationsWithGroupMatch","groupMatchPercentage","algorithm","totalCandidates","recommendationsCount","resetToGroupSize","className","children","fileName","_jsxFileName","lineNumber","columnNumber","href","onChange","e","target","_groupMembers$current2","option","onClick","disabled","index","trail_name","location","trail_type","description","trail_id","_c","$RefreshReg$"],"sources":["/Users/JINGSI/2024-NEU/CS5800_Algo/Optimal_TrailSelection_for_Groups/frontend/src/InteractiveTrailSelector.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Search, Filter, MapPin, Clock, Mountain, Star, Users, Eye, Zap, TrendingUp, AlertCircle, RefreshCw, Heart, Activity, Award, ChevronDown, X, Plus, User, Settings, ArrowRight, ArrowLeft, Home } from 'lucide-react';\n\nconst InteractiveTrailSelector = () => {\n  const [trails, setTrails] = useState([]);\n  const [recommendations, setRecommendations] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [dataLoading, setDataLoading] = useState(false);\n  const [error, setError] = useState(null);\n  \n  // Group management\n  const [groupSize, setGroupSize] = useState('');\n  const [groupMembers, setGroupMembers] = useState([]);\n  const [currentStep, setCurrentStep] = useState('group-size'); // 'group-size', 'preferences', 'results'\n  const [currentMemberIndex, setCurrentMemberIndex] = useState(0);\n  \n  // Available preferences\n  const availablePreferences = [\n    { id: 'distance', label: 'Distance', icon: MapPin, options: ['Short (< 5km)', 'Medium (5-10km)', 'Long (> 10km)'] },\n    { id: 'elevation', label: 'Elevation Gain', icon: Mountain, options: ['Low (< 200m)', 'Medium (200-500m)', 'High (> 500m)'] },\n    { id: 'time', label: 'Duration', icon: Clock, options: ['Quick (< 2h)', 'Moderate (2-4h)', 'Long (> 4h)'] },\n    { id: 'difficulty', label: 'Difficulty', icon: Activity, options: ['Easy', 'Moderate', 'Hard'] },\n    { id: 'scenery', label: 'Scenery Type', icon: Eye, options: ['Mountain', 'Lake', 'Forest', 'Ocean', 'Waterfall', 'Alpine'] }\n  ];\n  \n  const [filters, setFilters] = useState({\n    difficulty: '',\n    maxDistance: '',\n    maxTime: '',\n    minRating: ''\n  });\n  \n  const [searchTerm, setSearchTerm] = useState('');\n\n  // Load trail data from backend\n  useEffect(() => {\n    const loadTrails = async () => {\n      setDataLoading(true);\n      setError(null);\n      \n      try {\n        console.log('🔍 Attempting to fetch trails from:', 'http://localhost:3001/api/trails');\n        \n        // First, test if the backend is reachable\n        const healthCheck = await fetch('http://localhost:3001/api/health', {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          signal: AbortSignal.timeout(5000) // 5 second timeout\n        });\n        console.log('🏥 Health check status:', healthCheck.status);\n        \n        if (!healthCheck.ok) {\n          throw new Error(`Backend health check failed: ${healthCheck.status}`);\n        }\n        \n        const response = await fetch('http://localhost:3001/api/trails', {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          signal: AbortSignal.timeout(10000) // 10 second timeout\n        });\n        \n        console.log('📡 Response status:', response.status);\n        console.log('📡 Response headers:', response.headers);\n        \n        if (!response.ok) {\n          const errorText = await response.text();\n          console.error('❌ HTTP error response:', errorText);\n          throw new Error(`HTTP error! status: ${response.status} - ${errorText}`);\n        }\n        \n        const data = await response.json();\n        console.log('✅ Received data:', data.length, 'trails');\n        \n        // Process data format, ensure scenery_types is array\n        const processedData = data.map(trail => ({\n          ...trail,\n          distance_km: parseFloat(trail.distance_km),\n          estimated_time_hours: parseFloat(trail.estimated_time_hours),\n          elevation_gain_m: parseInt(trail.elevation_gain_m),\n          rating: parseFloat(trail.rating),\n          scenery_types: Array.isArray(trail.scenery_types) \n            ? trail.scenery_types \n            : (typeof trail.scenery_types === 'string' \n                ? trail.scenery_types.split(',').map(s => s.trim()) \n                : [])\n        }));\n        \n        setTrails(processedData);\n        console.log(`✅ Successfully loaded ${processedData.length} trail data`);\n      } catch (err) {\n        console.error('❌ Error loading trails:', err);\n        console.error('❌ Error details:', {\n          name: err.name,\n          message: err.message,\n          stack: err.stack\n        });\n        setError(`Failed to load trails: ${err.message}`);\n      } finally {\n        setDataLoading(false);\n      }\n    };\n\n    loadTrails();\n  }, []);\n\n  const handleFilterChange = (key, value) => {\n    setFilters(prev => ({\n      ...prev,\n      [key]: value\n    }));\n  };\n\n  const initializeGroupMembers = (size) => {\n    const members = [];\n    for (let i = 0; i < size; i++) {\n      members.push({\n        id: i,\n        name: `Person ${i + 1}`,\n        preferences: {}\n      });\n    }\n    setGroupMembers(members);\n    setCurrentStep('preferences');\n    setCurrentMemberIndex(0);\n  };\n\n  const updateMemberPreference = (memberId, preferenceType, value) => {\n    setGroupMembers(members => \n      members.map(member => \n        member.id === memberId \n          ? { ...member, preferences: { ...member.preferences, [preferenceType]: value } }\n          : member\n      )\n    );\n  };\n\n  const nextMember = () => {\n    if (currentMemberIndex < groupMembers.length - 1) {\n      setCurrentMemberIndex(currentMemberIndex + 1);\n    } else {\n      // All members have set preferences, get recommendations\n      getRecommendations();\n    }\n  };\n\n  const prevMember = () => {\n    if (currentMemberIndex > 0) {\n      setCurrentMemberIndex(currentMemberIndex - 1);\n    }\n  };\n\n  const calculateGroupMatch = (trail) => {\n    if (groupMembers.length === 0) return 0;\n    let matchCount = 0;\n    groupMembers.forEach(member => {\n      const memberMatch = member.preferences.scenery && \n        trail.scenery_types.some(scenery => \n          scenery.toLowerCase().includes(member.preferences.scenery.toLowerCase())\n        );\n      if (memberMatch) matchCount++;\n    });\n    return (matchCount / groupMembers.length) * 100;\n  };\n\n  const getRecommendations = async () => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      // Convert groupMembers to the format expected by the backend\n      const groupPreferences = groupMembers.map(member => ({\n        name: member.name,\n        preferences: Object.keys(member.preferences).map(key => {\n          const value = member.preferences[key];\n          // Convert preference values to match backend expectations\n          switch(key) {\n            case 'distance':\n              if (value === 'Short (< 5km)') return 'short';\n              if (value === 'Medium (5-10km)') return 'medium';\n              if (value === 'Long (> 10km)') return 'long';\n              return value;\n            case 'elevation':\n              if (value === 'Low (< 200m)') return 'low';\n              if (value === 'Medium (200-500m)') return 'medium';\n              if (value === 'High (> 500m)') return 'high';\n              return value;\n            case 'time':\n              if (value === 'Quick (< 2h)') return 'quick';\n              if (value === 'Moderate (2-4h)') return 'moderate';\n              if (value === 'Long (> 4h)') return 'long';\n              return value;\n            case 'difficulty':\n              return value.toLowerCase();\n            case 'scenery':\n              return value.toLowerCase();\n            default:\n              return value;\n          }\n        }).filter(pref => pref) // Remove empty preferences\n      }));\n\n      console.log('Sending group preferences:', groupPreferences);\n\n      const response = await fetch('http://localhost:3001/api/trails/recommend', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          groupPreferences: groupPreferences,\n          filters: filters,\n          k: 5\n        })\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(`Recommendation request failed: ${response.status} - ${errorData.error || 'Unknown error'}`);\n      }\n\n      const data = await response.json();\n      \n      // Add group match information to recommended trails\n      const recommendationsWithGroupMatch = data.recommendations.map(trail => ({\n        ...trail,\n        groupMatchPercentage: calculateGroupMatch(trail)\n      }));\n      \n      setRecommendations(recommendationsWithGroupMatch);\n      setCurrentStep('results');\n      \n      console.log('✅ Recommendation algorithm completed:', {\n        algorithm: data.algorithm,\n        totalCandidates: data.totalCandidates,\n        recommendationsCount: data.recommendations.length\n      });\n      \n    } catch (error) {\n      console.error('❌ Recommendation algorithm error:', error);\n      setError(`Recommendation failed: ${error.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const resetToGroupSize = () => {\n    setCurrentStep('group-size');\n    setGroupSize('');\n    setGroupMembers([]);\n    setCurrentMemberIndex(0);\n    setRecommendations([]);\n  };\n\n  if (dataLoading) {\n    return (\n      <div className=\"min-h-screen bg-white flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"w-20 h-20 bg-blue-600 rounded-full flex items-center justify-center mb-8 mx-auto\">\n            <Mountain className=\"text-white\" size={40} />\n          </div>\n          <h2 className=\"text-3xl font-semibold text-gray-800 mb-4\">Loading Trail Data...</h2>\n          <p className=\"text-xl text-gray-600\">Connecting to backend and loading trails</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-white\">\n      <div className=\"max-w-6xl mx-auto\">\n        {/* Header */}\n        <header className=\"border-b border-gray-200\">\n          <div className=\"max-w-6xl mx-auto px-6 py-4\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center\">\n                  <Home className=\"text-white\" size={20} />\n                </div>\n                <h1 className=\"text-3xl font-bold text-gray-900\">Trail Explorer</h1>\n              </div>\n              <div className=\"flex items-center gap-6\">\n                <a href=\"#\" className=\"text-lg text-gray-600 hover:text-gray-900\">About</a>\n                <a href=\"#\" className=\"text-lg text-gray-600 hover:text-gray-900\">Help</a>\n                <button className=\"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-lg font-medium\">\n                  Sign Up\n                </button>\n              </div>\n            </div>\n          </div>\n        </header>\n\n        {/* Error Alert */}\n        {error && (\n          <div className=\"max-w-6xl mx-auto px-6 py-4\">\n            <div className=\"bg-red-50 border border-red-200 rounded-lg p-6\">\n              <div className=\"flex items-center gap-3\">\n                <AlertCircle className=\"text-red-500\" size={24} />\n                <span className=\"text-lg text-red-700\">{error}</span>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Main Content */}\n        <main className=\"max-w-6xl mx-auto px-6 py-12\">\n          {/* Step 1: Group Size Selection */}\n          {currentStep === 'group-size' && (\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center\">\n              {/* Left Column - Image */}\n              <div className=\"relative\">\n                <div className=\"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-2xl p-16 text-center\">\n                  <div className=\"w-32 h-32 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-8\">\n                    <Users className=\"text-white\" size={64} />\n                  </div>\n                  <h2 className=\"text-4xl font-bold text-gray-900 mb-6\">\n                    Find your <span className=\"text-blue-600\">perfect trail</span>\n                  </h2>\n                  <p className=\"text-xl text-gray-600 leading-relaxed\">\n                    AI-powered trail recommendations for groups. \n                    We connect people, analyze preferences, and find the best hiking adventures.\n                  </p>\n                </div>\n              </div>\n\n              {/* Right Column - Form */}\n              <div className=\"space-y-8\">\n                <div>\n                  <h3 className=\"text-3xl font-semibold text-gray-900 mb-4\">How many people in your group?</h3>\n                  <p className=\"text-lg text-gray-600 mb-8\">Select the number of people in your hiking group</p>\n                  \n                  <div className=\"space-y-4\">\n                    <label className=\"block text-lg font-medium text-gray-700 mb-3\">\n                      Group Size\n                    </label>\n                    <select\n                      value={groupSize}\n                      onChange={(e) => {\n                        const size = parseInt(e.target.value);\n                        if (size > 0) {\n                          initializeGroupMembers(size);\n                        }\n                      }}\n                      className=\"w-full p-6 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg text-gray-900\"\n                    >\n                      <option value=\"\">Select group size...</option>\n                      {[1, 2, 3, 4, 5, 6, 7, 8].map((size) => (\n                        <option key={size} value={size}>\n                          {size} {size === 1 ? 'Person' : 'People'}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n                </div>\n\n                <div className=\"bg-gray-50 rounded-lg p-8\">\n                  <h4 className=\"text-xl font-semibold text-gray-900 mb-4\">What happens next?</h4>\n                  <ul className=\"space-y-3 text-lg text-gray-600\">\n                    <li className=\"flex items-center gap-3\">\n                      <div className=\"w-3 h-3 bg-blue-600 rounded-full\"></div>\n                      Each person will set their preferences\n                    </li>\n                    <li className=\"flex items-center gap-3\">\n                      <div className=\"w-3 h-3 bg-blue-600 rounded-full\"></div>\n                      Our AI analyzes group compatibility\n                    </li>\n                    <li className=\"flex items-center gap-2\">\n                      <div className=\"w-2 h-2 bg-blue-600 rounded-full\"></div>\n                      Get top 5 personalized recommendations\n                    </li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Step 2: Individual Preferences */}\n          {currentStep === 'preferences' && (\n            <div className=\"max-w-4xl mx-auto\">\n              <div className=\"text-center mb-12\">\n                <h2 className=\"text-4xl font-bold text-gray-900 mb-4\">\n                  {groupMembers[currentMemberIndex]?.name}'s Preferences\n                </h2>\n                <p className=\"text-xl text-gray-600\">\n                  Member {currentMemberIndex + 1} of {groupMembers.length}\n                </p>\n              </div>\n\n              <div className=\"space-y-8\">\n                {availablePreferences.map((pref) => (\n                  <div key={pref.id} className=\"bg-white rounded-xl shadow-lg p-8\">\n                    <div className=\"flex items-center gap-4 mb-6\">\n                      <div className=\"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center\">\n                        {pref.icon}\n                      </div>\n                      <div>\n                        <h3 className=\"text-2xl font-semibold text-gray-900\">{pref.label}</h3>\n                        <p className=\"text-lg text-gray-600\">Select your preferred {pref.label.toLowerCase()}</p>\n                      </div>\n                    </div>\n                    \n                    <select\n                      value={groupMembers[currentMemberIndex]?.preferences[pref.id] || ''}\n                      onChange={(e) => updateMemberPreference(currentMemberIndex, pref.id, e.target.value)}\n                      className=\"w-full p-6 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg text-gray-900\"\n                    >\n                      <option value=\"\">Select {pref.label.toLowerCase()}...</option>\n                      {pref.options.map((option) => (\n                        <option key={option} value={option}>\n                          {option}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n                ))}\n              </div>\n\n              <div className=\"flex justify-between items-center mt-12\">\n                <button\n                  onClick={prevMember}\n                  disabled={currentMemberIndex === 0}\n                  className=\"px-8 py-4 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-lg font-medium\"\n                >\n                  Previous\n                </button>\n                \n                {currentMemberIndex === groupMembers.length - 1 ? (\n                  <button\n                    onClick={getRecommendations}\n                    disabled={loading}\n                    className=\"px-8 py-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-lg font-medium\"\n                  >\n                    {loading ? 'Getting Recommendations...' : 'Get Recommendations'}\n                  </button>\n                ) : (\n                  <button\n                    onClick={nextMember}\n                    className=\"px-8 py-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-lg font-medium\"\n                  >\n                    Next Member\n                  </button>\n                )}\n              </div>\n            </div>\n          )}\n\n          {/* Step 3: Results */}\n          {currentStep === 'results' && (\n            <div className=\"max-w-6xl mx-auto\">\n              <div className=\"text-center mb-12\">\n                <h2 className=\"text-4xl font-bold text-gray-900 mb-4\">Your Recommended Trails</h2>\n                <p className=\"text-xl text-gray-600\">\n                  Top 5 trails selected for your group of {groupMembers.length} people\n                </p>\n              </div>\n\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n                {recommendations.map((trail, index) => (\n                  <div key={trail.trail_id} className=\"bg-white rounded-xl shadow-lg p-8 border border-gray-200\">\n                    <div className=\"flex justify-between items-start mb-6\">\n                      <div>\n                        <div className=\"flex items-center gap-3 mb-3\">\n                          <div className=\"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-lg font-bold\">\n                            {index + 1}\n                          </div>\n                          <h3 className=\"text-2xl font-bold text-gray-900\">{trail.trail_name}</h3>\n                        </div>\n                        <p className=\"text-lg text-gray-600 mb-4\">{trail.location}</p>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <Star className=\"text-yellow-500\" size={24} />\n                        <span className=\"text-xl font-semibold text-gray-900\">{trail.rating}</span>\n                      </div>\n                    </div>\n\n                    <div className=\"grid grid-cols-2 gap-6 mb-6\">\n                      <div className=\"space-y-3\">\n                        <div className=\"flex items-center gap-3\">\n                          <MapPin className=\"text-gray-500\" size={20} />\n                          <span className=\"text-lg text-gray-700\">{trail.distance_km}km</span>\n                        </div>\n                        <div className=\"flex items-center gap-3\">\n                          <Clock className=\"text-gray-500\" size={20} />\n                          <span className=\"text-lg text-gray-700\">{trail.estimated_time_hours}h</span>\n                        </div>\n                      </div>\n                      <div className=\"space-y-3\">\n                        <div className=\"flex items-center gap-3\">\n                          <Mountain className=\"text-gray-500\" size={20} />\n                          <span className=\"text-lg text-gray-700\">{trail.elevation_gain_m}m</span>\n                        </div>\n                        <div className=\"flex items-center gap-3\">\n                          <Users className=\"text-gray-500\" size={20} />\n                          <span className=\"text-lg text-gray-700\">{trail.groupMatchPercentage}% match</span>\n                        </div>\n                      </div>\n                    </div>\n\n                    <div className=\"flex items-center gap-3 mb-6\">\n                      <span className={`px-4 py-2 rounded-full text-lg font-medium ${\n                        trail.difficulty === 'Easy' ? 'bg-green-100 text-green-800' :\n                        trail.difficulty === 'Moderate' ? 'bg-yellow-100 text-yellow-800' :\n                        'bg-red-100 text-red-800'\n                      }`}>\n                        {trail.difficulty}\n                      </span>\n                      <span className=\"px-4 py-2 bg-blue-100 text-blue-800 rounded-full text-lg font-medium\">\n                        {trail.trail_type}\n                      </span>\n                    </div>\n\n                    <div className=\"flex flex-wrap gap-2 mb-6\">\n                      {trail.scenery_types.map((scenery, i) => (\n                        <span key={i} className=\"px-3 py-2 bg-gray-100 text-gray-700 rounded-full text-lg\">\n                          {scenery}\n                        </span>\n                      ))}\n                    </div>\n\n                    <p className=\"text-lg text-gray-600 leading-relaxed\">\n                      {trail.description}\n                    </p>\n                  </div>\n                ))}\n              </div>\n\n              <div className=\"text-center mt-12\">\n                <button\n                  onClick={resetToGroupSize}\n                  className=\"px-8 py-4 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-lg font-medium\"\n                >\n                  Start Over\n                </button>\n              </div>\n            </div>\n          )}\n        </main>\n      </div>\n    </div>\n  );\n};\n\nexport default InteractiveTrailSelector;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}