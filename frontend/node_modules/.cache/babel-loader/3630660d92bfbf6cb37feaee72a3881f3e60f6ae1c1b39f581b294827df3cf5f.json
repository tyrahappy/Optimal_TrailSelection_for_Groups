{"ast":null,"code":"var _jsxFileName = \"/Users/JINGSI/2024-NEU/CS5800_Algo/Optimal_TrailSelection_for_Groups/frontend/src/InteractiveTrailSelector.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Search, Filter, MapPin, Clock, Mountain, Star, Users, Eye, Zap, TrendingUp, AlertCircle, RefreshCw, Heart, Activity, Award } from 'lucide-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst InteractiveTrailSelector = () => {\n  _s();\n  const [trails, setTrails] = useState([]);\n  const [filteredTrails, setFilteredTrails] = useState([]);\n  const [selectedTrails, setSelectedTrails] = useState([]);\n  const [recommendations, setRecommendations] = useState([]);\n  const [recommendationMetrics, setRecommendationMetrics] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [dataLoading, setDataLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [connectionStatus, setConnectionStatus] = useState('checking');\n  const [groupMembers, setGroupMembers] = useState([{\n    name: \"Alice\",\n    preferences: [\"mountain\", \"lake\", \"waterfall\"]\n  }, {\n    name: \"Bob\",\n    preferences: [\"ocean\", \"beach\", \"lake\"]\n  }, {\n    name: \"Carol\",\n    preferences: [\"forest\", \"waterfall\", \"lake\"]\n  }]);\n\n  // API配置\n  const API_BASE_URL = 'http://localhost:3001/api';\n  const [filters, setFilters] = useState({\n    difficulty: '',\n    maxDistance: '',\n    maxTime: '',\n    maxElevation: '',\n    trailType: '',\n    sceneryTypes: [],\n    minRating: ''\n  });\n  const [searchTerm, setSearchTerm] = useState('');\n  const [showFilters, setShowFilters] = useState(false);\n  const [showRecommendations, setShowRecommendations] = useState(false);\n\n  // 检查后端健康状态\n  const checkHealth = async () => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/health`);\n      if (response.ok) {\n        const healthData = await response.json();\n        setConnectionStatus('connected');\n        setError(null);\n        return healthData;\n      } else {\n        throw new Error(`Health check failed: ${response.status}`);\n      }\n    } catch (err) {\n      setConnectionStatus('disconnected');\n      setError(`Backend connection failed: ${err.message}`);\n      throw err;\n    }\n  };\n\n  // 加载步道数据\n  const loadTrails = async (retryCount = 0) => {\n    setDataLoading(true);\n    setError(null);\n    try {\n      // 检查后端健康状态\n      await checkHealth();\n\n      // 获取步道数据\n      const response = await fetch(`${API_BASE_URL}/trails`);\n      if (!response.ok) {\n        throw new Error(`Failed to fetch trails: ${response.status} ${response.statusText}`);\n      }\n      const data = await response.json();\n\n      // 验证和清理数据\n      const validTrails = data.filter(trail => {\n        return trail && trail.trail_id && trail.trail_name && typeof trail.distance_km === 'number' && !isNaN(trail.distance_km) && trail.scenery_types;\n      }).map(trail => ({\n        ...trail,\n        // 确保scenery_types是数组\n        scenery_types: Array.isArray(trail.scenery_types) ? trail.scenery_types : typeof trail.scenery_types === 'string' ? trail.scenery_types.split(',').map(s => s.trim()) : []\n      }));\n      setTrails(validTrails);\n      setFilteredTrails(validTrails);\n      setConnectionStatus('connected');\n      console.log(`✅ Successfully loaded ${validTrails.length} trails`);\n    } catch (error) {\n      console.error('❌ Error loading trails:', error);\n      setError(error.message);\n      setConnectionStatus('disconnected');\n      if (retryCount < 3) {\n        setTimeout(() => loadTrails(retryCount + 1), 2000);\n      }\n    } finally {\n      setDataLoading(false);\n    }\n  };\n\n  // 获取所有独特的景观类型\n  const getAllSceneryTypes = () => {\n    const allTypes = trails.flatMap(trail => trail.scenery_types);\n    return [...new Set(allTypes)];\n  };\n\n  // 应用筛选条件\n  useEffect(() => {\n    let filtered = trails.filter(trail => {\n      // 搜索词筛选\n      if (searchTerm && !trail.trail_name.toLowerCase().includes(searchTerm.toLowerCase()) && !trail.location.toLowerCase().includes(searchTerm.toLowerCase())) {\n        return false;\n      }\n\n      // 难度筛选\n      if (filters.difficulty && trail.difficulty !== filters.difficulty) {\n        return false;\n      }\n\n      // 距离筛选\n      if (filters.maxDistance && trail.distance_km > parseFloat(filters.maxDistance)) {\n        return false;\n      }\n\n      // 时间筛选\n      if (filters.maxTime && trail.estimated_time_hours > parseFloat(filters.maxTime)) {\n        return false;\n      }\n\n      // 爬升筛选\n      if (filters.maxElevation && trail.elevation_gain_m > parseInt(filters.maxElevation)) {\n        return false;\n      }\n\n      // 步道类型筛选\n      if (filters.trailType && trail.trail_type !== filters.trailType) {\n        return false;\n      }\n\n      // 景观类型筛选\n      if (filters.sceneryTypes.length > 0) {\n        const hasMatchingScenery = filters.sceneryTypes.some(selectedType => trail.scenery_types.some(trailType => trailType.includes(selectedType)));\n        if (!hasMatchingScenery) {\n          return false;\n        }\n      }\n\n      // 评分筛选\n      if (filters.minRating && trail.rating < parseFloat(filters.minRating)) {\n        return false;\n      }\n      return true;\n    });\n    setFilteredTrails(filtered);\n  }, [trails, filters, searchTerm]);\n\n  // 处理筛选条件变化\n  const handleFilterChange = (key, value) => {\n    setFilters(prev => ({\n      ...prev,\n      [key]: value\n    }));\n  };\n\n  // 处理景观类型选择\n  const handleSceneryTypeToggle = sceneryType => {\n    setFilters(prev => ({\n      ...prev,\n      sceneryTypes: prev.sceneryTypes.includes(sceneryType) ? prev.sceneryTypes.filter(type => type !== sceneryType) : [...prev.sceneryTypes, sceneryType]\n    }));\n  };\n\n  // 添加步道到选择列表\n  const handleTrailSelect = trail => {\n    if (selectedTrails.find(t => t.trail_id === trail.trail_id)) {\n      setSelectedTrails(prev => prev.filter(t => t.trail_id !== trail.trail_id));\n    } else {\n      setSelectedTrails(prev => [...prev, trail]);\n    }\n  };\n\n  // 计算群体匹配度\n  const calculateGroupMatch = trail => {\n    let matchCount = 0;\n    groupMembers.forEach(member => {\n      const memberMatch = member.preferences.some(pref => trail.scenery_types.some(scenery => scenery.toLowerCase().includes(pref.toLowerCase())));\n      if (memberMatch) matchCount++;\n    });\n    return matchCount / groupMembers.length * 100;\n  };\n\n  // 获取推荐步道\n  const getRecommendations = async () => {\n    setLoading(true);\n    try {\n      const response = await fetch(`${API_BASE_URL}/trails/recommend`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          groupPreferences: groupMembers,\n          filters: filters,\n          k: 5\n        })\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setRecommendations(data.recommendations);\n        setRecommendationMetrics(data.metrics);\n        setShowRecommendations(true);\n      } else {\n        console.error('Failed to get recommendations');\n      }\n    } catch (error) {\n      console.error('Error getting recommendations:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 清空筛选条件\n  const clearFilters = () => {\n    setFilters({\n      difficulty: '',\n      maxDistance: '',\n      maxTime: '',\n      maxElevation: '',\n      trailType: '',\n      sceneryTypes: [],\n      minRating: ''\n    });\n    setSearchTerm('');\n  };\n\n  // 初始加载\n  useEffect(() => {\n    loadTrails();\n  }, []);\n\n  // 加载状态\n  if (dataLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"glass rounded-2xl p-8 text-center animate-fade-in\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-spinner mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-800 mb-2\",\n          children: \"Loading Trail Data...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Connecting to backend and loading trails\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto p-6\",\n      children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"glass rounded-xl p-6 mb-6 border border-red-200 animate-fade-in\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n              className: \"text-red-500\",\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-semibold text-red-800\",\n                children: \"Connection Issue\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-red-600\",\n                children: error\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => loadTrails(),\n            className: \"btn-secondary\",\n            children: \"Retry\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"glass rounded-2xl p-8 mb-8 card-shadow animate-fade-in\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-4xl font-bold text-gray-800 mb-2 flex items-center gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-3 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl\",\n                children: /*#__PURE__*/_jsxDEV(Mountain, {\n                  className: \"text-white\",\n                  size: 32\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 17\n              }, this), \"Trail Selection System\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600 text-lg\",\n              children: \"AI-powered trail selection using Greedy MinMax Regret algorithm for optimal group satisfaction\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-right\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `status-indicator ${connectionStatus === 'connected' ? 'status-connected' : 'status-disconnected'}`,\n              children: connectionStatus === 'connected' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 21\n                }, this), \"Connected (\", trails.length, \" trails)\"]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-2 h-2 bg-red-500 rounded-full mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 21\n                }, this), \"Disconnected\"]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white/80 rounded-xl p-6 backdrop-blur-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(Users, {\n              size: 24,\n              className: \"text-blue-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 15\n            }, this), \"Group Member Preferences\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n            children: groupMembers.map((member, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"glass rounded-xl p-4 card-shadow animate-slide-in\",\n              style: {\n                animationDelay: `${index * 0.1}s`\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-semibold text-gray-800 mb-3\",\n                children: member.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-wrap gap-2\",\n                children: member.preferences.map((pref, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"tag tag-blue\",\n                  children: pref\n                }, i, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 19\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"glass rounded-2xl p-6 mb-8 card-shadow animate-fade-in\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col lg:flex-row gap-4 mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 relative\",\n            children: [/*#__PURE__*/_jsxDEV(Search, {\n              className: \"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400\",\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Search trail name or location...\",\n              className: \"input-modern w-full pl-12 pr-4\",\n              value: searchTerm,\n              onChange: e => setSearchTerm(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowFilters(!showFilters),\n            className: \"btn-secondary flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(Filter, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 15\n            }, this), showFilters ? 'Hide Filters' : 'Show Filters']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: getRecommendations,\n            disabled: loading || connectionStatus !== 'connected',\n            className: \"btn-primary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\",\n            children: [loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"loading-spinner\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(Zap, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 17\n            }, this), loading ? 'Getting Recommendations...' : 'Get AI Recommendations']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: clearFilters,\n            className: \"btn-secondary\",\n            children: \"Clear Filters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 11\n        }, this), showFilters && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white/80 rounded-xl p-6 backdrop-blur-sm animate-fade-in\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Difficulty\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: filters.difficulty,\n                onChange: e => handleFilterChange('difficulty', e.target.value),\n                className: \"input-modern w-full\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"All Difficulties\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 410,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Easy\",\n                  children: \"Easy\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 411,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Moderate\",\n                  children: \"Moderate\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Hard\",\n                  children: \"Hard\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 413,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 403,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Max Distance (km)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: filters.maxDistance,\n                onChange: e => handleFilterChange('maxDistance', e.target.value),\n                className: \"input-modern w-full\",\n                placeholder: \"e.g. 10\",\n                min: \"0\",\n                step: \"0.1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Max Time (hours)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: filters.maxTime,\n                onChange: e => handleFilterChange('maxTime', e.target.value),\n                className: \"input-modern w-full\",\n                placeholder: \"e.g. 4\",\n                min: \"0\",\n                step: \"0.1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Max Elevation (m)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: filters.maxElevation,\n                onChange: e => handleFilterChange('maxElevation', e.target.value),\n                className: \"input-modern w-full\",\n                placeholder: \"e.g. 500\",\n                min: \"0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 445,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Trail Type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: filters.trailType,\n                onChange: e => handleFilterChange('trailType', e.target.value),\n                className: \"input-modern w-full\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"All Types\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 464,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Loop\",\n                  children: \"Loop\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 465,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Out & Back\",\n                  children: \"Out & Back\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 466,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Point-to-Point\",\n                  children: \"Point-to-Point\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 467,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 459,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 457,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: \"Min Rating\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 472,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: filters.minRating,\n                onChange: e => handleFilterChange('minRating', e.target.value),\n                className: \"input-modern w-full\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Any Rating\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 478,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"4.0\",\n                  children: \"4.0+\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 479,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"4.2\",\n                  children: \"4.2+\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 480,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"4.4\",\n                  children: \"4.4+\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 481,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"4.6\",\n                  children: \"4.6+\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 482,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-3\",\n              children: \"Scenery Features\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-2 max-h-32 overflow-y-auto\",\n              children: getAllSceneryTypes().slice(0, 20).map((sceneryType, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleSceneryTypeToggle(sceneryType),\n                className: `tag ${filters.sceneryTypes.includes(sceneryType) ? 'tag-green' : 'tag-blue'}`,\n                children: sceneryType\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 488,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Eye, {\n                size: 16,\n                className: \"text-blue-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 513,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-600\",\n                children: [\"Found \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-semibold text-blue-600\",\n                  children: filteredTrails.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 515,\n                  columnNumber: 25\n                }, this), \" trails\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 514,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 512,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Heart, {\n                size: 16,\n                className: \"text-green-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 519,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-600\",\n                children: [\"Selected \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-semibold text-green-600\",\n                  children: selectedTrails.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 521,\n                  columnNumber: 28\n                }, this), \" trails\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 520,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 518,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 511,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 510,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 9\n      }, this), showRecommendations && recommendations.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"glass rounded-2xl p-8 mb-8 card-shadow animate-fade-in\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-2 bg-gradient-to-r from-green-500 to-blue-600 rounded-lg\",\n            children: /*#__PURE__*/_jsxDEV(TrendingUp, {\n              className: \"text-white\",\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 533,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 532,\n            columnNumber: 15\n          }, this), \"AI Recommendations (\", recommendations.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 lg:grid-cols-2 gap-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Award, {\n                className: \"text-green-600\",\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 541,\n                columnNumber: 19\n              }, this), \"Recommended Trails\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 540,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: recommendations.map((trail, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white/80 rounded-xl p-4 card-shadow\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-start mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      className: \"font-semibold text-gray-800 text-lg\",\n                      children: [index + 1, \". \", trail.trail_name]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 549,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-600\",\n                      children: trail.location\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 552,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 548,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-1\",\n                    children: [/*#__PURE__*/_jsxDEV(Star, {\n                      className: \"text-yellow-500\",\n                      size: 16\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 555,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm font-medium text-gray-600\",\n                      children: trail.rating\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 556,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 554,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 547,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-600 mb-3\",\n                  children: [trail.difficulty, \" \\u2022 \", trail.distance_km, \"km \\u2022 \", trail.estimated_time_hours, \"h \\u2022 \", trail.elevation_gain_m, \"m\\u2197\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 560,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex flex-wrap gap-2 mb-3\",\n                  children: trail.scenery_types.map((scenery, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"tag tag-green\",\n                    children: scenery\n                  }, i, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 566,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 564,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-center text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"Group Match: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium text-green-600\",\n                      children: [trail.groupMatchPercentage, \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 573,\n                      columnNumber: 44\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 573,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"Avg Utility: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium text-blue-600\",\n                      children: [(trail.averageMemberUtility * 100).toFixed(0), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 574,\n                      columnNumber: 44\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 574,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 572,\n                  columnNumber: 23\n                }, this)]\n              }, trail.trail_id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 546,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 544,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 539,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(Activity, {\n                className: \"text-purple-600\",\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 583,\n                columnNumber: 19\n              }, this), \"Recommendation Metrics\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 582,\n              columnNumber: 17\n            }, this), recommendationMetrics && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white/80 rounded-xl p-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-medium text-gray-800 mb-3\",\n                  children: \"Overall Statistics\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 589,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-2 text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Average Rating:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 592,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium\",\n                      children: [recommendationMetrics.averageRating.toFixed(1), \"/5.0\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 593,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 591,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Average Distance:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 596,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium\",\n                      children: [recommendationMetrics.averageDistance.toFixed(1), \"km\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 597,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 595,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Average Time:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 600,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium\",\n                      children: [recommendationMetrics.averageTime.toFixed(1), \" hours\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 601,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 599,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Average Elevation:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 604,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium\",\n                      children: [recommendationMetrics.averageElevation.toFixed(0), \"m\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 605,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 603,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 590,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 588,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white/80 rounded-xl p-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-medium text-gray-800 mb-3\",\n                  children: \"Algorithm Performance\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 611,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-2 text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Diversity Score:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 614,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium\",\n                      children: [(recommendationMetrics.diversityScore * 100).toFixed(0), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 615,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 613,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Regret Score:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 618,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium\",\n                      children: recommendationMetrics.regretScore.toFixed(2)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 619,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 617,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 612,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 610,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white/80 rounded-xl p-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-medium text-gray-800 mb-3\",\n                  children: \"Group Satisfaction\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 625,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"space-y-2 text-sm\",\n                  children: groupMembers.map((member, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [member.name, \":\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 629,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium\",\n                      children: [recommendationMetrics.groupMatchPercentages[index], \"% match\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 630,\n                      columnNumber: 29\n                    }, this)]\n                  }, member.name, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 628,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 626,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 624,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 587,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 581,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-2 gap-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"glass rounded-2xl p-6 card-shadow animate-fade-in\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(Eye, {\n              className: \"text-blue-600\",\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 647,\n              columnNumber: 15\n            }, this), \"Available Trails (\", filteredTrails.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 646,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4 max-h-96 overflow-y-auto\",\n            children: filteredTrails.slice(0, 20).map(trail => {\n              const isSelected = selectedTrails.find(t => t.trail_id === trail.trail_id);\n              const groupMatch = calculateGroupMatch(trail);\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `bg-white/80 rounded-xl p-4 card-shadow cursor-pointer transition-all ${isSelected ? 'border-2 border-green-500 bg-green-50/50' : 'border border-transparent hover:border-blue-300 hover:bg-blue-50/30'}`,\n                onClick: () => handleTrailSelect(trail),\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-start mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"font-semibold text-gray-800\",\n                    children: trail.trail_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 666,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-1\",\n                    children: [/*#__PURE__*/_jsxDEV(Star, {\n                      className: \"text-yellow-500\",\n                      size: 16\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 668,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm font-medium text-gray-600\",\n                      children: trail.rating\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 669,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 667,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 665,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-4 text-sm text-gray-600 mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"flex items-center gap-1\",\n                    children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                      size: 14\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 675,\n                      columnNumber: 25\n                    }, this), trail.location]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 674,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"flex items-center gap-1\",\n                    children: [/*#__PURE__*/_jsxDEV(Clock, {\n                      size: 14\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 679,\n                      columnNumber: 25\n                    }, this), trail.estimated_time_hours, \"h\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 678,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 673,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-center mb-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `tag ${trail.difficulty === 'Easy' ? 'tag-green' : trail.difficulty === 'Moderate' ? 'tag-orange' : 'tag-purple'}`,\n                      children: trail.difficulty\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 686,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"tag tag-blue\",\n                      children: trail.trail_type\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 693,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 685,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-gray-600\",\n                    children: [trail.distance_km, \"km \\u2022 \", trail.elevation_gain_m, \"m\\u2197\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 697,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 684,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex flex-wrap gap-1 mb-3\",\n                  children: trail.scenery_types.map((scenery, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"tag tag-blue\",\n                    children: scenery\n                  }, index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 704,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 702,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-gray-500\",\n                    children: [\"Group Match: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-medium text-blue-600\",\n                      children: [groupMatch.toFixed(0), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 712,\n                      columnNumber: 38\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 711,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: `px-4 py-2 rounded-lg text-sm font-medium transition-all ${isSelected ? 'bg-green-600 text-white' : 'bg-blue-600 text-white hover:bg-blue-700'}`,\n                    children: isSelected ? 'Selected' : 'Select'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 714,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 710,\n                  columnNumber: 21\n                }, this)]\n              }, trail.trail_id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 656,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 650,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 645,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"glass rounded-2xl p-6 card-shadow animate-fade-in\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(Heart, {\n              className: \"text-green-600\",\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 733,\n              columnNumber: 15\n            }, this), \"Selected Trails (\", selectedTrails.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 732,\n            columnNumber: 13\n          }, this), selectedTrails.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-12 text-gray-500\",\n            children: [/*#__PURE__*/_jsxDEV(Heart, {\n              size: 48,\n              className: \"mx-auto mb-4 text-gray-300\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 739,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-lg font-medium mb-2\",\n              children: \"No trails selected yet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 740,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm\",\n              children: \"Click on trails from the left to add them to your selection\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 741,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 738,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: [selectedTrails.map((trail, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white/80 rounded-xl p-4 card-shadow\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-start mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"font-semibold text-gray-800 text-lg\",\n                    children: [index + 1, \". \", trail.trail_name]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 749,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-gray-600\",\n                    children: trail.location\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 752,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 748,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleTrailSelect(trail),\n                  className: \"text-red-500 hover:text-red-700 text-sm font-medium\",\n                  children: \"Remove\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 754,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 747,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-600 mb-3\",\n                children: [trail.difficulty, \" \\u2022 \", trail.distance_km, \"km \\u2022 \", trail.estimated_time_hours, \"h \\u2022 \", trail.elevation_gain_m, \"m\\u2197\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 762,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-wrap gap-2 mb-3\",\n                children: trail.scenery_types.map((scenery, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"tag tag-green\",\n                  children: scenery\n                }, i, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 768,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 766,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm\",\n                children: [\"Group Match: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium text-green-600\",\n                  children: [calculateGroupMatch(trail).toFixed(0), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 775,\n                  columnNumber: 36\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 774,\n                columnNumber: 21\n              }, this)]\n            }, trail.trail_id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 746,\n              columnNumber: 19\n            }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white/80 rounded-xl p-4 mt-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-semibold text-gray-800 mb-3\",\n                children: \"Selection Summary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 784,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-2 gap-4 text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-600\",\n                    children: \"Total Distance:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 787,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium ml-2\",\n                    children: [selectedTrails.reduce((sum, trail) => sum + trail.distance_km, 0).toFixed(1), \"km\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 788,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 786,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-600\",\n                    children: \"Total Time:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 791,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium ml-2\",\n                    children: [selectedTrails.reduce((sum, trail) => sum + trail.estimated_time_hours, 0).toFixed(1), \" hours\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 792,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 790,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-600\",\n                    children: \"Average Rating:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 795,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium ml-2\",\n                    children: [selectedTrails.length > 0 ? (selectedTrails.reduce((sum, trail) => sum + trail.rating, 0) / selectedTrails.length).toFixed(1) : 0, \"/5.0\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 796,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 794,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-600\",\n                    children: \"Avg Group Match:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 799,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium ml-2\",\n                    children: [selectedTrails.length > 0 ? (selectedTrails.reduce((sum, trail) => sum + calculateGroupMatch(trail), 0) / selectedTrails.length).toFixed(0) : 0, \"%\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 800,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 798,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 785,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 783,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 744,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 731,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 643,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 278,\n    columnNumber: 5\n  }, this);\n};\n_s(InteractiveTrailSelector, \"VgPWCfP3Jz8s/v4WOo5Va5iwqJ8=\");\n_c = InteractiveTrailSelector;\nexport default InteractiveTrailSelector;\nvar _c;\n$RefreshReg$(_c, \"InteractiveTrailSelector\");","map":{"version":3,"names":["React","useState","useEffect","Search","Filter","MapPin","Clock","Mountain","Star","Users","Eye","Zap","TrendingUp","AlertCircle","RefreshCw","Heart","Activity","Award","jsxDEV","_jsxDEV","Fragment","_Fragment","InteractiveTrailSelector","_s","trails","setTrails","filteredTrails","setFilteredTrails","selectedTrails","setSelectedTrails","recommendations","setRecommendations","recommendationMetrics","setRecommendationMetrics","loading","setLoading","dataLoading","setDataLoading","error","setError","connectionStatus","setConnectionStatus","groupMembers","setGroupMembers","name","preferences","API_BASE_URL","filters","setFilters","difficulty","maxDistance","maxTime","maxElevation","trailType","sceneryTypes","minRating","searchTerm","setSearchTerm","showFilters","setShowFilters","showRecommendations","setShowRecommendations","checkHealth","response","fetch","ok","healthData","json","Error","status","err","message","loadTrails","retryCount","statusText","data","validTrails","filter","trail","trail_id","trail_name","distance_km","isNaN","scenery_types","map","Array","isArray","split","s","trim","console","log","length","setTimeout","getAllSceneryTypes","allTypes","flatMap","Set","filtered","toLowerCase","includes","location","parseFloat","estimated_time_hours","elevation_gain_m","parseInt","trail_type","hasMatchingScenery","some","selectedType","rating","handleFilterChange","key","value","prev","handleSceneryTypeToggle","sceneryType","type","handleTrailSelect","find","t","calculateGroupMatch","matchCount","forEach","member","memberMatch","pref","scenery","getRecommendations","method","headers","body","JSON","stringify","groupPreferences","k","metrics","clearFilters","className","children","fileName","_jsxFileName","lineNumber","columnNumber","size","onClick","index","style","animationDelay","i","placeholder","onChange","e","target","disabled","min","step","slice","groupMatchPercentage","averageMemberUtility","toFixed","averageRating","averageDistance","averageTime","averageElevation","diversityScore","regretScore","groupMatchPercentages","isSelected","groupMatch","reduce","sum","_c","$RefreshReg$"],"sources":["/Users/JINGSI/2024-NEU/CS5800_Algo/Optimal_TrailSelection_for_Groups/frontend/src/InteractiveTrailSelector.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Search, Filter, MapPin, Clock, Mountain, Star, Users, Eye, Zap, TrendingUp, AlertCircle, RefreshCw, Heart, Activity, Award } from 'lucide-react';\n\nconst InteractiveTrailSelector = () => {\n  const [trails, setTrails] = useState([]);\n  const [filteredTrails, setFilteredTrails] = useState([]);\n  const [selectedTrails, setSelectedTrails] = useState([]);\n  const [recommendations, setRecommendations] = useState([]);\n  const [recommendationMetrics, setRecommendationMetrics] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [dataLoading, setDataLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [connectionStatus, setConnectionStatus] = useState('checking');\n  \n  const [groupMembers, setGroupMembers] = useState([\n    { name: \"Alice\", preferences: [\"mountain\", \"lake\", \"waterfall\"] },\n    { name: \"Bob\", preferences: [\"ocean\", \"beach\", \"lake\"] },\n    { name: \"Carol\", preferences: [\"forest\", \"waterfall\", \"lake\"] }\n  ]);\n  \n  // API配置\n  const API_BASE_URL = 'http://localhost:3001/api';\n  \n  const [filters, setFilters] = useState({\n    difficulty: '',\n    maxDistance: '',\n    maxTime: '',\n    maxElevation: '',\n    trailType: '',\n    sceneryTypes: [],\n    minRating: ''\n  });\n  \n  const [searchTerm, setSearchTerm] = useState('');\n  const [showFilters, setShowFilters] = useState(false);\n  const [showRecommendations, setShowRecommendations] = useState(false);\n\n  // 检查后端健康状态\n  const checkHealth = async () => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/health`);\n      if (response.ok) {\n        const healthData = await response.json();\n        setConnectionStatus('connected');\n        setError(null);\n        return healthData;\n      } else {\n        throw new Error(`Health check failed: ${response.status}`);\n      }\n    } catch (err) {\n      setConnectionStatus('disconnected');\n      setError(`Backend connection failed: ${err.message}`);\n      throw err;\n    }\n  };\n\n  // 加载步道数据\n  const loadTrails = async (retryCount = 0) => {\n    setDataLoading(true);\n    setError(null);\n    \n    try {\n      // 检查后端健康状态\n      await checkHealth();\n      \n      // 获取步道数据\n      const response = await fetch(`${API_BASE_URL}/trails`);\n      \n      if (!response.ok) {\n        throw new Error(`Failed to fetch trails: ${response.status} ${response.statusText}`);\n      }\n      \n      const data = await response.json();\n      \n      // 验证和清理数据\n      const validTrails = data.filter(trail => {\n        return trail && \n               trail.trail_id && \n               trail.trail_name && \n               typeof trail.distance_km === 'number' &&\n               !isNaN(trail.distance_km) &&\n               trail.scenery_types;\n      }).map(trail => ({\n        ...trail,\n        // 确保scenery_types是数组\n        scenery_types: Array.isArray(trail.scenery_types) \n          ? trail.scenery_types \n          : (typeof trail.scenery_types === 'string' \n              ? trail.scenery_types.split(',').map(s => s.trim()) \n              : [])\n      }));\n      \n      setTrails(validTrails);\n      setFilteredTrails(validTrails);\n      setConnectionStatus('connected');\n      \n      console.log(`✅ Successfully loaded ${validTrails.length} trails`);\n      \n    } catch (error) {\n      console.error('❌ Error loading trails:', error);\n      setError(error.message);\n      setConnectionStatus('disconnected');\n      \n      if (retryCount < 3) {\n        setTimeout(() => loadTrails(retryCount + 1), 2000);\n      }\n    } finally {\n      setDataLoading(false);\n    }\n  };\n\n  // 获取所有独特的景观类型\n  const getAllSceneryTypes = () => {\n    const allTypes = trails.flatMap(trail => trail.scenery_types);\n    return [...new Set(allTypes)];\n  };\n\n  // 应用筛选条件\n  useEffect(() => {\n    let filtered = trails.filter(trail => {\n      // 搜索词筛选\n      if (searchTerm && !trail.trail_name.toLowerCase().includes(searchTerm.toLowerCase()) &&\n          !trail.location.toLowerCase().includes(searchTerm.toLowerCase())) {\n        return false;\n      }\n      \n      // 难度筛选\n      if (filters.difficulty && trail.difficulty !== filters.difficulty) {\n        return false;\n      }\n      \n      // 距离筛选\n      if (filters.maxDistance && trail.distance_km > parseFloat(filters.maxDistance)) {\n        return false;\n      }\n      \n      // 时间筛选\n      if (filters.maxTime && trail.estimated_time_hours > parseFloat(filters.maxTime)) {\n        return false;\n      }\n      \n      // 爬升筛选\n      if (filters.maxElevation && trail.elevation_gain_m > parseInt(filters.maxElevation)) {\n        return false;\n      }\n      \n      // 步道类型筛选\n      if (filters.trailType && trail.trail_type !== filters.trailType) {\n        return false;\n      }\n      \n      // 景观类型筛选\n      if (filters.sceneryTypes.length > 0) {\n        const hasMatchingScenery = filters.sceneryTypes.some(selectedType =>\n          trail.scenery_types.some(trailType => trailType.includes(selectedType))\n        );\n        if (!hasMatchingScenery) {\n          return false;\n        }\n      }\n      \n      // 评分筛选\n      if (filters.minRating && trail.rating < parseFloat(filters.minRating)) {\n        return false;\n      }\n      \n      return true;\n    });\n    \n    setFilteredTrails(filtered);\n  }, [trails, filters, searchTerm]);\n\n  // 处理筛选条件变化\n  const handleFilterChange = (key, value) => {\n    setFilters(prev => ({\n      ...prev,\n      [key]: value\n    }));\n  };\n\n  // 处理景观类型选择\n  const handleSceneryTypeToggle = (sceneryType) => {\n    setFilters(prev => ({\n      ...prev,\n      sceneryTypes: prev.sceneryTypes.includes(sceneryType)\n        ? prev.sceneryTypes.filter(type => type !== sceneryType)\n        : [...prev.sceneryTypes, sceneryType]\n    }));\n  };\n\n  // 添加步道到选择列表\n  const handleTrailSelect = (trail) => {\n    if (selectedTrails.find(t => t.trail_id === trail.trail_id)) {\n      setSelectedTrails(prev => prev.filter(t => t.trail_id !== trail.trail_id));\n    } else {\n      setSelectedTrails(prev => [...prev, trail]);\n    }\n  };\n\n  // 计算群体匹配度\n  const calculateGroupMatch = (trail) => {\n    let matchCount = 0;\n    groupMembers.forEach(member => {\n      const memberMatch = member.preferences.some(pref =>\n        trail.scenery_types.some(scenery => \n          scenery.toLowerCase().includes(pref.toLowerCase())\n        )\n      );\n      if (memberMatch) matchCount++;\n    });\n    return (matchCount / groupMembers.length) * 100;\n  };\n\n  // 获取推荐步道\n  const getRecommendations = async () => {\n    setLoading(true);\n    try {\n      const response = await fetch(`${API_BASE_URL}/trails/recommend`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          groupPreferences: groupMembers,\n          filters: filters,\n          k: 5\n        })\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        setRecommendations(data.recommendations);\n        setRecommendationMetrics(data.metrics);\n        setShowRecommendations(true);\n      } else {\n        console.error('Failed to get recommendations');\n      }\n    } catch (error) {\n      console.error('Error getting recommendations:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 清空筛选条件\n  const clearFilters = () => {\n    setFilters({\n      difficulty: '',\n      maxDistance: '',\n      maxTime: '',\n      maxElevation: '',\n      trailType: '',\n      sceneryTypes: [],\n      minRating: ''\n    });\n    setSearchTerm('');\n  };\n\n  // 初始加载\n  useEffect(() => {\n    loadTrails();\n  }, []);\n\n  // 加载状态\n  if (dataLoading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center\">\n        <div className=\"glass rounded-2xl p-8 text-center animate-fade-in\">\n          <div className=\"loading-spinner mx-auto mb-4\"></div>\n          <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">Loading Trail Data...</h2>\n          <p className=\"text-gray-600\">Connecting to backend and loading trails</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50\">\n      <div className=\"max-w-7xl mx-auto p-6\">\n        {/* 错误提示 */}\n        {error && (\n          <div className=\"glass rounded-xl p-6 mb-6 border border-red-200 animate-fade-in\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-3\">\n                <AlertCircle className=\"text-red-500\" size={24} />\n                <div>\n                  <h3 className=\"font-semibold text-red-800\">Connection Issue</h3>\n                  <p className=\"text-sm text-red-600\">{error}</p>\n                </div>\n              </div>\n              <button \n                onClick={() => loadTrails()} \n                className=\"btn-secondary\"\n              >\n                Retry\n              </button>\n            </div>\n          </div>\n        )}\n\n        {/* 头部区域 */}\n        <div className=\"glass rounded-2xl p-8 mb-8 card-shadow animate-fade-in\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <div>\n              <h1 className=\"text-4xl font-bold text-gray-800 mb-2 flex items-center gap-3\">\n                <div className=\"p-3 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl\">\n                  <Mountain className=\"text-white\" size={32} />\n                </div>\n                Trail Selection System\n              </h1>\n              <p className=\"text-gray-600 text-lg\">\n                AI-powered trail selection using Greedy MinMax Regret algorithm for optimal group satisfaction\n              </p>\n            </div>\n            \n            {/* 连接状态 */}\n            <div className=\"text-right\">\n              <div className={`status-indicator ${\n                connectionStatus === 'connected' ? 'status-connected' : 'status-disconnected'\n              }`}>\n                {connectionStatus === 'connected' ? (\n                  <>\n                    <div className=\"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse\"></div>\n                    Connected ({trails.length} trails)\n                  </>\n                ) : (\n                  <>\n                    <div className=\"w-2 h-2 bg-red-500 rounded-full mr-2\"></div>\n                    Disconnected\n                  </>\n                )}\n              </div>\n            </div>\n          </div>\n          \n          {/* 群体成员显示 */}\n          <div className=\"bg-white/80 rounded-xl p-6 backdrop-blur-sm\">\n            <h3 className=\"text-xl font-semibold text-gray-800 mb-4 flex items-center gap-2\">\n              <Users size={24} className=\"text-blue-600\" />\n              Group Member Preferences\n            </h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              {groupMembers.map((member, index) => (\n                <div key={index} className=\"glass rounded-xl p-4 card-shadow animate-slide-in\" style={{animationDelay: `${index * 0.1}s`}}>\n                  <h4 className=\"font-semibold text-gray-800 mb-3\">{member.name}</h4>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {member.preferences.map((pref, i) => (\n                      <span key={i} className=\"tag tag-blue\">\n                        {pref}\n                      </span>\n                    ))}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        {/* 控制面板 */}\n        <div className=\"glass rounded-2xl p-6 mb-8 card-shadow animate-fade-in\">\n          <div className=\"flex flex-col lg:flex-row gap-4 mb-6\">\n            <div className=\"flex-1 relative\">\n              <Search className=\"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400\" size={20} />\n              <input\n                type=\"text\"\n                placeholder=\"Search trail name or location...\"\n                className=\"input-modern w-full pl-12 pr-4\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n              />\n            </div>\n            <button\n              onClick={() => setShowFilters(!showFilters)}\n              className=\"btn-secondary flex items-center gap-2\"\n            >\n              <Filter size={20} />\n              {showFilters ? 'Hide Filters' : 'Show Filters'}\n            </button>\n            <button\n              onClick={getRecommendations}\n              disabled={loading || connectionStatus !== 'connected'}\n              className=\"btn-primary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {loading ? (\n                <div className=\"loading-spinner\"></div>\n              ) : (\n                <Zap size={20} />\n              )}\n              {loading ? 'Getting Recommendations...' : 'Get AI Recommendations'}\n            </button>\n            <button\n              onClick={clearFilters}\n              className=\"btn-secondary\"\n            >\n              Clear Filters\n            </button>\n          </div>\n\n          {/* 筛选面板 */}\n          {showFilters && (\n            <div className=\"bg-white/80 rounded-xl p-6 backdrop-blur-sm animate-fade-in\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Difficulty</label>\n                  <select\n                    value={filters.difficulty}\n                    onChange={(e) => handleFilterChange('difficulty', e.target.value)}\n                    className=\"input-modern w-full\"\n                  >\n                    <option value=\"\">All Difficulties</option>\n                    <option value=\"Easy\">Easy</option>\n                    <option value=\"Moderate\">Moderate</option>\n                    <option value=\"Hard\">Hard</option>\n                  </select>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Max Distance (km)</label>\n                  <input\n                    type=\"number\"\n                    value={filters.maxDistance}\n                    onChange={(e) => handleFilterChange('maxDistance', e.target.value)}\n                    className=\"input-modern w-full\"\n                    placeholder=\"e.g. 10\"\n                    min=\"0\"\n                    step=\"0.1\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Max Time (hours)</label>\n                  <input\n                    type=\"number\"\n                    value={filters.maxTime}\n                    onChange={(e) => handleFilterChange('maxTime', e.target.value)}\n                    className=\"input-modern w-full\"\n                    placeholder=\"e.g. 4\"\n                    min=\"0\"\n                    step=\"0.1\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Max Elevation (m)</label>\n                  <input\n                    type=\"number\"\n                    value={filters.maxElevation}\n                    onChange={(e) => handleFilterChange('maxElevation', e.target.value)}\n                    className=\"input-modern w-full\"\n                    placeholder=\"e.g. 500\"\n                    min=\"0\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Trail Type</label>\n                  <select\n                    value={filters.trailType}\n                    onChange={(e) => handleFilterChange('trailType', e.target.value)}\n                    className=\"input-modern w-full\"\n                  >\n                    <option value=\"\">All Types</option>\n                    <option value=\"Loop\">Loop</option>\n                    <option value=\"Out & Back\">Out & Back</option>\n                    <option value=\"Point-to-Point\">Point-to-Point</option>\n                  </select>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Min Rating</label>\n                  <select\n                    value={filters.minRating}\n                    onChange={(e) => handleFilterChange('minRating', e.target.value)}\n                    className=\"input-modern w-full\"\n                  >\n                    <option value=\"\">Any Rating</option>\n                    <option value=\"4.0\">4.0+</option>\n                    <option value=\"4.2\">4.2+</option>\n                    <option value=\"4.4\">4.4+</option>\n                    <option value=\"4.6\">4.6+</option>\n                  </select>\n                </div>\n              </div>\n\n              {/* Scenery Type Filters */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-3\">Scenery Features</label>\n                <div className=\"flex flex-wrap gap-2 max-h-32 overflow-y-auto\">\n                  {getAllSceneryTypes().slice(0, 20).map((sceneryType, index) => (\n                    <button\n                      key={index}\n                      onClick={() => handleSceneryTypeToggle(sceneryType)}\n                      className={`tag ${\n                        filters.sceneryTypes.includes(sceneryType)\n                          ? 'tag-green'\n                          : 'tag-blue'\n                      }`}\n                    >\n                      {sceneryType}\n                    </button>\n                  ))}\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* 结果统计 */}\n          <div className=\"flex justify-between items-center\">\n            <div className=\"flex items-center gap-4\">\n              <div className=\"flex items-center gap-2\">\n                <Eye size={16} className=\"text-blue-600\" />\n                <span className=\"text-gray-600\">\n                  Found <span className=\"font-semibold text-blue-600\">{filteredTrails.length}</span> trails\n                </span>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <Heart size={16} className=\"text-green-600\" />\n                <span className=\"text-gray-600\">\n                  Selected <span className=\"font-semibold text-green-600\">{selectedTrails.length}</span> trails\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* AI Recommendations */}\n        {showRecommendations && recommendations.length > 0 && (\n          <div className=\"glass rounded-2xl p-8 mb-8 card-shadow animate-fade-in\">\n            <h2 className=\"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-3\">\n              <div className=\"p-2 bg-gradient-to-r from-green-500 to-blue-600 rounded-lg\">\n                <TrendingUp className=\"text-white\" size={24} />\n              </div>\n              AI Recommendations ({recommendations.length})\n            </h2>\n            \n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n              <div>\n                <h3 className=\"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2\">\n                  <Award className=\"text-green-600\" size={20} />\n                  Recommended Trails\n                </h3>\n                <div className=\"space-y-4\">\n                  {recommendations.map((trail, index) => (\n                    <div key={trail.trail_id} className=\"bg-white/80 rounded-xl p-4 card-shadow\">\n                      <div className=\"flex justify-between items-start mb-3\">\n                        <div>\n                          <h4 className=\"font-semibold text-gray-800 text-lg\">\n                            {index + 1}. {trail.trail_name}\n                          </h4>\n                          <p className=\"text-sm text-gray-600\">{trail.location}</p>\n                        </div>\n                        <div className=\"flex items-center gap-1\">\n                          <Star className=\"text-yellow-500\" size={16} />\n                          <span className=\"text-sm font-medium text-gray-600\">{trail.rating}</span>\n                        </div>\n                      </div>\n                      \n                      <div className=\"text-sm text-gray-600 mb-3\">\n                        {trail.difficulty} • {trail.distance_km}km • {trail.estimated_time_hours}h • {trail.elevation_gain_m}m↗\n                      </div>\n                      \n                      <div className=\"flex flex-wrap gap-2 mb-3\">\n                        {trail.scenery_types.map((scenery, i) => (\n                          <span key={i} className=\"tag tag-green\">\n                            {scenery}\n                          </span>\n                        ))}\n                      </div>\n                      \n                      <div className=\"flex justify-between items-center text-sm\">\n                        <span>Group Match: <span className=\"font-medium text-green-600\">{trail.groupMatchPercentage}%</span></span>\n                        <span>Avg Utility: <span className=\"font-medium text-blue-600\">{(trail.averageMemberUtility * 100).toFixed(0)}%</span></span>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n              \n              <div>\n                <h3 className=\"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2\">\n                  <Activity className=\"text-purple-600\" size={20} />\n                  Recommendation Metrics\n                </h3>\n                {recommendationMetrics && (\n                  <div className=\"space-y-4\">\n                    <div className=\"bg-white/80 rounded-xl p-4\">\n                      <h4 className=\"font-medium text-gray-800 mb-3\">Overall Statistics</h4>\n                      <div className=\"space-y-2 text-sm\">\n                        <div className=\"flex justify-between\">\n                          <span>Average Rating:</span>\n                          <span className=\"font-medium\">{recommendationMetrics.averageRating.toFixed(1)}/5.0</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span>Average Distance:</span>\n                          <span className=\"font-medium\">{recommendationMetrics.averageDistance.toFixed(1)}km</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span>Average Time:</span>\n                          <span className=\"font-medium\">{recommendationMetrics.averageTime.toFixed(1)} hours</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span>Average Elevation:</span>\n                          <span className=\"font-medium\">{recommendationMetrics.averageElevation.toFixed(0)}m</span>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    <div className=\"bg-white/80 rounded-xl p-4\">\n                      <h4 className=\"font-medium text-gray-800 mb-3\">Algorithm Performance</h4>\n                      <div className=\"space-y-2 text-sm\">\n                        <div className=\"flex justify-between\">\n                          <span>Diversity Score:</span>\n                          <span className=\"font-medium\">{(recommendationMetrics.diversityScore * 100).toFixed(0)}%</span>\n                        </div>\n                        <div className=\"flex justify-between\">\n                          <span>Regret Score:</span>\n                          <span className=\"font-medium\">{recommendationMetrics.regretScore.toFixed(2)}</span>\n                        </div>\n                      </div>\n                    </div>\n                    \n                    <div className=\"bg-white/80 rounded-xl p-4\">\n                      <h4 className=\"font-medium text-gray-800 mb-3\">Group Satisfaction</h4>\n                      <div className=\"space-y-2 text-sm\">\n                        {groupMembers.map((member, index) => (\n                          <div key={member.name} className=\"flex justify-between\">\n                            <span>{member.name}:</span>\n                            <span className=\"font-medium\">{recommendationMetrics.groupMatchPercentages[index]}% match</span>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* 步道列表 */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n          {/* 可选步道 */}\n          <div className=\"glass rounded-2xl p-6 card-shadow animate-fade-in\">\n            <h2 className=\"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2\">\n              <Eye className=\"text-blue-600\" size={24} />\n              Available Trails ({filteredTrails.length})\n            </h2>\n            <div className=\"space-y-4 max-h-96 overflow-y-auto\">\n              {filteredTrails.slice(0, 20).map((trail) => {\n                const isSelected = selectedTrails.find(t => t.trail_id === trail.trail_id);\n                const groupMatch = calculateGroupMatch(trail);\n                \n                return (\n                  <div\n                    key={trail.trail_id}\n                    className={`bg-white/80 rounded-xl p-4 card-shadow cursor-pointer transition-all ${\n                      isSelected \n                        ? 'border-2 border-green-500 bg-green-50/50' \n                        : 'border border-transparent hover:border-blue-300 hover:bg-blue-50/30'\n                    }`}\n                    onClick={() => handleTrailSelect(trail)}\n                  >\n                    <div className=\"flex justify-between items-start mb-3\">\n                      <h3 className=\"font-semibold text-gray-800\">{trail.trail_name}</h3>\n                      <div className=\"flex items-center gap-1\">\n                        <Star className=\"text-yellow-500\" size={16} />\n                        <span className=\"text-sm font-medium text-gray-600\">{trail.rating}</span>\n                      </div>\n                    </div>\n                    \n                    <div className=\"flex items-center gap-4 text-sm text-gray-600 mb-3\">\n                      <span className=\"flex items-center gap-1\">\n                        <MapPin size={14} />\n                        {trail.location}\n                      </span>\n                      <span className=\"flex items-center gap-1\">\n                        <Clock size={14} />\n                        {trail.estimated_time_hours}h\n                      </span>\n                    </div>\n                    \n                    <div className=\"flex justify-between items-center mb-3\">\n                      <div className=\"flex gap-2\">\n                        <span className={`tag ${\n                          trail.difficulty === 'Easy' ? 'tag-green' :\n                          trail.difficulty === 'Moderate' ? 'tag-orange' :\n                          'tag-purple'\n                        }`}>\n                          {trail.difficulty}\n                        </span>\n                        <span className=\"tag tag-blue\">\n                          {trail.trail_type}\n                        </span>\n                      </div>\n                      <div className=\"text-sm text-gray-600\">\n                        {trail.distance_km}km • {trail.elevation_gain_m}m↗\n                      </div>\n                    </div>\n                    \n                    <div className=\"flex flex-wrap gap-1 mb-3\">\n                      {trail.scenery_types.map((scenery, index) => (\n                        <span key={index} className=\"tag tag-blue\">\n                          {scenery}\n                        </span>\n                      ))}\n                    </div>\n                    \n                    <div className=\"flex justify-between items-center\">\n                      <div className=\"text-sm text-gray-500\">\n                        Group Match: <span className=\"font-medium text-blue-600\">{groupMatch.toFixed(0)}%</span>\n                      </div>\n                      <button\n                        className={`px-4 py-2 rounded-lg text-sm font-medium transition-all ${\n                          isSelected \n                            ? 'bg-green-600 text-white' \n                            : 'bg-blue-600 text-white hover:bg-blue-700'\n                        }`}\n                      >\n                        {isSelected ? 'Selected' : 'Select'}\n                      </button>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n\n          {/* 已选择步道 */}\n          <div className=\"glass rounded-2xl p-6 card-shadow animate-fade-in\">\n            <h2 className=\"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2\">\n              <Heart className=\"text-green-600\" size={24} />\n              Selected Trails ({selectedTrails.length})\n            </h2>\n            \n            {selectedTrails.length === 0 ? (\n              <div className=\"text-center py-12 text-gray-500\">\n                <Heart size={48} className=\"mx-auto mb-4 text-gray-300\" />\n                <p className=\"text-lg font-medium mb-2\">No trails selected yet</p>\n                <p className=\"text-sm\">Click on trails from the left to add them to your selection</p>\n              </div>\n            ) : (\n              <div className=\"space-y-4\">\n                {selectedTrails.map((trail, index) => (\n                  <div key={trail.trail_id} className=\"bg-white/80 rounded-xl p-4 card-shadow\">\n                    <div className=\"flex justify-between items-start mb-3\">\n                      <div>\n                        <h3 className=\"font-semibold text-gray-800 text-lg\">\n                          {index + 1}. {trail.trail_name}\n                        </h3>\n                        <p className=\"text-sm text-gray-600\">{trail.location}</p>\n                      </div>\n                      <button\n                        onClick={() => handleTrailSelect(trail)}\n                        className=\"text-red-500 hover:text-red-700 text-sm font-medium\"\n                      >\n                        Remove\n                      </button>\n                    </div>\n                    \n                    <div className=\"text-sm text-gray-600 mb-3\">\n                      {trail.difficulty} • {trail.distance_km}km • {trail.estimated_time_hours}h • {trail.elevation_gain_m}m↗\n                    </div>\n                    \n                    <div className=\"flex flex-wrap gap-2 mb-3\">\n                      {trail.scenery_types.map((scenery, i) => (\n                        <span key={i} className=\"tag tag-green\">\n                          {scenery}\n                        </span>\n                      ))}\n                    </div>\n                    \n                    <div className=\"text-sm\">\n                      Group Match: <span className=\"font-medium text-green-600\">\n                        {calculateGroupMatch(trail).toFixed(0)}%\n                      </span>\n                    </div>\n                  </div>\n                ))}\n                \n                {/* 选择总结 */}\n                <div className=\"bg-white/80 rounded-xl p-4 mt-6\">\n                  <h4 className=\"font-semibold text-gray-800 mb-3\">Selection Summary</h4>\n                  <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                    <div>\n                      <span className=\"text-gray-600\">Total Distance:</span>\n                      <span className=\"font-medium ml-2\">{selectedTrails.reduce((sum, trail) => sum + trail.distance_km, 0).toFixed(1)}km</span>\n                    </div>\n                    <div>\n                      <span className=\"text-gray-600\">Total Time:</span>\n                      <span className=\"font-medium ml-2\">{selectedTrails.reduce((sum, trail) => sum + trail.estimated_time_hours, 0).toFixed(1)} hours</span>\n                    </div>\n                    <div>\n                      <span className=\"text-gray-600\">Average Rating:</span>\n                      <span className=\"font-medium ml-2\">{selectedTrails.length > 0 ? (selectedTrails.reduce((sum, trail) => sum + trail.rating, 0) / selectedTrails.length).toFixed(1) : 0}/5.0</span>\n                    </div>\n                    <div>\n                      <span className=\"text-gray-600\">Avg Group Match:</span>\n                      <span className=\"font-medium ml-2\">{selectedTrails.length > 0 ? (selectedTrails.reduce((sum, trail) => sum + calculateGroupMatch(trail), 0) / selectedTrails.length).toFixed(0) : 0}%</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default InteractiveTrailSelector;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}