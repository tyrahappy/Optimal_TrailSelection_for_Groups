{"ast":null,"code":"var _jsxFileName = \"/Users/JINGSI/2024-NEU/CS5800_Algo/Optimal_TrailSelection_for_Groups/frontend/src/InteractiveTrailSelector.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Search, Filter, MapPin, Clock, Mountain, Star, Users, Eye, Zap, TrendingUp, AlertCircle, RefreshCw, Heart, Activity, Award, ChevronDown, X, Plus, User, Settings, ArrowRight, ArrowLeft, Home } from 'lucide-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst InteractiveTrailSelector = () => {\n  _s();\n  var _groupMembers$current;\n  const [trails, setTrails] = useState([]);\n  const [recommendations, setRecommendations] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [dataLoading, setDataLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Group management\n  const [groupSize, setGroupSize] = useState('');\n  const [groupMembers, setGroupMembers] = useState([]);\n  const [currentStep, setCurrentStep] = useState('group-size'); // 'group-size', 'preferences', 'results'\n  const [currentMemberIndex, setCurrentMemberIndex] = useState(0);\n\n  // Available preferences\n  const availablePreferences = [{\n    id: 'distance',\n    label: 'Distance',\n    icon: MapPin,\n    options: ['Short (< 5km)', 'Medium (5-10km)', 'Long (> 10km)']\n  }, {\n    id: 'elevation',\n    label: 'Elevation Gain',\n    icon: Mountain,\n    options: ['Low (< 200m)', 'Medium (200-500m)', 'High (> 500m)']\n  }, {\n    id: 'time',\n    label: 'Duration',\n    icon: Clock,\n    options: ['Quick (< 2h)', 'Moderate (2-4h)', 'Long (> 4h)']\n  }, {\n    id: 'difficulty',\n    label: 'Difficulty',\n    icon: Activity,\n    options: ['Easy', 'Moderate', 'Hard']\n  }, {\n    id: 'scenery',\n    label: 'Scenery Type',\n    icon: Eye,\n    options: ['Mountain', 'Lake', 'Forest', 'Ocean', 'Waterfall', 'Alpine']\n  }];\n  const [filters, setFilters] = useState({\n    difficulty: '',\n    maxDistance: '',\n    maxTime: '',\n    minRating: ''\n  });\n  const [searchTerm, setSearchTerm] = useState('');\n\n  // Load trail data from backend\n  useEffect(() => {\n    const loadTrails = async () => {\n      setDataLoading(true);\n      setError(null);\n      try {\n        const response = await fetch('http://localhost:3001/api/trails');\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const data = await response.json();\n\n        // Process data format, ensure scenery_types is array\n        const processedData = data.map(trail => ({\n          ...trail,\n          distance_km: parseFloat(trail.distance_km),\n          estimated_time_hours: parseFloat(trail.estimated_time_hours),\n          elevation_gain_m: parseInt(trail.elevation_gain_m),\n          rating: parseFloat(trail.rating),\n          scenery_types: Array.isArray(trail.scenery_types) ? trail.scenery_types : typeof trail.scenery_types === 'string' ? trail.scenery_types.split(',').map(s => s.trim()) : []\n        }));\n        setTrails(processedData);\n        console.log(`✅ Successfully loaded ${processedData.length} trail data`);\n      } catch (err) {\n        console.error('Error loading trails:', err);\n        setError(`Failed to load trails: ${err.message}`);\n      } finally {\n        setDataLoading(false);\n      }\n    };\n    loadTrails();\n  }, []);\n  const handleFilterChange = (key, value) => {\n    setFilters(prev => ({\n      ...prev,\n      [key]: value\n    }));\n  };\n  const initializeGroupMembers = size => {\n    const members = [];\n    for (let i = 0; i < size; i++) {\n      members.push({\n        id: i,\n        name: `Person ${i + 1}`,\n        preferences: {}\n      });\n    }\n    setGroupMembers(members);\n    setCurrentStep('preferences');\n    setCurrentMemberIndex(0);\n  };\n  const updateMemberPreference = (memberId, preferenceType, value) => {\n    setGroupMembers(members => members.map(member => member.id === memberId ? {\n      ...member,\n      preferences: {\n        ...member.preferences,\n        [preferenceType]: value\n      }\n    } : member));\n  };\n  const nextMember = () => {\n    if (currentMemberIndex < groupMembers.length - 1) {\n      setCurrentMemberIndex(currentMemberIndex + 1);\n    } else {\n      // All members have set preferences, get recommendations\n      getRecommendations();\n    }\n  };\n  const prevMember = () => {\n    if (currentMemberIndex > 0) {\n      setCurrentMemberIndex(currentMemberIndex - 1);\n    }\n  };\n  const calculateGroupMatch = trail => {\n    if (groupMembers.length === 0) return 0;\n    let matchCount = 0;\n    groupMembers.forEach(member => {\n      const memberMatch = member.preferences.scenery && trail.scenery_types.some(scenery => scenery.toLowerCase().includes(member.preferences.scenery.toLowerCase()));\n      if (memberMatch) matchCount++;\n    });\n    return matchCount / groupMembers.length * 100;\n  };\n  const getRecommendations = async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const response = await fetch('http://localhost:3001/api/trails/recommend', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          groupPreferences: groupMembers,\n          filters: filters,\n          k: 5\n        })\n      });\n      if (!response.ok) {\n        throw new Error(`Recommendation request failed: ${response.status}`);\n      }\n      const data = await response.json();\n\n      // Add group match information to recommended trails\n      const recommendationsWithGroupMatch = data.recommendations.map(trail => ({\n        ...trail,\n        groupMatchPercentage: calculateGroupMatch(trail)\n      }));\n      setRecommendations(recommendationsWithGroupMatch);\n      setCurrentStep('results');\n      console.log('✅ Recommendation algorithm completed:', {\n        algorithm: data.algorithm,\n        totalCandidates: data.totalCandidates,\n        recommendationsCount: data.recommendations.length\n      });\n    } catch (error) {\n      console.error('❌ Recommendation algorithm error:', error);\n      setError(`Recommendation failed: ${error.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const resetToGroupSize = () => {\n    setCurrentStep('group-size');\n    setGroupSize('');\n    setGroupMembers([]);\n    setCurrentMemberIndex(0);\n    setRecommendations([]);\n  };\n  if (dataLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-white flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mb-6 mx-auto\",\n          children: /*#__PURE__*/_jsxDEV(Mountain, {\n            className: \"text-white\",\n            size: 32\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-semibold text-gray-800 mb-2\",\n          children: \"Loading Trail Data...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Connecting to backend and loading trails\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-white\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-6xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"border-b border-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-6xl mx-auto px-6 py-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center\",\n                children: /*#__PURE__*/_jsxDEV(Home, {\n                  className: \"text-white\",\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-2xl font-bold text-gray-900\",\n                children: \"Trail Explorer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#\",\n                className: \"text-gray-600 hover:text-gray-900\",\n                children: \"About\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#\",\n                className: \"text-gray-600 hover:text-gray-900\",\n                children: \"Help\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\",\n                children: \"Sign Up\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-6xl mx-auto px-6 py-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-red-50 border border-red-200 rounded-lg p-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n              className: \"text-red-500\",\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-red-700\",\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"max-w-6xl mx-auto px-6 py-12\",\n        children: [currentStep === 'group-size' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-2xl p-12 text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-24 h-24 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-6\",\n                children: /*#__PURE__*/_jsxDEV(Users, {\n                  className: \"text-white\",\n                  size: 48\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-3xl font-bold text-gray-900 mb-4\",\n                children: [\"Find your \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-blue-600\",\n                  children: \"perfect trail\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 31\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600 text-lg leading-relaxed\",\n                children: \"AI-powered trail recommendations for groups. We connect people, analyze preferences, and find the best hiking adventures.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-2xl font-semibold text-gray-900 mb-2\",\n                children: \"How many people in your group?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600 mb-6\",\n                children: \"Select the number of people in your hiking group\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700 mb-2\",\n                  children: \"Group Size\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: groupSize,\n                  onChange: e => {\n                    const size = parseInt(e.target.value);\n                    if (size > 0) {\n                      initializeGroupMembers(size);\n                    }\n                  },\n                  className: \"w-full p-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Select group size...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 279,\n                    columnNumber: 23\n                  }, this), [1, 2, 3, 4, 5, 6, 7, 8].map(size => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: size,\n                    children: [size, \" \", size === 1 ? 'Person' : 'People']\n                  }, size, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 281,\n                    columnNumber: 25\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-50 rounded-lg p-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-semibold text-gray-900 mb-3\",\n                children: \"What happens next?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"space-y-2 text-sm text-gray-600\",\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-2 h-2 bg-blue-600 rounded-full\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 293,\n                    columnNumber: 23\n                  }, this), \"Each person will set their preferences\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-2 h-2 bg-blue-600 rounded-full\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 297,\n                    columnNumber: 23\n                  }, this), \"Our AI analyzes group compatibility\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 296,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-2 h-2 bg-blue-600 rounded-full\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 301,\n                    columnNumber: 23\n                  }, this), \"Get top 5 personalized recommendations\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 13\n        }, this), currentStep === 'preferences' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"max-w-4xl mx-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center mb-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-3xl font-bold text-gray-900 mb-2\",\n              children: [(_groupMembers$current = groupMembers[currentMemberIndex]) === null || _groupMembers$current === void 0 ? void 0 : _groupMembers$current.name, \"'s Preferences\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: [currentMemberIndex + 1, \" of \", groupMembers.length, \" \\u2022 Set your hiking preferences\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-8\",\n            children: availablePreferences.map(pref => {\n              var _groupMembers$current2;\n              const Icon = pref.icon;\n              const currentValue = ((_groupMembers$current2 = groupMembers[currentMemberIndex]) === null || _groupMembers$current2 === void 0 ? void 0 : _groupMembers$current2.preferences[pref.id]) || '';\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white border border-gray-200 rounded-lg p-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-3 mb-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center\",\n                    children: /*#__PURE__*/_jsxDEV(Icon, {\n                      className: \"text-blue-600\",\n                      size: 20\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 331,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 330,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"font-semibold text-gray-900 text-lg\",\n                    children: pref.label\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 333,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"block text-sm font-medium text-gray-700 mb-2\",\n                    children: [\"Select your preferred \", pref.label.toLowerCase()]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 337,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    value: currentValue,\n                    onChange: e => updateMemberPreference(groupMembers[currentMemberIndex].id, pref.id, e.target.value),\n                    className: \"w-full p-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900\",\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"\",\n                      children: [\"Choose \", pref.label.toLowerCase(), \"...\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 345,\n                      columnNumber: 27\n                    }, this), pref.options.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: option,\n                      children: option\n                    }, option, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 347,\n                      columnNumber: 29\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 340,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 23\n                }, this)]\n              }, pref.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mt-12\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: prevMember,\n              disabled: currentMemberIndex === 0,\n              className: \"flex items-center gap-2 px-6 py-3 text-gray-600 hover:text-gray-900 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",\n              children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 19\n              }, this), \"Previous Person\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: nextMember,\n              disabled: loading,\n              className: \"px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\",\n              children: loading ? /*#__PURE__*/_jsxDEV(RefreshCw, {\n                className: \"animate-spin\",\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [currentMemberIndex === groupMembers.length - 1 ? 'Get Recommendations' : 'Next Person', /*#__PURE__*/_jsxDEV(ArrowRight, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 378,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 13\n        }, this), currentStep === 'results' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-3xl font-bold text-gray-900 mb-2\",\n              children: \"Top 5 Recommended Trails\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600\",\n              children: \"Based on your group's preferences\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 15\n          }, this), recommendations.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n            children: recommendations.map((trail, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-start justify-between mb-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center gap-2 mb-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-bold\",\n                        children: index + 1\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 402,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                        className: \"font-bold text-gray-900 text-lg\",\n                        children: trail.trail_name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 405,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 401,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-gray-600 flex items-center gap-1\",\n                      children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                        size: 14\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 408,\n                        columnNumber: 31\n                      }, this), trail.location]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 407,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 400,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center gap-1 bg-yellow-100 px-3 py-1 rounded-lg\",\n                    children: [/*#__PURE__*/_jsxDEV(Star, {\n                      className: \"text-yellow-500\",\n                      size: 16\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 413,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm font-semibold text-gray-700\",\n                      children: trail.rating\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 414,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 412,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-3 gap-4 mb-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-lg font-bold text-gray-900\",\n                      children: [trail.distance_km, \"km\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 420,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-xs text-gray-500\",\n                      children: \"Distance\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 421,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 419,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-lg font-bold text-gray-900\",\n                      children: [trail.estimated_time_hours, \"h\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 424,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-xs text-gray-500\",\n                      children: \"Duration\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 425,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 423,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-lg font-bold text-gray-900\",\n                      children: [trail.elevation_gain_m, \"m\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 428,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-xs text-gray-500\",\n                      children: \"Elevation\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 429,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 427,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2 mb-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `px-3 py-1 rounded-full text-sm font-medium ${trail.difficulty === 'Easy' ? 'bg-green-100 text-green-800' : trail.difficulty === 'Moderate' ? 'bg-yellow-100 text-yellow-800' : 'bg-red-100 text-red-800'}`,\n                    children: trail.difficulty\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 434,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium\",\n                    children: trail.trail_type\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 441,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex flex-wrap gap-1 mb-4\",\n                  children: [trail.scenery_types.slice(0, 3).map((scenery, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-xs\",\n                    children: scenery\n                  }, i, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 448,\n                    columnNumber: 29\n                  }, this)), trail.scenery_types.length > 3 && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"px-2 py-1 bg-gray-200 text-gray-600 rounded-full text-xs\",\n                    children: [\"+\", trail.scenery_types.length - 3, \" more\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 453,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 446,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-center text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-600\",\n                    children: [\"Group Match: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-semibold text-blue-600\",\n                      children: [calculateGroupMatch(trail).toFixed(0), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 461,\n                      columnNumber: 42\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 460,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-600\",\n                    children: [\"Utility: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"font-semibold text-green-600\",\n                      children: [((trail.averageMemberUtility || 0.8) * 100).toFixed(0), \"%\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 464,\n                      columnNumber: 38\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 463,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 459,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 23\n              }, this)\n            }, trail.trail_id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-center gap-4 pt-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: resetToGroupSize,\n              className: \"px-6 py-3 text-gray-600 hover:text-gray-900 transition-colors\",\n              children: \"Start Over\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setCurrentStep('preferences'),\n              className: \"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\",\n              children: \"Edit Preferences\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 482,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 203,\n    columnNumber: 5\n  }, this);\n};\n_s(InteractiveTrailSelector, \"PgrtEnsaNKHnJGEEsNu2qxx/pdc=\");\n_c = InteractiveTrailSelector;\nexport default InteractiveTrailSelector;\nvar _c;\n$RefreshReg$(_c, \"InteractiveTrailSelector\");","map":{"version":3,"names":["React","useState","useEffect","Search","Filter","MapPin","Clock","Mountain","Star","Users","Eye","Zap","TrendingUp","AlertCircle","RefreshCw","Heart","Activity","Award","ChevronDown","X","Plus","User","Settings","ArrowRight","ArrowLeft","Home","jsxDEV","_jsxDEV","Fragment","_Fragment","InteractiveTrailSelector","_s","_groupMembers$current","trails","setTrails","recommendations","setRecommendations","loading","setLoading","dataLoading","setDataLoading","error","setError","groupSize","setGroupSize","groupMembers","setGroupMembers","currentStep","setCurrentStep","currentMemberIndex","setCurrentMemberIndex","availablePreferences","id","label","icon","options","filters","setFilters","difficulty","maxDistance","maxTime","minRating","searchTerm","setSearchTerm","loadTrails","response","fetch","ok","Error","status","data","json","processedData","map","trail","distance_km","parseFloat","estimated_time_hours","elevation_gain_m","parseInt","rating","scenery_types","Array","isArray","split","s","trim","console","log","length","err","message","handleFilterChange","key","value","prev","initializeGroupMembers","size","members","i","push","name","preferences","updateMemberPreference","memberId","preferenceType","member","nextMember","getRecommendations","prevMember","calculateGroupMatch","matchCount","forEach","memberMatch","scenery","some","toLowerCase","includes","method","headers","body","JSON","stringify","groupPreferences","k","recommendationsWithGroupMatch","groupMatchPercentage","algorithm","totalCandidates","recommendationsCount","resetToGroupSize","className","children","fileName","_jsxFileName","lineNumber","columnNumber","href","onChange","e","target","pref","_groupMembers$current2","Icon","currentValue","option","onClick","disabled","index","trail_name","location","trail_type","slice","toFixed","averageMemberUtility","trail_id","_c","$RefreshReg$"],"sources":["/Users/JINGSI/2024-NEU/CS5800_Algo/Optimal_TrailSelection_for_Groups/frontend/src/InteractiveTrailSelector.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Search, Filter, MapPin, Clock, Mountain, Star, Users, Eye, Zap, TrendingUp, AlertCircle, RefreshCw, Heart, Activity, Award, ChevronDown, X, Plus, User, Settings, ArrowRight, ArrowLeft, Home } from 'lucide-react';\n\nconst InteractiveTrailSelector = () => {\n  const [trails, setTrails] = useState([]);\n  const [recommendations, setRecommendations] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [dataLoading, setDataLoading] = useState(false);\n  const [error, setError] = useState(null);\n  \n  // Group management\n  const [groupSize, setGroupSize] = useState('');\n  const [groupMembers, setGroupMembers] = useState([]);\n  const [currentStep, setCurrentStep] = useState('group-size'); // 'group-size', 'preferences', 'results'\n  const [currentMemberIndex, setCurrentMemberIndex] = useState(0);\n  \n  // Available preferences\n  const availablePreferences = [\n    { id: 'distance', label: 'Distance', icon: MapPin, options: ['Short (< 5km)', 'Medium (5-10km)', 'Long (> 10km)'] },\n    { id: 'elevation', label: 'Elevation Gain', icon: Mountain, options: ['Low (< 200m)', 'Medium (200-500m)', 'High (> 500m)'] },\n    { id: 'time', label: 'Duration', icon: Clock, options: ['Quick (< 2h)', 'Moderate (2-4h)', 'Long (> 4h)'] },\n    { id: 'difficulty', label: 'Difficulty', icon: Activity, options: ['Easy', 'Moderate', 'Hard'] },\n    { id: 'scenery', label: 'Scenery Type', icon: Eye, options: ['Mountain', 'Lake', 'Forest', 'Ocean', 'Waterfall', 'Alpine'] }\n  ];\n  \n  const [filters, setFilters] = useState({\n    difficulty: '',\n    maxDistance: '',\n    maxTime: '',\n    minRating: ''\n  });\n  \n  const [searchTerm, setSearchTerm] = useState('');\n\n  // Load trail data from backend\n  useEffect(() => {\n    const loadTrails = async () => {\n      setDataLoading(true);\n      setError(null);\n      \n      try {\n        const response = await fetch('http://localhost:3001/api/trails');\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        const data = await response.json();\n        \n        // Process data format, ensure scenery_types is array\n        const processedData = data.map(trail => ({\n          ...trail,\n          distance_km: parseFloat(trail.distance_km),\n          estimated_time_hours: parseFloat(trail.estimated_time_hours),\n          elevation_gain_m: parseInt(trail.elevation_gain_m),\n          rating: parseFloat(trail.rating),\n          scenery_types: Array.isArray(trail.scenery_types) \n            ? trail.scenery_types \n            : (typeof trail.scenery_types === 'string' \n                ? trail.scenery_types.split(',').map(s => s.trim()) \n                : [])\n        }));\n        \n        setTrails(processedData);\n        console.log(`✅ Successfully loaded ${processedData.length} trail data`);\n      } catch (err) {\n        console.error('Error loading trails:', err);\n        setError(`Failed to load trails: ${err.message}`);\n      } finally {\n        setDataLoading(false);\n      }\n    };\n\n    loadTrails();\n  }, []);\n\n  const handleFilterChange = (key, value) => {\n    setFilters(prev => ({\n      ...prev,\n      [key]: value\n    }));\n  };\n\n  const initializeGroupMembers = (size) => {\n    const members = [];\n    for (let i = 0; i < size; i++) {\n      members.push({\n        id: i,\n        name: `Person ${i + 1}`,\n        preferences: {}\n      });\n    }\n    setGroupMembers(members);\n    setCurrentStep('preferences');\n    setCurrentMemberIndex(0);\n  };\n\n  const updateMemberPreference = (memberId, preferenceType, value) => {\n    setGroupMembers(members => \n      members.map(member => \n        member.id === memberId \n          ? { ...member, preferences: { ...member.preferences, [preferenceType]: value } }\n          : member\n      )\n    );\n  };\n\n  const nextMember = () => {\n    if (currentMemberIndex < groupMembers.length - 1) {\n      setCurrentMemberIndex(currentMemberIndex + 1);\n    } else {\n      // All members have set preferences, get recommendations\n      getRecommendations();\n    }\n  };\n\n  const prevMember = () => {\n    if (currentMemberIndex > 0) {\n      setCurrentMemberIndex(currentMemberIndex - 1);\n    }\n  };\n\n  const calculateGroupMatch = (trail) => {\n    if (groupMembers.length === 0) return 0;\n    let matchCount = 0;\n    groupMembers.forEach(member => {\n      const memberMatch = member.preferences.scenery && \n        trail.scenery_types.some(scenery => \n          scenery.toLowerCase().includes(member.preferences.scenery.toLowerCase())\n        );\n      if (memberMatch) matchCount++;\n    });\n    return (matchCount / groupMembers.length) * 100;\n  };\n\n  const getRecommendations = async () => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      const response = await fetch('http://localhost:3001/api/trails/recommend', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          groupPreferences: groupMembers,\n          filters: filters,\n          k: 5\n        })\n      });\n\n      if (!response.ok) {\n        throw new Error(`Recommendation request failed: ${response.status}`);\n      }\n\n      const data = await response.json();\n      \n      // Add group match information to recommended trails\n      const recommendationsWithGroupMatch = data.recommendations.map(trail => ({\n        ...trail,\n        groupMatchPercentage: calculateGroupMatch(trail)\n      }));\n      \n      setRecommendations(recommendationsWithGroupMatch);\n      setCurrentStep('results');\n      \n      console.log('✅ Recommendation algorithm completed:', {\n        algorithm: data.algorithm,\n        totalCandidates: data.totalCandidates,\n        recommendationsCount: data.recommendations.length\n      });\n      \n    } catch (error) {\n      console.error('❌ Recommendation algorithm error:', error);\n      setError(`Recommendation failed: ${error.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const resetToGroupSize = () => {\n    setCurrentStep('group-size');\n    setGroupSize('');\n    setGroupMembers([]);\n    setCurrentMemberIndex(0);\n    setRecommendations([]);\n  };\n\n  if (dataLoading) {\n    return (\n      <div className=\"min-h-screen bg-white flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mb-6 mx-auto\">\n            <Mountain className=\"text-white\" size={32} />\n          </div>\n          <h2 className=\"text-2xl font-semibold text-gray-800 mb-2\">Loading Trail Data...</h2>\n          <p className=\"text-gray-600\">Connecting to backend and loading trails</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-white\">\n      <div className=\"max-w-6xl mx-auto\">\n        {/* Header */}\n        <header className=\"border-b border-gray-200\">\n          <div className=\"max-w-6xl mx-auto px-6 py-4\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center\">\n                  <Home className=\"text-white\" size={20} />\n                </div>\n                <h1 className=\"text-2xl font-bold text-gray-900\">Trail Explorer</h1>\n              </div>\n              <div className=\"flex items-center gap-6\">\n                <a href=\"#\" className=\"text-gray-600 hover:text-gray-900\">About</a>\n                <a href=\"#\" className=\"text-gray-600 hover:text-gray-900\">Help</a>\n                <button className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\">\n                  Sign Up\n                </button>\n              </div>\n            </div>\n          </div>\n        </header>\n\n        {/* Error Alert */}\n        {error && (\n          <div className=\"max-w-6xl mx-auto px-6 py-4\">\n            <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n              <div className=\"flex items-center gap-2\">\n                <AlertCircle className=\"text-red-500\" size={20} />\n                <span className=\"text-red-700\">{error}</span>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Main Content */}\n        <main className=\"max-w-6xl mx-auto px-6 py-12\">\n          {/* Step 1: Group Size Selection */}\n          {currentStep === 'group-size' && (\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center\">\n              {/* Left Column - Image */}\n              <div className=\"relative\">\n                <div className=\"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-2xl p-12 text-center\">\n                  <div className=\"w-24 h-24 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-6\">\n                    <Users className=\"text-white\" size={48} />\n                  </div>\n                  <h2 className=\"text-3xl font-bold text-gray-900 mb-4\">\n                    Find your <span className=\"text-blue-600\">perfect trail</span>\n                  </h2>\n                  <p className=\"text-gray-600 text-lg leading-relaxed\">\n                    AI-powered trail recommendations for groups. \n                    We connect people, analyze preferences, and find the best hiking adventures.\n                  </p>\n                </div>\n              </div>\n\n              {/* Right Column - Form */}\n              <div className=\"space-y-8\">\n                <div>\n                  <h3 className=\"text-2xl font-semibold text-gray-900 mb-2\">How many people in your group?</h3>\n                  <p className=\"text-gray-600 mb-6\">Select the number of people in your hiking group</p>\n                  \n                  <div className=\"space-y-4\">\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Group Size\n                    </label>\n                    <select\n                      value={groupSize}\n                      onChange={(e) => {\n                        const size = parseInt(e.target.value);\n                        if (size > 0) {\n                          initializeGroupMembers(size);\n                        }\n                      }}\n                      className=\"w-full p-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900\"\n                    >\n                      <option value=\"\">Select group size...</option>\n                      {[1, 2, 3, 4, 5, 6, 7, 8].map((size) => (\n                        <option key={size} value={size}>\n                          {size} {size === 1 ? 'Person' : 'People'}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n                </div>\n\n                <div className=\"bg-gray-50 rounded-lg p-6\">\n                  <h4 className=\"font-semibold text-gray-900 mb-3\">What happens next?</h4>\n                  <ul className=\"space-y-2 text-sm text-gray-600\">\n                    <li className=\"flex items-center gap-2\">\n                      <div className=\"w-2 h-2 bg-blue-600 rounded-full\"></div>\n                      Each person will set their preferences\n                    </li>\n                    <li className=\"flex items-center gap-2\">\n                      <div className=\"w-2 h-2 bg-blue-600 rounded-full\"></div>\n                      Our AI analyzes group compatibility\n                    </li>\n                    <li className=\"flex items-center gap-2\">\n                      <div className=\"w-2 h-2 bg-blue-600 rounded-full\"></div>\n                      Get top 5 personalized recommendations\n                    </li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Step 2: Preferences Selection */}\n          {currentStep === 'preferences' && (\n            <div className=\"max-w-4xl mx-auto\">\n              <div className=\"text-center mb-8\">\n                <h2 className=\"text-3xl font-bold text-gray-900 mb-2\">\n                  {groupMembers[currentMemberIndex]?.name}'s Preferences\n                </h2>\n                <p className=\"text-gray-600\">\n                  {currentMemberIndex + 1} of {groupMembers.length} • Set your hiking preferences\n                </p>\n              </div>\n              \n              <div className=\"space-y-8\">\n                {availablePreferences.map((pref) => {\n                  const Icon = pref.icon;\n                  const currentValue = groupMembers[currentMemberIndex]?.preferences[pref.id] || '';\n                  \n                  return (\n                    <div key={pref.id} className=\"bg-white border border-gray-200 rounded-lg p-6\">\n                      <div className=\"flex items-center gap-3 mb-4\">\n                        <div className=\"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center\">\n                          <Icon className=\"text-blue-600\" size={20} />\n                        </div>\n                        <h3 className=\"font-semibold text-gray-900 text-lg\">{pref.label}</h3>\n                      </div>\n                      \n                      <div>\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                          Select your preferred {pref.label.toLowerCase()}\n                        </label>\n                        <select\n                          value={currentValue}\n                          onChange={(e) => updateMemberPreference(groupMembers[currentMemberIndex].id, pref.id, e.target.value)}\n                          className=\"w-full p-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900\"\n                        >\n                          <option value=\"\">Choose {pref.label.toLowerCase()}...</option>\n                          {pref.options.map((option) => (\n                            <option key={option} value={option}>\n                              {option}\n                            </option>\n                          ))}\n                        </select>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n              \n              <div className=\"flex justify-between items-center mt-12\">\n                <button\n                  onClick={prevMember}\n                  disabled={currentMemberIndex === 0}\n                  className=\"flex items-center gap-2 px-6 py-3 text-gray-600 hover:text-gray-900 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  <ArrowLeft size={16} />\n                  Previous Person\n                </button>\n                \n                <button\n                  onClick={nextMember}\n                  disabled={loading}\n                  className=\"px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\"\n                >\n                  {loading ? (\n                    <RefreshCw className=\"animate-spin\" size={16} />\n                  ) : (\n                    <>\n                      {currentMemberIndex === groupMembers.length - 1 ? 'Get Recommendations' : 'Next Person'}\n                      <ArrowRight size={16} />\n                    </>\n                  )}\n                </button>\n              </div>\n            </div>\n          )}\n\n          {/* Step 3: Results */}\n          {currentStep === 'results' && (\n            <div className=\"space-y-8\">\n              <div className=\"text-center\">\n                <h2 className=\"text-3xl font-bold text-gray-900 mb-2\">Top 5 Recommended Trails</h2>\n                <p className=\"text-gray-600\">Based on your group's preferences</p>\n              </div>\n              \n              {recommendations.length > 0 && (\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  {recommendations.map((trail, index) => (\n                    <div key={trail.trail_id} className=\"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow\">\n                      <div className=\"p-6\">\n                        <div className=\"flex items-start justify-between mb-4\">\n                          <div>\n                            <div className=\"flex items-center gap-2 mb-2\">\n                              <span className=\"w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-xs font-bold\">\n                                {index + 1}\n                              </span>\n                              <h3 className=\"font-bold text-gray-900 text-lg\">{trail.trail_name}</h3>\n                            </div>\n                            <p className=\"text-gray-600 flex items-center gap-1\">\n                              <MapPin size={14} />\n                              {trail.location}\n                            </p>\n                          </div>\n                          <div className=\"flex items-center gap-1 bg-yellow-100 px-3 py-1 rounded-lg\">\n                            <Star className=\"text-yellow-500\" size={16} />\n                            <span className=\"text-sm font-semibold text-gray-700\">{trail.rating}</span>\n                          </div>\n                        </div>\n                        \n                        <div className=\"grid grid-cols-3 gap-4 mb-4\">\n                          <div className=\"text-center\">\n                            <div className=\"text-lg font-bold text-gray-900\">{trail.distance_km}km</div>\n                            <div className=\"text-xs text-gray-500\">Distance</div>\n                          </div>\n                          <div className=\"text-center\">\n                            <div className=\"text-lg font-bold text-gray-900\">{trail.estimated_time_hours}h</div>\n                            <div className=\"text-xs text-gray-500\">Duration</div>\n                          </div>\n                          <div className=\"text-center\">\n                            <div className=\"text-lg font-bold text-gray-900\">{trail.elevation_gain_m}m</div>\n                            <div className=\"text-xs text-gray-500\">Elevation</div>\n                          </div>\n                        </div>\n                        \n                        <div className=\"flex items-center gap-2 mb-4\">\n                          <span className={`px-3 py-1 rounded-full text-sm font-medium ${\n                            trail.difficulty === 'Easy' ? 'bg-green-100 text-green-800' :\n                            trail.difficulty === 'Moderate' ? 'bg-yellow-100 text-yellow-800' :\n                            'bg-red-100 text-red-800'\n                          }`}>\n                            {trail.difficulty}\n                          </span>\n                          <span className=\"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium\">\n                            {trail.trail_type}\n                          </span>\n                        </div>\n                        \n                        <div className=\"flex flex-wrap gap-1 mb-4\">\n                          {trail.scenery_types.slice(0, 3).map((scenery, i) => (\n                            <span key={i} className=\"px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-xs\">\n                              {scenery}\n                            </span>\n                          ))}\n                          {trail.scenery_types.length > 3 && (\n                            <span className=\"px-2 py-1 bg-gray-200 text-gray-600 rounded-full text-xs\">\n                              +{trail.scenery_types.length - 3} more\n                            </span>\n                          )}\n                        </div>\n                        \n                        <div className=\"flex justify-between items-center text-sm\">\n                          <span className=\"text-gray-600\">\n                            Group Match: <span className=\"font-semibold text-blue-600\">{calculateGroupMatch(trail).toFixed(0)}%</span>\n                          </span>\n                          <span className=\"text-gray-600\">\n                            Utility: <span className=\"font-semibold text-green-600\">{((trail.averageMemberUtility || 0.8) * 100).toFixed(0)}%</span>\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n\n              {/* Navigation */}\n              <div className=\"flex justify-center gap-4 pt-8\">\n                <button\n                  onClick={resetToGroupSize}\n                  className=\"px-6 py-3 text-gray-600 hover:text-gray-900 transition-colors\"\n                >\n                  Start Over\n                </button>\n                \n                <button\n                  onClick={() => setCurrentStep('preferences')}\n                  className=\"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n                >\n                  Edit Preferences\n                </button>\n              </div>\n            </div>\n          )}\n        </main>\n      </div>\n    </div>\n  );\n};\n\nexport default InteractiveTrailSelector;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}